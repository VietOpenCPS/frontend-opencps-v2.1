(function(t){function e(e){for(var r,n,s=e[0],l=e[1],p=e[2],c=0,u=[];c<s.length;c++)n=s[c],i[n]&&u.push(i[n][0]),i[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(u.length)u.shift()();return o.push.apply(o,p||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,n=1;n<a.length;n++){var l=a[n];0!==i[l]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},i={app:0},o=[];function n(t){return s.p+"../../wars/opencps-store/src/main/webapp/js/cli/dynamic_report_ver3/app/js/"+({HoanThienBoSungHoSoDetail:"HoanThienBoSungHoSoDetail",Landing:"Landing",TiepNhanHoSoDetail:"TiepNhanHoSoDetail"}[t]||t)+".js"}function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise(function(e,r){a=i[t]=[e,r]});e.push(a[2]=r);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=n(t),o=function(e){l.onerror=l.onload=null,clearTimeout(p);var a=i[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,n=new Error("Loading chunk "+t+" failed.\n("+r+": "+o+")");n.type=r,n.request=o,a[1](n)}i[t]=void 0}};var p=setTimeout(function(){o({type:"timeout",target:l})},12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],p=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=p;o.push(["56d7","chunk-vendors"]),a()})({"19cd":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-menu",{attrs:{"close-on-content-click":!0,lazy:"",transition:"fade-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"}},[a("v-text-field",{attrs:{slot:"activator","append-icon":"event",rules:[t.rules.required]},on:{change:function(e){t.toDate=t.parseDate(t.toDateFormatted)}},slot:"activator",model:{value:t.toDateFormatted,callback:function(e){t.toDateFormatted=e},expression:"toDateFormatted"}},[a("template",{slot:"label"},[t._v(t._s(t.item["label"])+" "),t.item.required?a("span",{staticClass:"red--text darken-3"},[t._v("*")]):t._e()])],2),a("v-date-picker",{attrs:{max:t.maxDate,min:t.minDate,"no-title":"",locale:"vi","first-day-of-week":1},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)},i=[],o=a("830f"),n=o["a"],s=a("2877"),l=a("6544"),p=a.n(l),c=a("2e4b"),d=a("e449"),u=a("2677"),g=Object(s["a"])(n,r,i,!1,null,null,null);g.options.__file="DatetimePicker.vue";e["a"]=g.exports;p()(g,{VDatePicker:c["a"],VMenu:d["a"],VTextField:u["a"]})},"3c87":function(t,e,a){"use strict";var r="\n    {\n        getDynamicReports(start: -1, end: -1) {\n            dynamicReportId\n            reportCode\n            reportName\n            filterConfig\n            tableConfig\n            userConfig\n            sharing\n        }\n    }\n",i='\n    mutation {\n        updateDynamicReport(\n            body: "INPUTBODY"\n        ) {\n            dynamicReportId\n        }\n    }\n';e["a"]={getDynamicReports:r,updateDynamicReport:i}},4270:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-expansion-panel",{attrs:{value:[!0],expand:"",readonly:""}},[a("v-expansion-panel-content",{attrs:{"expand-icon":"mdi-menu-down"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Thông tin chung hồ sơ")]),a("v-card",[a("v-card-text",{staticClass:"py-0"},[a("v-layout",{staticClass:"px-2 py-2",attrs:{wrap:""}},[1!==t.originality?a("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Chủ hồ sơ: ")]),a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.applicantName))])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Số CMND/ căn cước: ")]),a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.applicantIdNo))])]),a("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[a("span",{staticClass:"pr-2"},[t._v("Địa chỉ: ")]),a("v-tooltip",{attrs:{top:""}},[a("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.thongTinChiTietHoSo.address)+" "+t._s(t.thongTinChiTietHoSo.wardName)),t.thongTinChiTietHoSo.wardName?a("span",[t._v(", "+t._s(t.thongTinChiTietHoSo.districtName)+", "+t._s(t.thongTinChiTietHoSo.cityName))]):t._e()]),a("span",{staticClass:"pl-0"},[t._v(" "+t._s(t.thongTinChiTietHoSo.address)+" "+t._s(t.thongTinChiTietHoSo.wardName)),t.thongTinChiTietHoSo.wardName?a("span",[t._v(", "+t._s(t.thongTinChiTietHoSo.districtName)+", "+t._s(t.thongTinChiTietHoSo.cityName))]):t._e()])])],1),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pl-0"},[t._v("Thư điện tử: ")]),a("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactEmail)+" ")])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Điện thoại: ")]),a("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactTelNo)+" ")])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("v-menu",{staticStyle:{position:"relative !important"},attrs:{"offset-y":""}},[a("span",{staticClass:"pr-2",attrs:{slot:"activator"},slot:"activator"},[t._v("\n                    Thông tin người nộp\n                    "),a("v-icon",{staticStyle:{position:"absolute",right:"-12px",top:"-2px"},attrs:{color:"blue",size:"22"}},[t._v("arrow_drop_down")])],1),a("v-list",{staticClass:"px-3 py-2"},[a("div",{staticClass:"xs12 sm12 py-1"},[a("span",{staticClass:"pr-2"},[t._v("Tên người nộp:")]),t.thongTinChiTietHoSo.online?a("span",{staticClass:"pl-0 text-bold"},[t._v(" \n                        "+t._s(t.thongTinChiTietHoSo.applicantName)+"\n                      ")]):a("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.delegateName)+" ")])]),a("div",{staticClass:"xs12 sm12 py-1"},[a("span",{staticClass:"pr-2"},[t._v("Số CMND/ căn cước: ")]),t.thongTinChiTietHoSo.online?a("span",{staticClass:"pl-0 text-bold"},[t._v(" \n                        "+t._s(t.thongTinChiTietHoSo.applicantIdNo)+"\n                      ")]):a("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.delegateIdNo)+" ")])]),a("div",{staticClass:"xs12 sm12 py-1"},[a("span",{staticClass:"pr-2"},[t._v("Địa chỉ:")]),t.thongTinChiTietHoSo.online?a("span",{staticClass:"pl-0 text-bold"},[t._v(" \n                        "+t._s(t.thongTinChiTietHoSo.address)+" "+t._s(t.thongTinChiTietHoSo.wardName)+"\n                        "),t.thongTinChiTietHoSo.wardName?a("span",[t._v(", "+t._s(t.thongTinChiTietHoSo.districtName)+", "+t._s(t.thongTinChiTietHoSo.cityName))]):t._e()]):a("span",{staticClass:"pl-0 text-bold"},[t._v(" \n                        "+t._s(t.thongTinChiTietHoSo.delegateAddress)+" "+t._s(t.thongTinChiTietHoSo.delegateWardName)+"\n                        "),t.thongTinChiTietHoSo.delegateWardName?a("span",[t._v(", "+t._s(t.thongTinChiTietHoSo.delegateDistrictName)+", "+t._s(t.thongTinChiTietHoSo.delegateCityName))]):t._e()])]),a("div",{staticClass:"xs12 sm12 py-1"},[a("span",{staticClass:"pr-2"},[t._v("Thư điện tử:")]),t.thongTinChiTietHoSo.online?a("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactEmail)+" ")]):a("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.delegateEmail)+" ")])]),a("div",{staticClass:"xs12 sm12 py-1"},[a("span",{staticClass:"pr-2"},[t._v("Số điện thoại:")]),t.thongTinChiTietHoSo.online?a("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactTelNo)+" ")]):a("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.delegateTelNo)+" ")])])])],1)],1)]):t._e(),1===t.originality?a("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Mã hồ sơ: ")]),a("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.dossierNo)+" ")])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Cơ quan: ")]),a("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.govAgencyName)+" ")])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Trạng thái: ")]),a("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierStatusText)+" ")])])]):t._e(),1!==t.originality?a("v-flex",{attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[t.thongTinChiTietHoSo.online?a("span",{staticClass:"pr-2"},[t._v("Ngày gửi trực tuyến: ")]):a("span",{staticClass:"pr-2"},[t._v("Ngày nộp hồ sơ: ")]),t.thongTinChiTietHoSo.online?a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.submitDate)+" ")]):a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.receiveDate)+" ")])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Ngày tiếp nhận: ")]),a("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.receiveDate))])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Thời hạn giải quyết: ")]),t.thongTinChiTietHoSo.durationCount>0?a("span",{staticClass:"pl-0 text-bold "},[t._v(" \n                  "+t._s(t.durationText(t.thongTinChiTietHoSo.durationUnit,t.thongTinChiTietHoSo.durationCount))+" làm việc \n                ")]):a("span",{staticClass:"pl-0 text-bold "},[t._v("\n                  Không quy định\n                ")])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Ngày hẹn trả: ")]),a("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dueDate))])])]):a("v-flex",{attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[t.thongTinChiTietHoSo.online?a("span",{staticClass:"pr-2"},[t._v("Ngày gửi trực tuyến: ")]):a("span",{staticClass:"pr-2"},[t._v("Ngày nộp hồ sơ: ")]),t.thongTinChiTietHoSo.online?a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.submitDate)+" ")]):a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.receiveDate)+" ")])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Ngày tiếp nhận: ")]),a("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.receiveDate))])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Ngày hẹn trả: ")]),a("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dueDate))])])]),1!==t.originality?a("v-flex",{attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Mã hồ sơ: ")]),a("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.dossierNo)+" ")])]),t.thongTinChiTietHoSo.originDossierNo?a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Hồ sơ gốc: ")]),a("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.originDossierNo)+" ")])]):t._e(),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Trạng thái: ")]),a("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierStatusText)+" ")])]),t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?a("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[t._v("\n                Ghi chú:\n              ")]):t._e(),t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?a("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[a("v-tooltip",{attrs:{top:""}},[a("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.thongTinChiTietHoSo.dossierNote)+" ")]),a("span",{staticClass:"pl-0"},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierNote)+" ")])])],1):t._e(),t.thongTinChiTietHoSo["groupDossierId"]?a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Nhóm hồ sơ: ")]),a("span",{staticClass:"pl-0 text-bold"},[t._v("\n                  "+t._s(t.groupDossierName)+"\n                ")])]):t._e(),t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?a("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[t._v("\n                Ghi chú:\n              ")]):t._e()]):a("v-flex",{attrs:{xs12:"",sm4:""}},[t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?a("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[t._v("\n                Ghi chú:\n              ")]):t._e(),t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?a("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[a("v-tooltip",{attrs:{top:""}},[a("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.thongTinChiTietHoSo.dossierNote)+" ")]),a("span",{staticClass:"pl-0"},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierNote)+" ")])])],1):t._e(),t.thongTinChiTietHoSo.extendDate?a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pl-0 text-bold"},[t._v("Hẹn lại: "+t._s(t.thongTinChiTietHoSo.extendDate))])]):t._e()])],1)],1)],1)],1)],1),a("v-expansion-panel",{staticStyle:{"border-top":"1px solid #dedede"},attrs:{value:[!0],expand:"",readonly:""}},[a("v-expansion-panel-content",{attrs:{"expand-icon":"mdi-menu-down"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Tiến trình xử lý")]),a("v-card",{staticClass:"mb-3"},[a("v-card-text",{staticClass:"py-0 px-0"},[a("v-flex",{staticStyle:{height:"42px"},attrs:{xs12:""}},[a("v-radio-group",{staticClass:"absolute__btn pt-1",staticStyle:{width:"350px"},attrs:{row:""},on:{change:function(e){t.changeTypeTienTrinh(e)}},model:{value:t.typeTienTrinh,callback:function(e){t.typeTienTrinh=e},expression:"typeTienTrinh"}},[a("v-radio",{attrs:{label:"Xem dạng bảng",value:1}}),a("v-radio",{attrs:{label:"Xem dạng biểu đồ",value:2}})],1)],1),1===t.typeTienTrinh?a("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:t.headers,items:t.dossierActions,"hide-actions":"","no-data-text":"Không có dữ liệu"},scopedSlots:t._u([{key:"headerCell",fn:function(e){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                  "+t._s(e.header.text)+"\n                ")]),a("span",[t._v("\n                  "+t._s(e.header.text)+"\n                ")])])]}},{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.index+1))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.sequenceRole))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.sequenceName))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(t._f("getThoiHanQuyDinh")(e.item.durationCount)))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(t._f("dateTimeView")(e.item.startDate)))]),a("td",{staticClass:"text-xs-left"},t._l(e.item.assignUsers,function(e){return a("div",{key:e.userId},[t._v("\n                  "+t._s(e.userName)+" "),a("br")])}),0),a("td",{staticClass:"text-xs-left"},[t._l(e.item.actions,function(e,r){return a("div",{key:r},[t._v("\n                  "+t._s(t._f("dateTimeView")(e.createDate))+" : "),a("span",{staticStyle:{color:"#0b72ba"}},[t._v(t._s(e.actionName))]),e.actionNote&&"null"!==e.actionNote?a("span",[t._v(" - "),a("i",[t._v(t._s(e.actionNote))])]):t._e(),Array.isArray(e.files)&&e.files.length>0?a("div",t._l(e.files,function(e,r){return a("div",{key:r,attrs:{title:"Tải xuống"}},[e.dossierDocumentId?a("p",{on:{click:function(a){t.downloadFileDocument(e.dossierReferenceUid?e.dossierReferenceUid:"")}}},[a("v-icon",{attrs:{size:"18",color:"#0b72ba"}},[t._v("\n                          get_app\n                        ")]),a("span",{staticStyle:{color:"#0b72ba",cursor:"pointer"}},[t._v("\n                          "+t._s(e.fileName)+"\n                        ")])],1):t._e(),e.dossierFileId?a("p",{on:{click:function(a){t.downloadFileLogs(e.dossierFileId)}}},[a("v-icon",{attrs:{size:"18",color:"#0b72ba"}},[t._v("\n                          get_app\n                        ")]),a("span",{staticStyle:{color:"#0b72ba",cursor:"pointer"}},[t._v("\n                          "+t._s(e.fileName)+"\n                        ")])],1):t._e()])}),0):t._e()])}),e.item.statusText?a("div",["done"===t.thongTinChiTietHoSo["dossierStatus"]||"unresolved"===t.thongTinChiTietHoSo["dossierStatus"]?a("span",{staticStyle:{color:"green"}},[t._v("\n                    "+t._s(e.item.statusText.replace("Đang thực hiện:",""))+"\n                  ")]):a("span",{staticStyle:{color:"green"}},[t._v("\n                    "+t._s(e.item.statusText)+"\n                  ")])]):t._e()],2)]}}])}):a("div",[t.loadingMermaidgraph?a("content-placeholders",[a("content-placeholders-img"),a("content-placeholders-heading")],1):t._e(),a("div",{staticClass:"mermaid",staticStyle:{padding:"15px"},attrs:{id:"mermaid_dossier"}})],1)],1)],1)],1)],1)],1)},i=[];mermaid.initialize({theme:"forest",startOnLoad:!1});var o={props:{detailDossier:{type:Object,default:function(){}}},watch:{detailDossier:function(t){var e=this;e.thongTinChiTietHoSo=t,e.loadDossierActions()}},components:{},data:function(){return{thongTinChiTietHoSo:{},groupDossierNo:"",groupDossierName:"",showContactDetail:!1,typeTienTrinh:1,dossierActions:[],loadingMermaidgraph:!1,headers:[{text:"#",align:"center",sortable:!1},{text:"Vai trò",align:"center",sortable:!1,class:"vaitro_column"},{text:"Công việc",align:"center",sortable:!1,class:"congviec_column"},{text:"Thời hạn quy định",align:"center",sortable:!1,class:"thoihanquydinh_column"},{text:"Ngày bắt đầu",align:"center",sortable:!1,class:"ngaybatdau_column"},{text:"Người thực hiện",align:"center",sortable:!1,class:"nguoithuchien_column"},{text:"Kết quả",align:"center",sortable:!1,class:"ketqua_column"}]}},computed:{groupIdFilter:function(){return this.$store.getters.getGroupIdFilter}},created:function(){var t=this;t.thongTinChiTietHoSo=t.detailDossier},mounted:function(){var t=this;t.thongTinChiTietHoSo=t.detailDossier},methods:{goBack:function(){window.history.back()},durationText:function(t,e){var a;if(1===t&&e>8){var r,i=Math.floor(e/8)+" ngày";r=e%8!==0?8*(e/8-Math.floor(e/8))+" giờ":"",a="".concat(i," ").concat(r)}else 0===t?a=e+" ngày":1===t&&e<=8&&(a=e+" giờ");return a},changeTypeTienTrinh:function(t){var e=this;2===t&&setTimeout(function(){e.loadMermaidgraph()},200)},loadDossierActions:function(){var t=this;if(t.thongTinChiTietHoSo.dossierId){var e={dossierId:t.thongTinChiTietHoSo.dossierId,groupId:t.groupIdFilter?t.groupIdFilter:window.themeDisplay.getScopeGroupId()};t.$store.dispatch("loadDossierActions",e).then(function(e){if(e.data&&0!==e.data.length){for(var a=e.data,r=0;r<a.length;r++)if(a[r].hasOwnProperty("actions")&&null!==a[r]["actions"]&&void 0!==a[r]["actions"]&&!Array.isArray(a[r]["actions"])){var i=[];i.push(a[r]["actions"]),a[r]["actions"]=i}t.dossierActions=a}else if(t.thongTinChiTietHoSo["submissionNote"])try{JSON.parse(t.thongTinChiTietHoSo["submissionNote"]);var o=JSON.parse(t.thongTinChiTietHoSo["submissionNote"]).data;for(r=0;r<o.length;r++)if(o[r].hasOwnProperty("actions")&&null!==o[r]["actions"]&&void 0!==o[r]["actions"]&&!Array.isArray(o[r]["actions"])){var n=[];n.push(o[r]["actions"]),o[r]["actions"]=n}t.dossierActions=o}catch(s){}}).catch(function(){if(t.thongTinChiTietHoSo["submissionNote"])try{JSON.parse(t.thongTinChiTietHoSo["submissionNote"]);for(var e=JSON.parse(t.thongTinChiTietHoSo["submissionNote"]).data,a=0;a<e.length;a++)if(e[a].hasOwnProperty("actions")&&null!==e[a]["actions"]&&void 0!==e[a]["actions"]&&!Array.isArray(e[a]["actions"])){var r=[];r.push(e[a]["actions"]),e[a]["actions"]=r}t.dossierActions=e}catch(i){}})}},loadMermaidgraph:function(t){var e=this;if(document.getElementById("mermaid_dossier").innerHTML="",e.thongTinChiTietHoSo.dossierId){var a={dossierId:e.thongTinChiTietHoSo.dossierId};e.loadingMermaidgraph=!0,e.$store.dispatch("loadMermaidgraph",a).then(function(t){e.loadingMermaidgraph=!1,mermaid.render("theGraph",t,function(t){document.getElementById("mermaid_dossier").innerHTML=t})}).catch(function(){e.loadingMermaidgraph=!1})}}},filters:{dateTimeView:function(t){if(t){var e=new Date(Number(t));return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," | ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}return""},getMaxDueDate:function(t){var e=Math.max.apply(Math,t.map(function(t){return t.actionOverdue}));return e},getThoiHanQuyDinh:function(t){return t>0?t+" ngày":""}}},n=o,s=a("2877"),l=a("6544"),p=a.n(l),c=a("b0af"),d=a("99d9"),u=a("8fea"),g=a("cd55"),f=a("49e2"),v=a("0e8f"),m=a("132d"),y=a("a722"),h=a("8860"),_=a("e449"),x=a("67b6"),T=a("43a6"),C=a("3a2f"),b=Object(s["a"])(n,r,i,!1,null,null,null);b.options.__file="ThongTinHoSo.vue";e["a"]=b.exports;p()(b,{VCard:c["a"],VCardText:d["b"],VDataTable:u["a"],VExpansionPanel:g["a"],VExpansionPanelContent:f["a"],VFlex:v["a"],VIcon:m["a"],VLayout:y["a"],VList:h["a"],VMenu:_["a"],VRadio:x["a"],VRadioGroup:T["a"],VTooltip:C["a"]})},4360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return store});var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026"),vuex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2f62"),toastr__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_2__),axios__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__),_support_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("bbd0"),_support_json__WEBPACK_IMPORTED_MODULE_4___namespace=__webpack_require__.t("bbd0",1),_AdminConfig__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("3c87");function _objectSpread(t){for(var e=1;e<arguments.length;e++)if(e%2){var a=null!=arguments[e]?arguments[e]:{},r=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),r.forEach(function(e){_defineProperty(t,e,a[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function _defineProperty(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var a=[],r=!0,i=!1,o=void 0;try{for(var n,s=t[Symbol.iterator]();!(r=(n=s.next()).done);r=!0)if(a.push(n.value),e&&a.length===e)break}catch(l){i=!0,o=l}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return a}function _arrayWithHoles(t){if(Array.isArray(t))return t}var FileSaver=__webpack_require__("c28d");vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(toastr__WEBPACK_IMPORTED_MODULE_2___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vuex__WEBPACK_IMPORTED_MODULE_1__["a"]);var store=new vuex__WEBPACK_IMPORTED_MODULE_1__["a"].Store({state:{groupId:void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0,snackbarerror:!1,snackbarsocket:!1,refreshSocket:0,initData:{},dataSocket:{},pullCounter:0,tocken:"",loginUser:[{email:"",role:""}],user:null,socket:{isConnected:!1,message:"",reconnectError:!1},endPointApi:"/o/rest/v2",getDeliverableTypes:[],getContentFile:"",getContentFileSimple:[],selected:["dossierNo","delegateName","delegateAddress","delegateTelNo","receiveDate","dueDate"],reportType:"REPORT_01",groupType:"domain",siteName:"",itemsReports:[],reportConfigStatic:{}},actions:{loadInitResource:function(t){var e=t.commit,a=t.state;return new Promise(function(t){null!==window.themeDisplay&&void 0!==window.themeDisplay?(a.initData["groupId"]=window.themeDisplay.getScopeGroupId(),a.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(a.initData["groupId"]=0,a.initData["user"]={userName:"",userEmail:"",userId:20103});var r={headers:{groupId:a.initData["groupId"]}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/site/name",r).then(function(r){var i=r.data;a.siteName=i,e("setsiteName",i),t(a.initData)}).catch(function(t){})})},updateDynamicReport:function(t,e){var a=t.commit,r=t.state;return new Promise(function(t,i){var o={headers:{groupId:r.groupId,"Content-Type":"text/plain",Accept:"application/json"}},n={};for(var s in e.itemsReports)if(e.itemsReports[s]["code"]===String(e.index)){n["dynamicReportId"]=e.itemsReports[s]["dynamicReportId"],n["userConfig"]=e.itemsReports[s]["userConfig"];break}var l=n["userConfig"];l[e.userId]=e.selected,n["userConfig"]=l;var p=_AdminConfig__WEBPACK_IMPORTED_MODULE_5__["a"].updateDynamicReport.replace("INPUTBODY",JSON.stringify(n).replace(/"/g,'\\"').replace(/'/g,'\\"'));axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/adminconfig",p,o).then(function(e){t(e.data)}).catch(function(t){a("setsnackbarerror",!0),i(t)})})},doChotSoLieu:function(t,e){t.commit;var a=t.state;return new Promise(function(t,r){var i={headers:{groupId:a.groupId,"Content-Type":"text/plain",Accept:"application/json"},params:{}};for(var o in i["params"][e["key"]]=e["value"],e["data"]){var n=e["data"][o];if(""!==n&&void 0!==n&&null!==n){var s=String(n).indexOf("/")<=0?new Date(n).toLocaleDateString("vi-VN"):n;"Invalid Date"===s||13!==String(n).length||isNaN(s)?i.params[o]=n:i.params[o]=s}}axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(e["api"],i).then(function(e){var a=e.data;if(a.data){var r=a.data;t(r)}else t(null)}).catch(function(t){r(t)})})},getDynamicReports:function getDynamicReports(_ref4,reportTypeFilter){var commit=_ref4.commit,state=_ref4.state;return new Promise(function(resolve,reject){var sortReport=function(t){function e(t,e){return t.order<e.order?-1:t.order>e.order?1:0}return t.sort(e)},reportType="";if(void 0!==reportTypeFilter&&null!==reportTypeFilter&&(reportType=reportTypeFilter),""!==state.siteName)store.dispatch("loadInitResource").then(function(){var options={headers:{groupId:state.groupId,"Content-Type":"text/plain",Accept:"application/json",reportType:reportType}},body=_AdminConfig__WEBPACK_IMPORTED_MODULE_5__["a"].getDynamicReports;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/adminconfig",body,options).then(function(response){var serializable=response.data,reportList=serializable["getDynamicReports"],counterReport=reportList.length;for(var key in reportList){var orderMenu=counterReport;try{var stt=eval("( "+reportList[key]["userConfig"]+" )")["order"];orderMenu=stt||counterReport}catch(error){}reportList[key]["order"]=orderMenu}reportList=sortReport(reportList);var itemsReportsData=[],indexKey=0,dynamicReportsFilterSharing=reportList.filter(function(t){return"9"!==String(t.sharing)});try{reportTypeScope&&(dynamicReportsFilterSharing=dynamicReportsFilterSharing.filter(function(t){return t.userConfig&&JSON.parse(t.userConfig).hasOwnProperty("reportTypeScope")&&JSON.parse(t.userConfig)["reportTypeScope"]===reportTypeScope}))}catch(error){}for(var _key in dynamicReportsFilterSharing){var current=dynamicReportsFilterSharing[_key];try{var checkfilterConfig=eval("( "+current["filterConfig"]+" )")}catch(error){alert("Lỗi cấu hình filterConfig mẫu: "+current["reportName"])}try{var checktableConfig=eval("( "+current["tableConfig"]+" )")}catch(error){alert("Lỗi cấu hình tableConfig mẫu: "+current["reportName"])}var typeCurrent="dossier";current["reportCode"].startsWith("STATISTIC")&&(typeCurrent="thong_ke");var filterconfigObject=eval("( "+current["filterConfig"]+" )");if(filterconfigObject.hasOwnProperty("groupIds")&&filterconfigObject.hasOwnProperty("exclusive")&&filterconfigObject["exclusive"]){var govCodes=filterconfigObject["groupIds"],exit=!1;for(var _key2 in govCodes)if(String(state.groupId)===govCodes[_key2]["value"]){exit=!0;break}!exit&&(filterconfigObject.hasOwnProperty("exclusive")&&filterconfigObject["exclusive"]||!filterconfigObject.hasOwnProperty("exclusive"))&&govCodes.push({value:parseInt(state.groupId),text:state.siteName}),filterconfigObject["groupIds"]=govCodes}state.reportConfigStatic[indexKey]=eval("( "+current["tableConfig"]+" )"),itemsReportsData.push({code:String(indexKey),document:current["reportCode"],active:!1,type:typeCurrent,title:current["reportName"],filterConfig:filterconfigObject,tableConfig:eval("( "+current["tableConfig"]+" )"),userConfig:eval("( "+current["userConfig"]+" )"),dynamicReportId:current["dynamicReportId"],reportCode:current["reportCode"],reportName:current["reportName"],sharing:current["sharing"],order:current["order"]}),indexKey+=1}itemsReportsData=itemsReportsData.filter(function(t){return"9"!==String(t.sharing)});try{reportTypeScope&&(itemsReportsData=itemsReportsData.filter(function(t){return t.userConfig&&t.userConfig.hasOwnProperty("reportTypeScope")&&t.userConfig["reportTypeScope"]===reportTypeScope}))}catch(error){}state.itemsReports=itemsReportsData,resolve(itemsReportsData)}).catch(function(t){state.itemsReports=[],commit("setsnackbarerror",!0),reject(t)})});else{var options={headers:{groupId:state.groupId,"Content-Type":"text/plain",Accept:"application/json",reportType:reportType}},body=_AdminConfig__WEBPACK_IMPORTED_MODULE_5__["a"].getDynamicReports;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/adminconfig",body,options).then(function(response){var serializable=response.data,reportList=serializable["getDynamicReports"],counterReport=reportList.length;for(var key in reportList){var orderMenu=counterReport;try{var stt=eval("( "+reportList[key]["userConfig"]+" )")["order"];orderMenu=stt||counterReport}catch(error){}reportList[key]["order"]=orderMenu}reportList=sortReport(reportList);var itemsReportsData=[],indexKey=0,dynamicReportsFilterSharing=reportList.filter(function(t){return"9"!==String(t.sharing)});try{reportTypeScope&&(dynamicReportsFilterSharing=dynamicReportsFilterSharing.filter(function(t){return t.userConfig&&JSON.parse(t.userConfig).hasOwnProperty("reportTypeScope")&&JSON.parse(t.userConfig)["reportTypeScope"]===reportTypeScope}))}catch(error){}for(var _key3 in dynamicReportsFilterSharing){var current=dynamicReportsFilterSharing[_key3];try{var checkfilterConfig=eval("( "+current["filterConfig"]+" )")}catch(error){alert("Lỗi cấu hình filterConfig mẫu: "+current["reportName"])}try{var checktableConfig=eval("( "+current["tableConfig"]+" )")}catch(error){alert("Lỗi cấu hình tableConfig mẫu: "+current["reportName"])}var typeCurrent="dossier";current["reportCode"].startsWith("STATISTIC")&&(typeCurrent="thong_ke");var filterconfigObject=eval("( "+current["filterConfig"]+" )");if(filterconfigObject.hasOwnProperty("groupIds")&&filterconfigObject.hasOwnProperty("exclusive")&&filterconfigObject["exclusive"]){var govCodes=filterconfigObject["groupIds"],exit=!1;for(var _key4 in govCodes)if(String(state.groupId)===govCodes[_key4]["value"]){exit=!0;break}!exit&&(filterconfigObject.hasOwnProperty("exclusive")&&filterconfigObject["exclusive"]||!filterconfigObject.hasOwnProperty("exclusive"))&&govCodes.push({value:parseInt(state.groupId),text:state.siteName}),filterconfigObject["groupIds"]=govCodes}state.reportConfigStatic[indexKey]=eval("( "+current["tableConfig"]+" )"),itemsReportsData.push({code:String(indexKey),document:current["reportCode"],active:!1,type:typeCurrent,title:current["reportName"],filterConfig:filterconfigObject,tableConfig:eval("( "+current["tableConfig"]+" )"),userConfig:eval("( "+current["userConfig"]+" )"),dynamicReportId:current["dynamicReportId"],reportCode:current["reportCode"],reportName:current["reportName"],sharing:current["sharing"],order:current["order"]}),indexKey+=1}itemsReportsData=itemsReportsData.filter(function(t){return"9"!==String(t.sharing)});try{reportTypeScope&&(itemsReportsData=itemsReportsData.filter(function(t){return t.userConfig&&t.userConfig.hasOwnProperty("reportTypeScope")&&t.userConfig["reportTypeScope"]===reportTypeScope}))}catch(error){}state.itemsReports=itemsReportsData,resolve(itemsReportsData)}).catch(function(t){state.itemsReports=[],commit("setsnackbarerror",!0),reject(t)})}})},getAgencyReportLists:function(t,e){var a=t.state;return new Promise(function(t,r){store.dispatch("loadInitResource").then(function(){var i={headers:{groupId:a.initData.groupId,Accept:"application/json"},params:{}};for(var o in e["data"]){var n=Array.isArray(e["data"][o])?e["data"][o].toString():e["data"][o];if(""!==n&&void 0!==n&&null!==n){var s=String(n).indexOf("/")<=0?new Date(n).toLocaleDateString("vi-VN"):n;if("Invalid Date"===s||13!==String(n).length||isNaN(s))if(String(o).indexOf("DateExtend")>0){var l=String(o).replace("Extend",""),p=new Date;p.setDate(p.getDate()+Number(e["data"][o])),i.params["from"+l]=e.hasOwnProperty("formatDate")&&"timestamp"===e.formatDate?p.getTime():new Date(p).toLocaleDateString("vi-VN"),i.params["to"+l]=e.hasOwnProperty("formatDate")&&"timestamp"===e.formatDate?p.getTime():new Date(p).toLocaleDateString("vi-VN")}else{var c=n.split("/"),d=_slicedToArray(c,3),u=d[0],g=d[1],f=d[2];if(u&&g&&f&&e.hasOwnProperty("formatDate")&&"timestamp"===e.formatDate){var v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"))).getTime();"fromDate"===o&&(v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"),"T00:00")).getTime()),"toDate"===o&&(v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"),"T23:59")).getTime()),i.params[o]=v}else i.params[o]=n}else i.params[o]=s}}var m=e["govAgency"],y=e["agencyLists"]?e["agencyLists"]:[],h=y.filter(function(t){return"0"!==String(t["value"])}),_="";if(_=e["api"],0===y.length)axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(_,{},i).then(function(a){var r=a.data;if(r.data)if(Array.isArray(r.data)){var i=r.data;i.length>0&&Object.keys(i[0]).length>0?t(i):t(null)}else t([r.data]);else!r.data&&Array.isArray(r)&&r.length>0?t(r):"STATISTIC_05"===e.document?t([]):t(null)}).catch(function(t){r(t)});else if("0"===String(m)&&y.length>0){var x=[];for(var T in h)if("0"!==String(h[T]["value"])){var C=Object.assign({},i);C["headers"]["groupId"]=h[T]["value"],C["params"]["v"]=Math.random()+T,x.push(axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(_,{},{headers:{groupId:h[T]["value"],Accept:"application/json"},params:_objectSpread({v:Math.random()},i.params)}))}axios__WEBPACK_IMPORTED_MODULE_3___default.a.all(x).then(axios__WEBPACK_IMPORTED_MODULE_3___default.a.spread(function(){for(var e=[],a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];for(var o=0;o<r.length;o++){var n=r[o]["data"].hasOwnProperty("total")?r[o]["data"]["data"]:r[o]["data"];if(r[o]["data"]["total"]>0||!r[o]["data"].hasOwnProperty("total")&&n)e=e.concat(n);else{var s=[{govAgencyCode:h[o]["value"],govAgencyName:h[o]["text"]}];e=e.concat(s)}}e.length>0?t(e):t(null)}))}else if("0"!==String(m)&&""!==String(m)&&y.length>0)"all"===String(m)?i["headers"]["groupId"]=0:i["headers"]["groupId"]=m&&!isNaN(Number(m))?m:window.themeDisplay.getScopeGroupId(),i["params"]["v"]=Math.random(),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(_,{},i).then(function(e){var a=e.data;if(a.data)if(Array.isArray(a.data)){var r=a.data;r.length>0&&Object.keys(r[0]).length>0?t(r):t(null)}else t([a.data]);else!a.data&&Array.isArray(a)&&a.length>0?t(a):t(null)}).catch(function(t){r(t)});else if(""===String(m)&&y.length>0){var b=function(t){for(var e={},a=0;a<t.length;a++){var r=t[a].split("="),i=r[0],o="undefined"===typeof r[1]||r[1];if(i=i.toLowerCase(),"string"===typeof o&&(o=o.toLowerCase()),i.match(/\[(\d+)?\]$/)){var n=i.replace(/\[(\d+)?\]/,"");if(e[n]||(e[n]=[]),i.match(/\[\d+\]$/)){var s=/\[(\d+)\]/.exec(i)[1];e[n][s]=o}else e[n].push(o)}else e[i]?e[i]&&"string"===typeof e[i]?(e[i]=[e[i]],e[i].push(o)):e[i].push(o):e[i]=o}return e},w="POST",S={headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay?window.Liferay.authToken:""},params:{}},R=new URLSearchParams,D=i.params;try{var k=b(e.api.split("?")[1].split("&"));D=Object.assign(i.params,k)}catch(O){}R.append("method","GET"),R.append("url",e["proxyApi"]),R.append("data",JSON.stringify(D)),axios__WEBPACK_IMPORTED_MODULE_3___default()({method:w,url:"/o/rest/v2/proxy",headers:S.headers,params:S.params,data:R}).then(function(e){var a=e.data;a.data?t(a.data):!a.data&&Array.isArray(a)&&a.length>0?t(a):t(null)}).catch(function(t){r(t)})}})})},getAgencyReportListsOld:function(t,e){var a=t.state;return new Promise(function(t,r){store.dispatch("loadInitResource").then(function(){var i={headers:{groupId:a.initData.groupId,Accept:"application/json"},params:{}};for(var o in e["data"]){var n=Array.isArray(e["data"][o])?e["data"][o].toString():e["data"][o];if(""!==n&&void 0!==n&&null!==n){var s=String(n).indexOf("/")<=0?new Date(n).toLocaleDateString("vi-VN"):n;if("Invalid Date"===s||13!==String(n).length||isNaN(s))if(String(o).indexOf("DateExtend")>0){var l=String(o).replace("Extend",""),p=new Date;p.setDate(p.getDate()+Number(e["data"][o])),i.params["from"+l]=e.hasOwnProperty("formatDate")&&"timestamp"===e.formatDate?p.getTime():new Date(p).toLocaleDateString("vi-VN"),i.params["to"+l]=e.hasOwnProperty("formatDate")&&"timestamp"===e.formatDate?p.getTime():new Date(p).toLocaleDateString("vi-VN")}else try{var c=n.split("/"),d=_slicedToArray(c,3),u=d[0],g=d[1],f=d[2];if(u&&g&&f&&e.hasOwnProperty("formatDate")&&"timestamp"===e.formatDate){var v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"))).getTime();"fromDate"===o&&(v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"),"T00:00")).getTime()),"toDate"===o&&(v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"),"T23:59")).getTime()),i.params[o]=v}else i.params[o]=n}catch(P){i.params[o]=n}else i.params[o]=s}"listGov"!=o||n||(i.params[o]="")}var m=e["govAgency"],y=e["agencyLists"],h=y.filter(function(t){return"0"!==String(t["value"])}),_=e["api"];if(e["exportVoting"]){i.params["isExcel"]=!0;var x={method:"get",url:e["api"],headers:i.headers,params:i.params,responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default()(x).then(function(t){var a=e.fileName,r=document.createElement("a");document.body.appendChild(r),r.style="display: none";var i=window.URL.createObjectURL(t.data);r.href=i,r.download=a,r.click(),window.URL.revokeObjectURL(i)}).catch(function(t){})}else if(0===y.length)axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(_,i).then(function(a){var r=a.data;if(r.data)if(Array.isArray(r.data)){var i=r.data;i.length>0&&Object.keys(i[0]).length>0?t(i):t(null)}else t([r.data]);else!r.data&&Array.isArray(r)&&r.length>0?t(r):"STATISTIC_05"===e.document?t([]):t(null)}).catch(function(t){r(t)});else if("0"===String(m)&&y.length>0){var T=[];for(var C in h)if("0"!==String(h[C]["value"])){var b=Object.assign({},i);b["headers"]["groupId"]=h[C]["value"],b["params"]["v"]=Math.random()+C,T.push(axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(_,{headers:{groupId:h[C]["value"],Accept:"application/json"},params:_objectSpread({v:Math.random()},i.params)}))}axios__WEBPACK_IMPORTED_MODULE_3___default.a.all(T).then(axios__WEBPACK_IMPORTED_MODULE_3___default.a.spread(function(){for(var e=[],a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];for(var o=0;o<r.length;o++){var n=r[o]["data"].hasOwnProperty("total")?r[o]["data"]["data"]:r[o]["data"];if(r[o]["data"]["total"]>0||!r[o]["data"].hasOwnProperty("total")&&n)e=e.concat(n);else{var s=[{govAgencyCode:h[o]["value"],govAgencyName:h[o]["text"]}];e=e.concat(s)}}e.length>0?t(e):t(null)}))}else if("0"!==String(m)&&""!==String(m)&&y.length>0)"all"===String(m)?i["headers"]["groupId"]=0:i["headers"]["groupId"]=m,i["params"]["v"]=Math.random(),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(_,i).then(function(e){var a=e.data;if(a.data)if(Array.isArray(a.data)){var r=a.data;r.length>0&&Object.keys(r[0]).length>0?t(r):t(null)}else t([a.data]);else!a.data&&Array.isArray(a)&&a.length>0?t(a):t(null)}).catch(function(t){r(t)});else if(""===String(m)&&y.length>0){var w=function(t){for(var e={},a=0;a<t.length;a++){var r=t[a].split("="),i=r[0],o="undefined"===typeof r[1]||r[1];if(i=i.toLowerCase(),"string"===typeof o&&(o=o.toLowerCase()),i.match(/\[(\d+)?\]$/)){var n=i.replace(/\[(\d+)?\]/,"");if(e[n]||(e[n]=[]),i.match(/\[\d+\]$/)){var s=/\[(\d+)\]/.exec(i)[1];e[n][s]=o}else e[n].push(o)}else e[i]?e[i]&&"string"===typeof e[i]?(e[i]=[e[i]],e[i].push(o)):e[i].push(o):e[i]=o}return e},S="POST",R={headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay?window.Liferay.authToken:""},params:{}},D=new URLSearchParams,k=i.params;try{var O=w(e.api.split("?")[1].split("&"));k=Object.assign(i.params,O)}catch(P){}D.append("method","GET"),D.append("url",e["proxyApi"]),D.append("data",JSON.stringify(k)),axios__WEBPACK_IMPORTED_MODULE_3___default()({method:S,url:"/o/rest/v2/proxy",headers:R.headers,params:R.params,data:D}).then(function(e){var a=e.data;a.data?t(a.data):!a.data&&Array.isArray(a)&&a.length>0?t(a):t(null)}).catch(function(t){r(t)})}})})},doStatisticReportPrint:function(t,e){var a=t.state;return new Promise(function(t,r){store.dispatch("loadInitResource").then(function(){axios__WEBPACK_IMPORTED_MODULE_3___default()({method:"PUT",url:"/o/rest/v2_1/statistics/report/"+e.document,headers:{groupId:a.initData.groupId},responseType:"blob",data:e.data}).then(function(a){var r=a.data;if(e["download"])FileSaver.saveAs(r,(new Date).getTime()+".xlsx");else{var i=window.URL.createObjectURL(r);t(i)}}).catch(function(t){r(t)})})})},doExportXlsx:function(t,e){t.state;return new Promise(function(t,a){var r=new FormData;r.append("files",e["file"]),window.$.support.cors=!0,window.$.ajax({url:"https://cors-anywhere.herokuapp.com/https://www.cleverpdf.com/pdf/uploadFiles",headers:{"X-Requested-With":"XMLHttpRequest"},cache:!1,contentType:!1,processData:!1,data:r,crossDomain:!0,type:"POST",success:function(t){var e=new FormData;e.append("url",t["url"]),e.append("index",t["index"]),e.append("pid",1),e.append("oid",3),e.append("status",0),e.append("pwd",""),e.append("formatv1",2),e.append("formatv2",2);t["fileName"];setTimeout(function(){window.$.ajax({url:"https://cors-anywhere.herokuapp.com/https://www.cleverpdf.com/pdf/doProcess.do",headers:{"X-Requested-With":"XMLHttpRequest"},cache:!1,contentType:!1,processData:!1,data:e,crossDomain:!0,type:"POST",success:function(t){setTimeout(function(){window.open("https://www.cleverpdf.com/"+t["index"]+"/blob.xlsx")},1e3)}})},1e3)}})})},doExportXlsxddd:function(t,e){t.state;return new Promise(function(t,e){var a=new FormData;a.append("files",window.$("#filefile")[0].files[0]),window.$.support.cors=!0,window.$.ajax({url:"https://cors-anywhere.herokuapp.com/https://www.cleverpdf.com/pdf/uploadFiles",headers:{"X-Requested-With":"XMLHttpRequest"},cache:!1,contentType:!1,processData:!1,data:a,crossDomain:!0,type:"POST",success:function(t){var e=new FormData;e.append("url",t["url"]),e.append("index",t["index"]),e.append("pid",1),e.append("oid",3),e.append("status",0),e.append("pwd",""),e.append("formatv1",2),e.append("formatv2",2);t["fileName"];setTimeout(function(){window.$.ajax({url:"https://cors-anywhere.herokuapp.com/https://www.cleverpdf.com/pdf/doProcess.do",headers:{"X-Requested-With":"XMLHttpRequest"},cache:!1,contentType:!1,processData:!1,data:e,crossDomain:!0,type:"POST",success:function(t){setTimeout(function(){window.open("https://www.cleverpdf.com/"+t["index"]+"/blob.xlsx")},1e3)}})},1e3)}})})},doExportXlsx2:function(t,e){t.state;return new Promise(function(t,e){var a=new FormData;a.append("SuccessPage"," /Success/{ID}"),a.append("OutputFormat","Word"),a.append("File",window.$("#filefile")[0].files[0]),a.append("ReconstructionMode","flowing"),a.append("DetectTables",!0),a.append("DetectLists","detect"),a.append("HeaderAndFooterMode","detect"),a.append("AnnotRecoveryType","comment"),a.append("DocFormat","Word"),a.append("AutoRotate",!0),a.append("TextRecoveryMode",0),a.append("NSEMode",0),a.append("ocrLanguage","au"),a.append("Password",""),a.append("DynamicFile",window.$("#filefile")[0].files[0]),window.$.support.cors=!0,window.$.ajax({url:"https://simplypdf.com/api/convert",dataType:"jsonp",cache:!1,contentType:!1,processData:!1,data:a,crossDomain:!0,type:"POST",success:function(t){}})})},getExcelReportFromServer:function(t,e){var a=t.state;return new Promise(function(t,r){var i={headers:{groupId:a.groupId,"Content-Type":"x-www-form-urlencoded",Accept:"application/json"},responseType:"blob"},o=new URLSearchParams;o.append("data",e.data),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.endPointApi+"/statistics/dossiers/export",o,i).then(function(a){var r=a.headers["content-disposition"],i=r.split("filename=")[1]||e.fileName;i=i.split('"').join("");var o=document.createElement("a");document.body.appendChild(o),o.style="display: none";var n=window.URL.createObjectURL(a.data);o.href=n,o.download=i,o.click(),window.URL.revokeObjectURL(n),t(a.data)}).catch(function(t){r(t)})})},loadDataSource:function(t,e){t.commit;var a=t.state;return new Promise(function(t,r){store.dispatch("loadInitResource").then(function(){var i={headers:{groupId:a.groupId},params:{}};if(e.hasOwnProperty("target")&&"canbodanhgia"==e.target&&e.hasOwnProperty("groupId")&&"0"!==String(e.groupId)&&""!==String(e.groupId)&&"site"!==String(e.groupId))i.headers.groupId=e.groupId,e.api=e.apiTemp.replace(/#govcode#/g,e.code),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(e.api,i).then(function(a){if(a.data){var r=[],i=a.data.data;if(e.hasOwnProperty("valueMapping")&&e.valueMapping)for(var o in i){var n={value:e.hasOwnProperty("valueMappingChild")?i[o][e.valueMapping][e.valueMappingChild]:i[o][e.valueMapping],name:i[o][e.nameMapping]};r.push(n)}else r=i;t(r)}else t([])}).catch(function(t){r(t)});else if(e.hasOwnProperty("typeSource")||e.hasOwnProperty("groupId")&&(!e.hasOwnProperty("groupId")||"site"!==e.groupId))if(e.hasOwnProperty("typeSource")||e.hasOwnProperty("groupId")&&(""===e.groupId||"0"===String(e.groupId))){var o=function(t){for(var e={},a=0;a<t.length;a++){var r=t[a].split("="),i=r[0],o="undefined"===typeof r[1]||r[1];if(i=i.toLowerCase(),"string"===typeof o&&(o=o.toLowerCase()),i.match(/\[(\d+)?\]$/)){var n=i.replace(/\[(\d+)?\]/,"");if(e[n]||(e[n]=[]),i.match(/\[\d+\]$/)){var s=/\[(\d+)\]/.exec(i)[1];e[n][s]=o}else e[n].push(o)}else e[i]?e[i]&&"string"===typeof e[i]?(e[i]=[e[i]],e[i].push(o)):e[i].push(o):e[i]=o}return e},n="POST",s={headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay?window.Liferay.authToken:""},params:{}},l=new URLSearchParams,p=i.params;try{var c=o(e.api.split("?")[1].split("&"));p=Object.assign(i.params,c)}catch(d){}l.append("method","GET"),l.append("url",e["proxyApi"]),l.append("data",JSON.stringify(p)),axios__WEBPACK_IMPORTED_MODULE_3___default()({method:n,url:"/o/rest/v2/proxy",headers:s.headers,params:s.params,data:l}).then(function(a){if(a.data){var r=[],i=a.data.data;if(e.hasOwnProperty("valueMapping")&&e.valueMapping)for(var o in i){var n={value:e.hasOwnProperty("valueMappingChild")?i[o][e.valueMapping][e.valueMappingChild]:i[o][e.valueMapping],name:i[o][e.nameMapping]};r.push(n)}else r=i;t(r)}else t([])}).catch(function(t){r([])})}else!e.hasOwnProperty("typeSource")&&e.hasOwnProperty("groupId")&&"0"!==String(e.groupId)&&""!==String(e.groupId)&&"site"!==String(e.groupId)?(i.headers.groupId=e.groupId,axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(e.api,i).then(function(a){if(a.data){var r=[],i=a.data.data;if(e.hasOwnProperty("valueMapping")&&e.valueMapping)for(var o in i){var n={value:e.hasOwnProperty("valueMappingChild")?i[o][e.valueMapping][e.valueMappingChild]:i[o][e.valueMapping],name:i[o][e.nameMapping]};r.push(n)}else r=i;t(r)}else t([])}).catch(function(t){r(t)})):!e.hasOwnProperty("typeSource")&&e.hasOwnProperty("groupId")&&"0"!==String(e.groupId)&&""!==String(e.groupId)&&"site"!==String(e.groupId)&&(i.headers.groupId=e.groupId,axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(e.api,i).then(function(a){if(a.data){var r=[],i=a.data.data;if(e.hasOwnProperty("valueMapping")&&e.valueMapping)for(var o in i){var n={value:e.hasOwnProperty("valueMappingChild")?i[o][e.valueMapping][e.valueMappingChild]:i[o][e.valueMapping],name:i[o][e.nameMapping]};r.push(n)}else r=i;t(r)}else t([])}).catch(function(t){r(t)}));else axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(e.api,i).then(function(a){if(a.data){var r=[],i=a.data.data;if(e.hasOwnProperty("valueMapping")&&e.valueMapping)for(var o in i){var n={value:e.hasOwnProperty("valueMappingChild")?i[o][e.valueMapping][e.valueMappingChild]:i[o][e.valueMapping],name:i[o][e.nameMapping]};r.push(n)}else r=i;t(r)}else t([])}).catch(function(t){r(t)})})})},getDossiers:function(t,e){t.commit;var a=t.state;return new Promise(function(t,r){store.dispatch("loadInitResource").then(function(){var i={headers:{groupId:a.initData.groupId,Accept:"application/json"},params:{}};for(var o in e["data"]){var n=Array.isArray(e["data"][o])?e["data"][o].toString():e["data"][o];if(""!==n&&void 0!==n&&null!==n){var s=String(n).indexOf("/")<=0?new Date(n).getTime():n;if("Invalid Date"!==s&&13===String(n).length&&!isNaN(s)||new Date(n).getFullYear()<2e3)i.params[o]=s;else if(String(o).indexOf("DateExtend")>0){var l=String(o).replace("Extend",""),p=new Date;p.setDate(p.getDate()+Number(e["data"][o])),i.params["from"+l]=p.getTime(),i.params["to"+l]=p.getTime()}else{var c=n.split("/"),d=_slicedToArray(c,3),u=d[0],g=d[1],f=d[2];if(u&&g&&f&&e.hasOwnProperty("formatDate")&&"timestamp"===e.formatDate){var v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"))).getTime();"fromDate"===o&&(v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"),"T00:00")).getTime()),"toDate"===o&&(v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"),"T23:59")).getTime()),i.params[o]=v}else i.params[o]=n}}}i.params["start"]=e.start,i.params["end"]=e.end;var m=e["govAgency"],y=e["agencyLists"],h=y.filter(function(t){return"0"!==String(t["value"])}),_="";if(_=e["api"],0===y.length)axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(_,{},i).then(function(e){var a=e.data;t(a)}).catch(function(t){r(t)});else if("0"===String(m)&&y.length>0){var x=[];for(var T in h)if("0"!==String(h[T]["value"])){var C=Object.assign({},i);C["headers"]["groupId"]=h[T]["value"],C["params"]["v"]=Math.random()+T,x.push(axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(_,{},{headers:{groupId:h[T]["value"],Accept:"application/json"},params:_objectSpread({v:Math.random()},i.params)}))}axios__WEBPACK_IMPORTED_MODULE_3___default.a.all(x).then(axios__WEBPACK_IMPORTED_MODULE_3___default.a.spread(function(){for(var e=[],a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];for(var o=0;o<r.length;o++){var n=r[o]["data"].hasOwnProperty("total")?r[o]["data"]["data"]:r[o]["data"];if(r[o]["data"]["total"]>0||!r[o]["data"].hasOwnProperty("total")&&n)e=e.concat(n);else{var s=[{govAgencyCode:h[o]["value"],govAgencyName:h[o]["text"]}];e=e.concat(s)}}e.length>0?t(e):t(null)}))}else if("0"!==String(m)&&""!==String(m)&&y.length>0)"all"===String(m)?i["headers"]["groupId"]=0:i["headers"]["groupId"]=m,i["params"]["v"]=Math.random(),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(_,{},i).then(function(e){var a=e.data;a.data?t(a):!a.data&&Array.isArray(a)&&a.length>0?t(a):t(null)}).catch(function(t){r(t)});else if(""===String(m)&&y.length>0){var b=function(t){for(var e={},a=0;a<t.length;a++){var r=t[a].split("="),i=r[0],o="undefined"===typeof r[1]||r[1];if(i=i.toLowerCase(),"string"===typeof o&&(o=o.toLowerCase()),i.match(/\[(\d+)?\]$/)){var n=i.replace(/\[(\d+)?\]/,"");if(e[n]||(e[n]=[]),i.match(/\[\d+\]$/)){var s=/\[(\d+)\]/.exec(i)[1];e[n][s]=o}else e[n].push(o)}else e[i]?e[i]&&"string"===typeof e[i]?(e[i]=[e[i]],e[i].push(o)):e[i].push(o):e[i]=o}return e},w="POST",S={headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay?window.Liferay.authToken:""},params:{}},R=new URLSearchParams,D=i.params;try{var k=b(e.api.split("?")[1].split("&"));D=Object.assign(i.params,k)}catch(O){}R.append("method","GET"),R.append("url",e["proxyApi"]),R.append("data",JSON.stringify(D)),axios__WEBPACK_IMPORTED_MODULE_3___default()({method:w,url:"/o/rest/v2/proxy",headers:S.headers,params:S.params,data:R}).then(function(e){var a=e.data;a.data?t(a):!a.data&&Array.isArray(a)&&a.length>0?t(a):t(null)}).catch(function(t){r(t)})}})})},exportExcel:function(t,e){t.commit;var a=t.state;return new Promise(function(t,r){store.dispatch("loadInitResource").then(function(){var i={headers:{groupId:a.initData.groupId,Accept:"application/octet-stream"},params:{},responseType:"blob"};for(var o in e["data"]){var n=Array.isArray(e["data"][o])?e["data"][o].toString():e["data"][o];if(""!==n&&void 0!==n&&null!==n){var s=String(n).indexOf("/")<=0?new Date(n).getTime():n;if("Invalid Date"===s||13!==String(n).length||isNaN(s))if(String(o).indexOf("DateExtend")>0){var l=String(o).replace("Extend",""),p=new Date;p.setDate(p.getDate()+Number(e["data"][o])),i.params["from"+l]=p.getTime(),i.params["to"+l]=p.getTime()}else{var c=n.split("/"),d=_slicedToArray(c,3),u=d[0],g=d[1],f=d[2];if(u&&g&&f){var v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"))).getTime();"fromDate"===o&&(v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"),"T00:00")).getTime()),"toDate"===o&&(v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"),"T23:59")).getTime()),i.params[o]="fromDate"===o||"toDate"===o?v:n}else i.params[o]=n}else i.params[o]=s}}i.params["start"]=e.start,i.params["end"]=e.end;var m=e["govAgency"],y=e["agencyLists"],h=y.filter(function(t){return"0"!==String(t["value"])}),_="";if(_=e["api"],0===y.length)axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(_,{},i).then(function(a){var r=a.data,i=e.fileName,o=document.createElement("a");document.body.appendChild(o),o.style="display: none";var n=window.URL.createObjectURL(a.data);o.href=n,o.download=i,o.click(),window.URL.revokeObjectURL(n),t(r)}).catch(function(t){r(t)});else if("0"===String(m)&&y.length>0){var x=[];for(var T in h)if("0"!==String(h[T]["value"])){var C=Object.assign({},i);C["headers"]["groupId"]=h[T]["value"],C["params"]["v"]=Math.random()+T,x.push(axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(_,{},{headers:{groupId:h[T]["value"],Accept:"application/json"},params:_objectSpread({v:Math.random()},i.params)}))}axios__WEBPACK_IMPORTED_MODULE_3___default.a.all(x).then(axios__WEBPACK_IMPORTED_MODULE_3___default.a.spread(function(){for(var a=[],r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(var n=0;n<i.length;n++){try{var s=e.fileName,l=document.createElement("a");document.body.appendChild(l),l.style="display: none";var p=window.URL.createObjectURL(i[n]["data"]);l.href=p,l.download=s,l.click(),window.URL.revokeObjectURL(p)}catch(u){}var c=i[n]["data"].hasOwnProperty("total")?i[n]["data"]["data"]:i[n]["data"];if(i[n]["data"]["total"]>0||!i[n]["data"].hasOwnProperty("total")&&c)a=a.concat(c);else{var d=[{govAgencyCode:h[n]["value"],govAgencyName:h[n]["text"]}];a=a.concat(d)}}a.length>0?t(a):t(null)}))}else if("0"!==String(m)&&""!==String(m)&&y.length>0)"all"===String(m)?i["headers"]["groupId"]=0:i["headers"]["groupId"]=m,i["params"]["v"]=Math.random(),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(_,{},i).then(function(a){var r=a.data;try{var i=e.fileName,o=document.createElement("a");document.body.appendChild(o),o.style="display: none";var n=window.URL.createObjectURL(a.data);o.href=n,o.download=i,o.click(),window.URL.revokeObjectURL(n)}catch(s){}r.data?t(r):!r.data&&Array.isArray(r)&&r.length>0?t(r):t(null)}).catch(function(t){r(t)});else if(""===String(m)&&y.length>0){var b=function(t){for(var e={},a=0;a<t.length;a++){var r=t[a].split("="),i=r[0],o="undefined"===typeof r[1]||r[1];if(i=i.toLowerCase(),"string"===typeof o&&(o=o.toLowerCase()),i.match(/\[(\d+)?\]$/)){var n=i.replace(/\[(\d+)?\]/,"");if(e[n]||(e[n]=[]),i.match(/\[\d+\]$/)){var s=/\[(\d+)\]/.exec(i)[1];e[n][s]=o}else e[n].push(o)}else e[i]?e[i]&&"string"===typeof e[i]?(e[i]=[e[i]],e[i].push(o)):e[i].push(o):e[i]=o}return e},w="POST",S={headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay?window.Liferay.authToken:""},params:{}},R=new URLSearchParams,D=i.params;try{var k=b(e.api.split("?")[1].split("&"));D=Object.assign(i.params,k)}catch(O){}R.append("method","GET"),R.append("url",e["proxyApi"]),R.append("data",JSON.stringify(D)),axios__WEBPACK_IMPORTED_MODULE_3___default()({method:w,url:"/o/rest/v2/proxy",headers:S.headers,params:S.params,data:R}).then(function(e){var a=e.data;a.data?t(a):!a.data&&Array.isArray(a)&&a.length>0?t(a):t(null)}).catch(function(t){r(t)})}})})},loadDossierActions:function(t,e){t.commit;var a=t.state,r={headers:{groupId:e.groupId?e.groupId:a.groupId},params:{stepType:e.stepType}},i="/o/rest/v2/dossiers/"+e.dossierId+"/sequences";return new Promise(function(t,e){axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(i,r).then(function(e){t(e.data)}).catch(function(t){e(t)})})},loadMermaidgraph:function(t,e){t.commit;var a=t.state,r={headers:{groupId:a.groupId},params:{stepType:e.stepType}},i="/o/rest/v2/dossiers/"+e.dossierId+"/mermaidgraph";return new Promise(function(t,e){axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(i,r).then(function(e){t(e.data)}).catch(function(t){e(t)})})},getRoleUser:function(t,e){t.commit,t.state;return new Promise(function(t,e){var a={headers:{groupId:window.themeDisplay.getScopeGroupId()?window.themeDisplay.getScopeGroupId():""}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/users/login",a).then(function(e){var a=e.data;if(a&&a.length>0){var r=[];for(var i in a)if(a[i]["role"]){var o=a[i]["role"].split("_"),n=o.length;if(isNaN(Number(o[n-1])))r.push(a[i]["role"]);else{var s=a[i]["role"].replace("_"+o[n-1],"");r.push(s)}}t(r)}else t("")}).catch(function(t){e("default")})})},getReportVotingEmployee:function(t,e){var a=t.state;return new Promise(function(t,r){var i=JSON.stringify(e.jobposList),o={method:"post",url:"/o/rest/v2/votings/employee/statistic",headers:{groupId:a.groupId,"Content-Type":"application/json"},data:i,params:{}};for(var n in e["data"]){var s=Array.isArray(e["data"][n])?e["data"][n].toString():e["data"][n];if(""!==s&&void 0!==s&&null!==s){var l=String(s).indexOf("/")<=0?new Date(s).toLocaleDateString("vi-VN"):s;if("Invalid Date"===l||13!==String(s).length||isNaN(l))if(String(n).indexOf("DateExtend")>0){var p=String(n).replace("Extend",""),c=new Date;c.setDate(c.getDate()+Number(e["data"][n])),o.params["from"+p]=new Date(c).toLocaleDateString("vi-VN"),o.params["to"+p]=new Date(c).toLocaleDateString("vi-VN")}else o.params[n]=s;else o.params[n]=l}}axios__WEBPACK_IMPORTED_MODULE_3___default()(o).then(function(e){t(e.data)}).catch(function(t){r(t)})})},exportVotingEmployee:function(t,e){var a=t.state;return new Promise(function(t,r){var i=JSON.stringify(e.jobposList),o={method:"post",url:"/o/rest/v2/votings/employee/statistic/export",headers:{groupId:a.groupId,"Content-Type":"application/octet-stream"},data:i,responseType:"blob",params:{}};for(var n in e["data"]){var s=Array.isArray(e["data"][n])?e["data"][n].toString():e["data"][n];if(""!==s&&void 0!==s&&null!==s){var l=String(s).indexOf("/")<=0?new Date(s).toLocaleDateString("vi-VN"):s;if("Invalid Date"===l||13!==String(s).length||isNaN(l))if(String(n).indexOf("DateExtend")>0){var p=String(n).replace("Extend",""),c=new Date;c.setDate(c.getDate()+Number(e["data"][n])),o.params["from"+p]=new Date(c).toLocaleDateString("vi-VN"),o.params["to"+p]=new Date(c).toLocaleDateString("vi-VN")}else o.params[n]=s;else o.params[n]=l}}axios__WEBPACK_IMPORTED_MODULE_3___default()(o).then(function(e){var a=e.headers["content-disposition"],r=a.split("filename=")[1];r=r.split('"').join("");var i=document.createElement("a");document.body.appendChild(i),i.style="display: none";var o=window.URL.createObjectURL(e.data);i.href=o,i.download=r,i.click(),window.URL.revokeObjectURL(o),t("success")}).catch(function(t){r(t)})})},createReport:function(t,e){var a=t.state;return new Promise(function(t,r){store.dispatch("loadInitResource").then(function(){var i={headers:{groupId:a.initData.groupId,Accept:"application/json"},params:{}};for(var o in e["data"]){var n=Array.isArray(e["data"][o])?e["data"][o].toString():e["data"][o];if(""!==n&&void 0!==n&&null!==n){var s=String(n).indexOf("/")<=0?new Date(n).getTime():n;if("Invalid Date"!==s&&13===String(n).length&&!isNaN(s)||new Date(n).getFullYear()<2e3)i.params[o]=s;else if(String(o).indexOf("DateExtend")>0){var l=String(o).replace("Extend",""),p=new Date;p.setDate(p.getDate()+Number(e["data"][o])),i.params["from"+l]=p.getTime(),i.params["to"+l]=p.getTime()}else{var c=n.split("/"),d=_slicedToArray(c,3),u=d[0],g=d[1],f=d[2];if(u&&g&&f){var v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"))).getTime();"fromDate"===o&&(v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"),"T00:00")).getTime()),"toDate"===o&&(v=new Date("".concat(f,"-").concat(g.padStart(2,"0"),"-").concat(u.padStart(2,"0"),"T23:59")).getTime()),i.params[o]=v}else i.params[o]=n}}}var m=e["govAgency"],y=e["agencyLists"]?e["agencyLists"]:[],h=y?y.filter(function(t){return"0"!==String(t["value"])}):[],_="";if(_=e["api"],0===y.length)axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(_,{},i).then(function(a){var r=a.data;if(r.data)if(Array.isArray(r.data)){var i=r.data;i.length>0&&Object.keys(i[0]).length>0?t(i):t([])}else t([r.data]);else!r.data&&Array.isArray(r)&&r.length>0?t(r):"STATISTIC_05"===e.document?t([]):t(null)}).catch(function(t){r(t)});else if("0"===String(m)&&y.length>0){var x=[];for(var T in h)if("0"!==String(h[T]["value"])){var C=Object.assign({},i);C["headers"]["groupId"]=h[T]["value"],C["params"]["v"]=Math.random()+T,x.push(axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(_,{},{headers:{groupId:h[T]["value"],Accept:"application/json"},params:_objectSpread({v:Math.random()},i.params)}))}axios__WEBPACK_IMPORTED_MODULE_3___default.a.all(x).then(axios__WEBPACK_IMPORTED_MODULE_3___default.a.spread(function(){for(var e=[],a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];for(var o=0;o<r.length;o++){var n=r[o]["data"].hasOwnProperty("total")?r[o]["data"]["data"]:r[o]["data"];if(r[o]["data"]["total"]>0||!r[o]["data"].hasOwnProperty("total")&&n)e=e.concat(n);else{var s=[{govAgencyCode:h[o]["value"],govAgencyName:h[o]["text"]}];e=e.concat(s)}}e.length>0?t(e):t(null)}))}else if("0"!==String(m)&&""!==String(m)&&y.length>0)"all"===String(m)?i["headers"]["groupId"]=0:i["headers"]["groupId"]=m,i["params"]["v"]=Math.random(),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(_,{},i).then(function(e){var a=e.data;if(a.data)if(Array.isArray(a.data)){var r=a.data;r.length>0&&Object.keys(r[0]).length>0?t(r):t([])}else t([a.data]);else!a.data&&Array.isArray(a)&&a.length>0?t(a):t([])}).catch(function(t){r(t)});else if(""===String(m)&&y.length>0){var b=function(t){for(var e={},a=0;a<t.length;a++){var r=t[a].split("="),i=r[0],o="undefined"===typeof r[1]||r[1];if(i=i.toLowerCase(),"string"===typeof o&&(o=o.toLowerCase()),i.match(/\[(\d+)?\]$/)){var n=i.replace(/\[(\d+)?\]/,"");if(e[n]||(e[n]=[]),i.match(/\[\d+\]$/)){var s=/\[(\d+)\]/.exec(i)[1];e[n][s]=o}else e[n].push(o)}else e[i]?e[i]&&"string"===typeof e[i]?(e[i]=[e[i]],e[i].push(o)):e[i].push(o):e[i]=o}return e},w="POST",S={headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay?window.Liferay.authToken:""},params:{}},R=new URLSearchParams,D=i.params;try{var k=b(e.api.split("?")[1].split("&"));D=Object.assign(i.params,k)}catch(O){}R.append("method","GET"),R.append("url",e["proxyApi"]),R.append("data",JSON.stringify(D)),axios__WEBPACK_IMPORTED_MODULE_3___default()({method:w,url:"/o/rest/v2/proxy",headers:S.headers,params:S.params,data:R}).then(function(e){var a=e.data;a.data?t(a.data):!a.data&&Array.isArray(a)&&a.length>0?t(a):t(null)}).catch(function(t){r(t)})}})})}},mutations:{setInitData:function(t,e){t.initData=e},setsnackbarerror:function(t,e){t.snackbarerror=e},setsnackbarsocket:function(t,e){t.snackbarsocket=e},setpullCounter:function(t,e){t.pullCounter=e},setdataSocket:function(t,e){t.dataSocket=e},setselected:function(t,e){t.selected=e},setselectedText:function(t,e){t.selectedText=e},setreportType:function(t,e){t.reportType=e},setgroupType:function(t,e){t.groupType=e},setsiteName:function(t,e){t.siteName=e},setitemsReports:function(t,e){t.itemsReports=e},setreportConfigStatic:function(t,e){t.reportConfigStatic=e}},getters:{getsnackbarerror:function(t){return t.snackbarerror},getsnackbarsocket:function(t){return t.snackbarsocket},getDeliverableTypes:function(t){return t.getDeliverableTypes},getContentFile:function(t){return t.getContentFile},getContentFileSimple:function(t){return t.getContentFileSimple},pullCounter:function(t){return t.pullCounter},dataSocket:function(t){return t.dataSocket},selected:function(t){return t.selected},selectedText:function(t){return t.selectedText},reportType:function(t){return t.reportType},groupType:function(t){return t.groupType},siteName:function(t){return t.siteName},itemsReports:function(t){return t.itemsReports},reportConfigStatic:function(t){return t.reportConfigStatic}}})},"56d7":function(t,e,a){"use strict";a.r(e);a("0f18");var r=a("a026"),i=a("bb71");a("74ef");r["a"].use(i["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{class:t.hiddenAside?"px-3":"",attrs:{id:"app_dynamic_report"}},[t.isSigned?a("v-navigation-drawer",{attrs:{app:"",clipped:"",floating:"",width:"300"}},[a("div",{staticClass:"drawer__filter"},[a("div",{staticClass:"px-2 pt-0"},[t.isAdmin?a("v-btn",{staticClass:"px-0 mt-0 ml-0",staticStyle:{height:"36px"},attrs:{block:"",color:"primary"},nativeOn:{click:function(e){t.dialog_chotsolieu=!0}}},[a("v-icon",{attrs:{size:"22",color:"white"}},[t._v("sync")]),t._v(" \n          Chốt số liệu báo cáo\n        ")],1):t._e()],1),a("v-list",{staticClass:"report_list",staticStyle:{padding:"0"},attrs:{dense:""}},t._l(t.itemsReports,function(e,r){return a("v-list-tile",{key:r,attrs:{to:"/bao-cao/"+r+"?reportType="+t.reportTypeFilter}},[a("v-list-tile-action",[String(r)===String(t.index)?a("v-icon",{attrs:{color:"blue darken-3"}},[t._v("play_arrow")]):a("v-icon",[t._v("description")])],1),a("v-list-tile-content",[a("v-list-tile-title",{staticStyle:{"font-size":"13px"},attrs:{title:e.reportName}},[t._v(t._s(e.reportName))])],1)],1)}),1)],1)]):t._e(),t.isSigned?a("v-content",{style:t.hiddenAside?"background: #ffffff":""},[a("router-view")],1):t._e(),a("v-snackbar",{attrs:{bottom:!1,left:!1,"multi-line":!1,right:!0,timeout:2e3,top:!0,vertical:!1,color:"red darken-3"},model:{value:t.snackbarerror,callback:function(e){t.snackbarerror=e},expression:"snackbarerror"}},[t._v("\n    Yêu cầu thực hiện thất bại\n    "),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.closeError()}}},[a("v-icon",[t._v("clear")])],1)],1),a("v-snackbar",{attrs:{bottom:!0,left:!1,"multi-line":!0,right:!1,timeout:0,top:!0,vertical:!1,color:"red darken-3"},model:{value:t.snackbarsocket,callback:function(e){t.snackbarsocket=e},expression:"snackbarsocket"}},[a("v-progress-circular",{attrs:{size:20,width:1,color:"white",indeterminate:""}}),t._v("\n     \n    Mất kết nối, tự động kết nối lại trong giây lát ... \n    \n    "),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.reloadPage()}}},[a("v-icon",[t._v("replay")])],1)],1),t.isChildPage?a("div",{staticStyle:{position:"fixed",top:"250px",right:"0",width:"34px","background-color":"#ffffff","border-radius":"15px","border-top-right-radius":"0","border-bottom-right-radius":"0",border:"1.5px solid #dedede","border-right":"0"}},[a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0 my-0",staticStyle:{width:"32px",height:"32px"},attrs:{slot:"activator",flat:"",icon:"",color:"blue"},on:{click:function(e){t.goTo("thong-ke")}},slot:"activator"},[a("v-icon",{attrs:{size:"20"}},[t._v("pie_chart")])],1),a("span",[t._v("Thống kê chung")])],1),a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0 my-0",staticStyle:{width:"32px",height:"32px"},attrs:{slot:"activator",flat:"",icon:"",color:"green"},on:{click:function(e){t.goTo("bao-cao-admin")}},slot:"activator"},[a("v-icon",{attrs:{size:"20"}},[t._v("book")])],1),a("span",[t._v("Báo cáo tình hình giải quyết")])],1),a("v-menu",{attrs:{left:"","offset-x":"","open-on-hover":""}},[a("v-btn",{staticClass:"mx-0 my-0",staticStyle:{width:"32px",height:"32px"},attrs:{slot:"activator",flat:"",icon:"",color:"teal"},slot:"activator"},[a("v-icon",{attrs:{size:"20"}},[t._v("assignment_turned_in")])],1),a("v-list",[a("p",{staticClass:"text-bold primary--text px-3 pt-2"},[t._v("TÌNH HÌNH ĐÁNH GIÁ THỦ THỤC HÀNH CHÍNH")]),a("p",[a("v-list-tile",{on:{click:function(e){t.goTo("thong-ke#/danh-gia-hai-long")}}},[a("v-list-tile-title",[t._v("Đánh giá DVC mức độ 3, 4")])],1),a("v-list-tile",{on:{click:function(e){t.goTo("thong-ke#/chi-so-danh-gia")}}},[a("v-list-tile-title",{on:{click:function(e){t.goTo("thong-ke#/chi-so-danh-gia")}}},[t._v("Chỉ số đánh giá giải quyết TTHC")])],1)],1)])],1),a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0 my-0",staticStyle:{width:"32px",height:"32px"},attrs:{slot:"activator",flat:"",icon:"",color:"orange"},on:{click:function(e){t.goTo("tra-cuu-ho-so")}},slot:"activator"},[a("v-icon",{attrs:{size:"20"}},[t._v("search")])],1),a("span",[t._v("Tra cứu thông tin hồ sơ")])],1)],1):t._e(),a("v-dialog",{attrs:{"max-width":"350",transition:"fade-transition"},model:{value:t.dialog_chotsolieu,callback:function(e){t.dialog_chotsolieu=e},expression:"dialog_chotsolieu"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Thời gian chốt số liệu")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialog_chotsolieu=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card-text",{staticClass:"py-0 px-0"},[a("v-layout",{staticClass:"pt-4 py-0 px-2",attrs:{wrap:""}},[a("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{attrs:{items:t.monthList,label:"Tháng","hide-no-data":"","hide-selected":!0,box:""},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{attrs:{items:t.yearList,label:"Năm","hide-no-data":"","hide-selected":!0,box:""},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{color:"primary",loading:t.loadingChotSoLieu,disabled:t.loadingChotSoLieu},on:{click:function(e){t.chotSoLieuBaoCao()}}},[a("v-icon",[t._v("save")]),t._v("  \n          Xác nhận\n        ")],1),a("v-btn",{attrs:{color:"primary",loading:t.loadingChotSoLieu,disabled:t.loadingChotSoLieu},on:{click:function(e){t.dialog_chotsolieu=!1}}},[a("v-icon",[t._v("clear")]),t._v("  \n          Hủy\n        ")],1)],1)],1)],1)],1)},n=[],s=a("bbd0"),l=a("bc3a"),p=a.n(l),c=a("854a"),d=a.n(c),u={props:["index"],data:function(){return{loadingChotSoLieu:!1,hiddenAside:!1,dialog:!1,drawer:null,dataSocket:{},support:s,itemsReportsConfig:[],itemsGroups:[{value:"domain",text:"lĩnh vực"},{value:"gov",text:"đơn vị"}],userConfig:[],reportTypeFilter:"",reportTypeMappingRole:"",year:"",month:"",monthList:[1,2,3,4,5,6,7,8,9,10,11,12],yearList:"",dialog_chotsolieu:!1,isAdmin:!1,isSigned:window.themeDisplay.isSignedIn(),resourceConfig:""}},computed:{itemsReports:function(){return this.$store.getters.itemsReports},items:function(){return this.$store.getters.getDeliverableTypes},groupType:{get:function(){return this.$store.getters.groupType},set:function(t){this.$store.commit("setgroupType",t)}},reportType:{get:function(){return this.$store.getters.reportType},set:function(t){this.$store.commit("setreportType",t)}},selected:{get:function(){return this.$store.getters.selected},set:function(t){this.$store.commit("setselected",t)}},selectedText:{get:function(){return this.$store.getters.selectedText},set:function(t){this.$store.commit("setselectedText",t)}},snackbarerror:{get:function(){return this.$store.getters.getsnackbarerror},set:function(t){this.$store.commit("setsnackbarerror",t)}},snackbarsocket:{get:function(){return this.$store.getters.getsnackbarsocket},set:function(t){this.$store.commit("setsnackbarsocket",t)}},isChildPage:function(){try{return!!childPage}catch(t){return!1}}},created:function(){var t=this;t.$nextTick(function(){t.yearList=[];var e=(new Date).getFullYear();t.year=e,t.month=(new Date).getMonth()+1;for(var a=e;a>=2019;a--)t.yearList.push(a);try{reportTypeFilter&&(t.reportTypeFilter=reportTypeFilter)}catch(n){}try{reportTypeMappingRole&&(t.reportTypeMappingRole=reportTypeMappingRole)}catch(n){}var r=function(){t.$route.query.hasOwnProperty("doreport")?t.hiddenAside=!0:t.hiddenAside=!1,void 0!==t.$route.query.reportType&&null!==t.$route.query.reportType&&""!==t.$route.query.reportType&&(t.reportTypeFilter=t.$route.query.reportType),t.$store.dispatch("getDynamicReports",t.reportTypeFilter).then(function(e){if(t.itemsReportsConfig=[],t.userConfig=[],"0"!==String(t.index)){for(var a in t.itemsReports)if(t.itemsReports[a]["code"]===String(t.index)){if(t.reportType=t.itemsReports[a]["document"],t.itemsReportsConfig=t.itemsReports[a]["filterConfig"]["reportConfig"],""!==t.itemsReports[a]["userConfig"]){var r=t.itemsReports[a]["userConfig"];r.hasOwnProperty(t.getUserId())&&(t.userConfig=r[t.getUserId()])}break}}else if(t.reportType=t.itemsReports[0]["document"],t.itemsReportsConfig=t.itemsReports[0]["filterConfig"]["reportConfig"],""!==t.itemsReports[0]["userConfig"]){var i=t.itemsReports[0]["userConfig"];i.hasOwnProperty(t.getUserId())&&(t.userConfig=i[t.getUserId()])}if(t.selected=[],t.userConfig.length>0)t.selected=t.userConfig;else for(var o in t.itemsReportsConfig)t.itemsReportsConfig[o]["selected"]&&t.selected.push(t.itemsReportsConfig[o]["value"]);if(t.resourceConfig){var n=window.themeDisplay.getScopeGroupId(),s=t.resourceConfig.filter(function(t){return t.groupId==n});if(s&&s[0])for(var l=0;l<t.itemsReports.length;l++){t.itemsReports[l]["filterConfig"]["groupIds"]&&"resourceConfig"===t.itemsReports[l]["filterConfig"]["groupIds"]&&(t.itemsReports[l]["filterConfig"]["groupIds"]=s[0]["groupIds"]);for(var p=0;p<t.itemsReports[l]["filterConfig"]["filters"].length;p++){var c=t.itemsReports[l]["filterConfig"]["filters"][p];c.hasOwnProperty("mappingSourceConfig")&&c.mappingSourceConfig&&(t.itemsReports[l]["filterConfig"]["api"].indexOf("type=31")?t.itemsReports[l]["filterConfig"]["filters"][p]["source"]=s[0][c.mappingSourceConfig].filter(function(t){return t.value}):t.itemsReports[l]["filterConfig"]["filters"][p]["source"]=s[0][c.mappingSourceConfig])}}}})},i=function(){try{var e={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Token:window.Liferay?window.Liferay.authToken:""}},a={},i=new URLSearchParams;i.append("method","GET"),i.append("serverCode","SERVER_DVC"),i.append("url","/serverconfigs/CONFIG_RESOURCE_BAOCAO"),i.append("data",JSON.stringify(a)),p.a.post("/o/rest/v2/proxy",i,e).then(function(e){var a=e.data,i=JSON.parse(a.configs);t.resourceConfig=i["resource"],r()}).catch(function(e){t.resourceConfig="",r()})}catch(n){t.resourceConfig="",r()}};if(t.reportTypeMappingRole){var o="";t.$store.dispatch("getRoleUser").then(function(e){if(o=e,o){var a=o;a=a.filter(function(e){return t.reportTypeMappingRole.hasOwnProperty(e)&&t.reportTypeMappingRole[e]}),a&&a.length>0?(t.reportTypeFilter=t.reportTypeMappingRole[a[0]],i()):i()}else i()}).catch(function(t){i()})}else i()})},methods:{redirectFilter:function(t){this.$router.push(t+"?state_change="+Math.floor(100*Math.random())+1)},closeError:function(){this.$store.commit("setsnackbarerror",!1)},deliverableRouter:function(t){},resetConfig:function(){var t=this;for(var e in t.selected=[],t.itemsReportsConfig)t.itemsReportsConfig[e]["selected"]&&t.selected.push(t.itemsReportsConfig[e]["value"])},changeReportType:function(t){var e=this;for(var a in e.itemsReportsConfig=[],e.itemsReports)if(e.itemsReports[a]["document"]===t){if(e.itemsReportsConfig=e.itemsReports[a]["filterConfig"]["reportConfig"],""!==e.itemsReports[a]["userConfig"]){var r=e.itemsReports[a]["userConfig"];r.hasOwnProperty(e.getUserId())&&(e.userConfig=r[e.getUserId()])}if(e.selected=[],e.userConfig.length>0)e.selected=e.userConfig;else for(var i in e.itemsReportsConfig)e.itemsReportsConfig[i]["selected"]&&e.selected.push(e.itemsReportsConfig[i]["value"]);e.$router.push("/bao-cao/"+e.itemsReports[a]["code"]);break}},goTo:function(t){var e=window.themeDisplay.getSiteAdminURL().split("/~")[0].replace("group","web");window.location.href=e+"/"+t},chotSoLieuBaoCao:function(){var t=this,e={headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay?window.Liferay.authToken:""},params:{reCalculate:1,year:t.year,month:t.month}};t.loadingChotSoLieu=!0,p.a.get("/o/rest/statistics",e).then(function(e){d.a.success("Yêu cầu thực hiện thành công"),t.loadingChotSoLieu=!1,t.dialog_chotsolieu=!1}).catch(function(e){t.loadingChotSoLieu=!1,d.a.error("Yêu cầu thực hiện không thành công")})},checkAdmin:function(){var t=this;t.isAdmin=!1,t.$store.dispatch("getRoleUser").then(function(e){e||(t.isAdmin=!1);var a=e.findIndex(function(t){return"Administrator"===t||"Administrator_data"===t||"CHOT_SO_LIEU_BAO_CAO"===t});a>=0&&(t.isAdmin=!0)})},getResourceConfigs:function(){var t=this,e={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Token:window.Liferay?window.Liferay.authToken:""}},a={},r=new URLSearchParams;r.append("method","GET"),r.append("serverCode","SERVER_DVC"),r.append("url","/serverconfigs/CONFIG_RESOURCE_BAOCAO"),r.append("data",JSON.stringify(a)),p.a.post("/o/rest/v2/proxy",r,e).then(function(e){var a=e.data,r=JSON.parse(a.configs);t.resourceConfig=r["resource"]}).catch(function(t){})}}},g=u,f=a("2877"),v=a("6544"),m=a.n(v),y=a("7496"),h=a("c6a6"),_=a("8336"),x=a("b0af"),T=a("99d9"),C=a("549c"),b=a("169a"),w=a("0e8f"),S=a("132d"),R=a("a722"),D=a("8860"),k=a("ba95"),O=a("40fe"),P=a("5d23"),I=a("e449"),A=a("f774"),L=a("490a"),E=a("2db4"),V=a("9910"),N=a("71d9"),M=a("2a7f"),X=a("3a2f"),B=Object(f["a"])(g,o,n,!1,null,null,null);B.options.__file="App.vue";var K=B.exports;m()(B,{VApp:y["a"],VAutocomplete:h["a"],VBtn:_["a"],VCard:x["a"],VCardActions:T["a"],VCardText:T["b"],VContent:C["a"],VDialog:b["a"],VFlex:w["a"],VIcon:S["a"],VLayout:R["a"],VList:D["a"],VListTile:k["a"],VListTileAction:O["a"],VListTileContent:P["a"],VListTileTitle:P["b"],VMenu:I["a"],VNavigationDrawer:A["a"],VProgressCircular:L["a"],VSnackbar:E["a"],VSpacer:V["a"],VToolbar:N["a"],VToolbarTitle:M["a"],VTooltip:X["a"]});var H=a("8c4f"),U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1)],1)},G=[],F={},$=F,j=a("a523"),W=Object(f["a"])($,U,G,!1,null,null,null);W.options.__file="NotFound.vue";var z=W.exports;m()(W,{VContainer:j["a"],VFlex:w["a"],VLayout:R["a"],VProgressCircular:L["a"]});var q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("div",{staticClass:"form-chitiet"},[t.itemsReports&&t.itemsReports.length>0?a("div",[t.hiddenAside?t._e():a("div",{staticClass:"row-header"},[a("div",{staticClass:"background-triangle-big"},[a("span",[t._v(t._s(t.nameReport))])]),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex xs12 pl-3 text-ellipsis text-bold"},[a("v-layout",{staticClass:"chart__report",attrs:{wrap:""}},[a("v-flex",{staticClass:"px-2 text-right"},[t._l(t.buttons,function(e,r){return t.buttonsShow?a("v-select",{key:r,staticClass:"btn__chot",staticStyle:{float:"right"},attrs:{items:e["source"],label:e["label"],"item-text":"name","item-value":"value","single-line":""},on:{change:function(a){t.doChotSoLieu(a,e)}},model:{value:t.buttonsVal,callback:function(e){t.buttonsVal=e},expression:"buttonsVal"}}):t._e()}),t.customize?a("v-btn",{staticClass:"mx-0 my-0",attrs:{flat:""},nativeOn:{click:function(e){return t.showConfigColumnPdf(e)}}},[t.showConfig?a("v-icon",[t._v("reply")]):a("v-icon",[t._v("settings")]),t._v("  \r\n                  "),t.showConfig?a("span",[t._v("Quay lại")]):a("span",[t._v("Tùy chọn")])],1):t._e()],2)],1)],1)])]),a("v-layout",{staticClass:"filter_menu mt-4",attrs:{row:"",wrap:""}},[t.agencyLists.length>1?a("v-flex",{staticClass:"px-3 mb-3",attrs:{xs6:"",sm3:""}},[a("v-autocomplete",{attrs:{items:t.agencyLists,label:"Chọn đơn vị","item-text":"text","item-value":"value",clearable:""},on:{change:function(e){t.changeGovAgency()}},model:{value:t.govAgency,callback:function(e){t.govAgency=e},expression:"govAgency"}})],1):t._e(),t._l(t.groupIdList,function(e,r){return a("v-flex",{key:e.key+r+t.index,staticClass:"px-3 mb-3",attrs:{xs6:"",sm3:""}},[a("v-autocomplete",{attrs:{items:e.value,label:e.label,"item-text":"text","item-value":"value",clearable:""},on:{change:function(a){t.changeGroupIdList(e)}},model:{value:t.filterGroup[e.key],callback:function(a){t.$set(t.filterGroup,e.key,a)},expression:"filterGroup[item.key]"}})],1)}),t.groupBy.length>1?a("v-flex",{staticClass:"px-3 mb-3",attrs:{xs6:"",sm6:""}},[a("v-autocomplete",{attrs:{items:t.groupBy,label:"Nhóm dữ liệu","item-text":"label","item-value":"key"},model:{value:t.groupByVal,callback:function(e){t.groupByVal=e},expression:"groupByVal"}})],1):t._e(),t._l(t.filters,function(e,r){return a("v-flex",{key:r,class:e.hasOwnProperty("class")?e.class:"xs12 sm3 px-3 mb-3"},["date"===e["type"]&&t.showPicker?a("datetime-picker",{attrs:{item:e,"data-value":t.data[e.key],"data-all":t.data},on:{change:function(a){t.reloadPickerChange(e.key)}},model:{value:t.data[e.key],callback:function(a){t.$set(t.data,e.key,a)},expression:"data[item.key]"}}):t._e(),"text"===e["type"]?a("v-text-field",{attrs:{label:e["label"]},model:{value:t.data[e.key],callback:function(a){t.$set(t.data,e.key,a)},expression:"data[item.key]"}}):t._e(),"select"===e["type"]&&e.hasOwnProperty("multiple")&&e.multiple?a("v-autocomplete",{attrs:{items:e["source"],label:e["label"],"item-value":"value","item-text":"name",clearable:e["clearable"],multiple:e.hasOwnProperty("multiple")&&e.multiple},on:{change:function(a){e.hasOwnProperty("parent")&&t.changeMapping(e)}},model:{value:t.data[e.key],callback:function(a){t.$set(t.data,e.key,a)},expression:"data[item.key]"}}):t._e(),"select"!==e["type"]||e.hasOwnProperty("multiple")||e.multiple?t._e():a("v-autocomplete",{attrs:{items:e["source"],label:e["label"],"item-value":"value","item-text":"name",clearable:e["clearable"]},on:{change:function(a){e.hasOwnProperty("parent")&&t.changeMapping(e)}},model:{value:t.data[e.key],callback:function(a){t.$set(t.data,e.key,a)},expression:"data[item.key]"}})],1)}),a("v-flex",{staticClass:"px-3 mb-3",attrs:{xs12:""}},[t.itemsReports[t.index]["filterConfig"]["version"]||t.itemsReports[t.index]["filterConfig"]["backendVer2"]?t._e():a("div",{staticClass:"d-inline-block left"},[t.itemsReports[t.index]["filterConfig"]["tableDanhGia"]?a("v-btn",{staticClass:"mr-3 my-0",attrs:{dark:"",color:"blue darken-3"},nativeOn:{click:function(e){t.doPrintReportFix(!0)}}},[a("v-icon",[t._v("library_books")]),t._v("   Tạo báo cáo\r\n            ")],1):t._e(),a("v-btn",{attrs:{dark:"",color:"blue darken-3"},nativeOn:{click:function(e){t.doCreateReport(!1)}}},[a("v-icon",[t._v("print")]),t._v("   \r\n              "),t.itemsReports[t.index]["filterConfig"]["tableDanhGia"]?a("span",[t._v("Xuất Pdf")]):a("span",[t._v("Tạo báo cáo")])],1),t.isRender&&t.itemsReports[t.index]["filterConfig"]["showTable"]?a("v-btn",{staticClass:"mx-3 my-0",attrs:{dark:"",color:"blue darken-3"},nativeOn:{click:function(e){t.printReport()}}},[a("v-icon",[t._v("print")]),t._v("   In báo cáo\r\n            ")],1):t._e(),t.itemsReports[t.index]["filterConfig"]["showTable"]?t._e():a("v-btn",{staticClass:"mx-3 my-0",attrs:{dark:"",color:"blue darken-3"},nativeOn:{click:function(e){t.itemsReports[t.index]["filterConfig"]["version"]?t.downloadExcel():t.doCreateReport(!0)}}},[a("v-icon",{attrs:{size:"16px"}},[t._v("fas fa fa-file-excel-o")]),t._v("   Tải xuống Excel\r\n            ")],1),!t.itemsReports[t.index]["filterConfig"]["showTable"]&&t.exportWordReport?a("v-btn",{staticClass:"my-0",attrs:{dark:"",color:"blue darken-3"},nativeOn:{click:function(e){t.doCreateReport(!0,"word")}}},[a("v-icon",{attrs:{size:"16px"}},[t._v("fas fa fa-file-word-o")]),t._v("   Tải xuống Word\r\n            ")],1):t._e(),t.isRender&&t.itemsReports[t.index]["filterConfig"]["showTable"]?a("v-btn",{staticClass:"mx-3 my-0",attrs:{dark:"",color:"blue darken-3"},nativeOn:{click:function(e){t.downloadExcel()}}},[a("v-icon",[t._v("save_alt")]),t._v("   Tải xuống Excel\r\n            ")],1):t._e(),t.exportXML?a("v-btn",{attrs:{dark:"",color:"blue darken-3"},nativeOn:{click:function(e){return t.doDynamicReportXML(e)}}},[t._v("exportXML")]):t._e()],1),t.itemsReports[t.index]["filterConfig"]["version"]||t.itemsReports[t.index]["filterConfig"]["backendVer2"]?a("div",{staticClass:"d-inline-block left"},[a("v-btn",{attrs:{dark:"",color:"blue darken-3"},nativeOn:{click:function(e){t.createReport()}}},[a("v-icon",[t._v("library_books")]),t._v("   Tạo báo cáo\r\n            ")],1)],1):t._e()])],2),!t.isShowLoading&&t.itemsReports[t.index]["filterConfig"]["version"]?a("div",{staticClass:"mx-3"},[t.listTongHop&&t.listTongHop.length>0?a("div",{staticClass:"mb-2",staticStyle:{"font-weight":"500","font-size":"14px"}},[a("span",{staticStyle:{color:"green"}},[t._v("Tổng số hồ sơ: ")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.totalCount))])]):t._e(),a("v-data-table",{staticClass:"table-landing table-bordered",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.headerTongHop,items:t.listTongHop,"hide-actions":"","no-data-text":"Không có hồ sơ nào"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{active:e.index%2==1},staticStyle:{cursor:"pointer"}},[a("td",{staticClass:"text-xs-left pt-2",staticStyle:{"min-width":"135px"},attrs:{title:"Xem danh sách"},on:{click:function(a){t.viewListHoSo(e.item,"first")}}},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[e.item.hasOwnProperty("domainName")?a("span",[t._v(t._s(e.item.domainName))]):t._e(),e.item.hasOwnProperty("serviceName")?a("span",[t._v(t._s(e.item.serviceName))]):t._e(),e.item.hasOwnProperty("govAgencyName")?a("span",[t._v(t._s(e.item.govAgencyName))]):t._e()])],1),a("td",{staticClass:"text-xs-center pt-2",attrs:{title:"Xem danh sách"},on:{click:function(a){t.viewListHoSo(e.item,"first")}}},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("a",{staticStyle:{"font-weight":"bold",color:"#008000c7","text-decoration":"underline"}},[a("span",[t._v(t._s(e.item.count?e.item.count:e.item.totalCount))])])])],1),a("td",{staticClass:"text-xs-left"},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",t._l(e.item.pages,function(r){return a("v-menu",{key:r,staticStyle:{display:"inline-block",position:"relative !important"},attrs:{bottom:"","offset-y":""}},[a("v-btn",{staticClass:"on-hover-btn my-1",staticStyle:{"font-size":"13px !important"},attrs:{slot:"activator",small:"",color:"primary",dark:""},slot:"activator"},[t._v(" \r\n                      Quyển "+t._s(r)+"   "),a("v-icon",{attrs:{size:"18"}},[t._v("arrow_drop_down")])],1),a("v-list",[a("v-list-tile",{on:{click:function(a){t.printPdf(e.item,r)}}},[a("v-list-tile-title",[a("v-icon",{staticClass:"mr-1",attrs:{color:"blue",size:"16"}},[t._v("\r\n                            print\r\n                          ")]),t._v("\r\n                          In báo cáo\r\n                        ")],1)],1),a("v-list-tile",{on:{click:function(a){t.downloadExcel(e.item,r)}}},[a("v-list-tile-title",[a("v-icon",{staticClass:"mx-1",attrs:{color:"green",size:"14"}},[t._v("\r\n                            fas fa fa-file-excel-o\r\n                          ")]),t._v("\r\n                          Tải excel\r\n                        ")],1)],1)],1)],1)}),1)],1)])]}}])})],1):t._e(),a("div",[t.itemsReports[t.index]["filterConfig"]["showTable"]||t.showHTML||t.showTableVoting||t.itemsReports[t.index]["filterConfig"]["version"]?t._e():a("div",[t.showGuilds?a("vue-friendly-iframe",{attrs:{src:"/documents/"+t.groupId+"/0/hdsd.pdf"}}):t._e(),null===t.pdfBlob||void 0===t.pdfBlob||""===t.pdfBlob||t.showGuilds?t._e():a("vue-friendly-iframe",{attrs:{src:t.pdfBlob}})],1),!t.showTableVoting||t.showErrorData||t.isShowLoading?t._e():a("div",[a("table",{staticClass:"my-2",attrs:{"hide-default-footer":""}},[a("thead",[a("tr",[a("th",{staticClass:"text-center px-2 py-2",staticStyle:{border:"1px solid #b5b5b5"},attrs:{rowspan:"2"}},[a("span",[t._v("STT")])]),a("th",{staticClass:"text-center px-2 py-2",staticStyle:{border:"1px solid #b5b5b5"},attrs:{rowspan:"2"}},[a("span",[t._v("Tên cán bộ")])]),a("th",{staticClass:"text-center px-2 py-2",staticStyle:{border:"1px solid #b5b5b5"},attrs:{width:"80",rowspan:"2"}},[a("span",[t._v("Số lượt đánh giá")])]),a("th",{staticClass:"py-2 text-center",staticStyle:{border:"1px solid #b5b5b5"},attrs:{colspan:"3"}},[a("span",[t._v("Chất lượng đánh giá")])])]),a("tr",[a("th",{staticClass:"text-center px-2 py-2",staticStyle:{border:"1px solid #b5b5b5"},attrs:{width:""}},[a("span",[t._v("Rất hài lòng")])]),a("th",{staticClass:"text-center px-2 py-2",staticStyle:{border:"1px solid #b5b5b5"},attrs:{width:""}},[a("span",[t._v("Hài lòng")])]),a("th",{staticClass:"text-center px-2 py-2",staticStyle:{border:"1px solid #b5b5b5"},attrs:{width:""}},[a("span",[t._v("Không hài lòng")])])])]),t.loadingTable?a("tbody",[a("content-placeholders",{staticClass:"my-2"},[a("content-placeholders-text",{attrs:{lines:5}})],1)],1):t._e(),!t.loadingTable&&t.dataTableVottingList.length>0?a("tbody",t._l(t.dataTableVottingList,function(e,r){return a("tr",{key:r},[a("td",{staticClass:"px-2 py-2",staticStyle:{border:"1px solid #b5b5b5"},attrs:{align:"center"}},[t._v(t._s(r+1))]),a("td",{staticClass:"px-2 py-2",staticStyle:{padding:"8px 10px",border:"1px solid #b5b5b5"},attrs:{align:"left"}},[t._v("\r\n                  "+t._s(e.employeeName)+"\r\n                ")]),a("td",{staticClass:"px-2 py-2",staticStyle:{padding:"8px 10px",border:"1px solid #b5b5b5"},attrs:{align:"center"}},[e.sumCount?a("a",{staticClass:"chitiet",attrs:{title:"Xem chi tiết",href:"javascript:;"},on:{click:function(a){a.stopPropagation(),t.viewChiTietDanhGia(e,"3,2,1")}}},[t._v(t._s(e.sumCount))]):a("span",[t._v(t._s(e.sumCount))])]),a("td",{staticClass:"px-2 py-2",staticStyle:{padding:"8px 10px",border:"1px solid #b5b5b5"},attrs:{align:"center"}},[e.veryHappyCount?a("a",{staticClass:"chitiet",attrs:{title:"Xem chi tiết",href:"javascript:;"},on:{click:function(a){a.stopPropagation(),t.viewChiTietDanhGia(e,3)}}},[t._v(t._s(e.veryHappyCount)+" ("+t._s(e.percentVeryHappy)+"%)")]):a("span",[t._v(t._s(e.veryHappyCount))])]),a("td",{staticClass:"px-2 py-2",staticStyle:{padding:"8px 10px",border:"1px solid #b5b5b5"},attrs:{align:"center"}},[e.happyCount?a("a",{staticClass:"chitiet",attrs:{title:"Xem chi tiết",href:"javascript:;"},on:{click:function(a){a.stopPropagation(),t.viewChiTietDanhGia(e,2)}}},[t._v(t._s(e.happyCount)+" ("+t._s(e.percentHappy)+"%)")]):a("span",[t._v(t._s(e.happyCount))])]),a("td",{staticClass:"px-2 py-2",staticStyle:{padding:"8px 10px",border:"1px solid #b5b5b5"},attrs:{align:"center"}},[e.unHappyCount?a("a",{staticClass:"chitiet",attrs:{title:"Xem chi tiết",href:"javascript:;"},on:{click:function(a){a.stopPropagation(),t.viewChiTietDanhGia(e,1)}}},[t._v(t._s(e.unHappyCount)+" ("+t._s(e.percentUnHappy)+"%)")]):a("span",[t._v(t._s(e.unHappyCount))])])])}),0):t._e()])]),t.itemsReports[t.index]["filterConfig"]["showTable"]&&t.isRender&&!t.showErrorData&&!t.isShowLoading?a("div",[a("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:t.headers,items:t.dossierList,pagination:t.pagination,"hide-actions":""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{active:e.index%2==1},staticStyle:{cursor:"pointer"},on:{click:function(a){t.viewDetail(e.item)}}},[a("td",{staticClass:"text-xs-center"},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(t.pagination.page*t.pagination.rowsPerPage-t.pagination.rowsPerPage+e.index+1))]),a("br")])],1),a("td",{staticClass:"text-xs-left",staticStyle:{"min-width":"135px"}},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.dossierNo))])])],1),a("td",{staticClass:"text-xs-left"},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.dossierName))])])],1),a("td",{staticClass:"text-xs-left",staticStyle:{"min-width":"135px"}},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[a("span",[t._v(t._s(e.item.applicantName))])])])],1),a("td",{staticClass:"text-xs-center"},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[a("span",[t._v(t._s(e.item.receiveDate))])])])],1),a("td",{staticClass:"text-xs-center"},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[a("span",[t._v(t._s(e.item.dueDate))])])])],1),a("td",{staticClass:"text-xs-left"},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[a("span",[t._v(t._s(e.item.dossierStatusText))])])])],1),a("td",{staticClass:"text-xs-left"},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[a("span",[t._v(t._s(e.item.dossierOverdue))])])])],1)])]}}])}),a("div",{staticClass:"text-xs-right layout wrap mt-2",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table px-2"},[a("tiny-pagination",{attrs:{total:t.pagination.totalItems,page:t.pagination.page,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.paggingData}})],1)])],1):t._e(),t.reportType.startsWith("DANH_GIA_CAN_BO")?a("v-layout",{attrs:{wrap:""}},[!t.showErrorData&&t.dataTableVottingList.length>0?a("v-flex",{staticClass:"report__table",staticStyle:{overflow:"auto","max-height":"1000px"},attrs:{xs12:""}},[a("table",{staticClass:"my-2",attrs:{"hide-default-footer":""}},[a("thead",[a("tr",[a("th",{staticClass:"text-center px-2 py-1",attrs:{rowspan:"2"}},[a("span",[t._v("STT")])]),a("th",{staticClass:"text-center px-2 py-1",attrs:{rowspan:"2"}},[a("span",[t._v("Tên đơn vị")])]),t._l(t.dataTableVottingList[0]["employees"][0]["voting"],function(e,r){return a("th",{key:r,staticClass:"py-1",attrs:{colspan:t.dataTableVottingList[0]["employees"][0]["voting"][r]["selected"].length}},[a("span",[t._v(t._s(e.question))])])})],2),a("tr",t._l(t.listAnswers,function(e,r){return a("th",{key:r,staticClass:"text-center px-2 py-1",attrs:{width:""}},[a("span",[t._v(t._s(e))])])}),0)]),t.loadingTable?a("tbody",[a("content-placeholders",{staticClass:"my-2"},[a("content-placeholders-text",{attrs:{lines:5}})],1)],1):t._e(),!t.loadingTable&&t.dataTableVottingList.length>0?a("tbody",t._l(t.dataTableRender,function(e,r){return a("tr",{key:r},[a("td",{class:e.hasOwnProperty("group")?"px-2 text-bold py-1":"px-2 py-1",attrs:{align:"center"}},[t._v(t._s(e.hasOwnProperty("group")?e.group:e.child))]),a("td",{class:e.hasOwnProperty("group")?"px-2 text-bold py-1":"px-2 py-1",staticStyle:{padding:"8px 10px"},attrs:{align:"left",colspan:e.hasOwnProperty("group")?t.columnLength-1:""}},[t._v("\r\n                    "+t._s(e.name)+"\r\n                  ")]),t._l(e["data"],function(r,i){return e.hasOwnProperty("group")?t._e():a("td",{key:i,staticClass:"px-2 py-1",attrs:{align:"center"}},[t._v("\r\n                    "+t._s(r)+"\r\n                  ")])})],2)}),0):t._e()])]):t._e()],1):t._e(),t.showErrorData?a("div",{staticClass:"mx-3 my-4"},[a("v-alert",{attrs:{value:!0,outline:"",color:"info",icon:"info"}},[t._v("\r\n            Không có dữ liệu báo cáo.\r\n          ")])],1):t._e(),t.isShowLoading?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1):t._e()],1)],1):t._e(),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialogDossierList,callback:function(e){t.dialogDossierList=e},expression:"dialogDossierList"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Danh sách hồ sơ")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogDossierList=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card",{staticClass:"py-0 px-0"},[t.loadingGetDossier?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1):a("div",[a("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:t.headers,items:t.dossierList,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{active:e.index%2==1},staticStyle:{cursor:"pointer"},on:{click:function(a){t.viewDetail(e.item)}}},[a("td",{staticClass:"text-xs-center"},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(t.pagination.page*t.pagination.rowsPerPage-t.pagination.rowsPerPage+e.index+1))]),a("br")])],1),a("td",{staticClass:"text-xs-left",staticStyle:{"min-width":"135px"}},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.dossierNo))])])],1),a("td",{staticClass:"text-xs-left",staticStyle:{"min-width":"135px"}},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[a("span",[t._v(t._s(e.item.applicantName))])])])],1),a("td",{staticClass:"text-xs-center"},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[a("span",[t._v(t._s(e.item.receiveDate))])])])],1),a("td",{staticClass:"text-xs-center"},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[a("span",[t._v(t._s(e.item.dueDate))])])])],1),a("td",{staticClass:"text-xs-left"},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[a("span",[t._v(t._s(e.item.dossierStatusText))])])])],1),t.hasVoting&&t.hasVoting.length?a("td",{staticClass:"text-xs-left"},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[a("span",[t._v(t._s(t.formatDanhGia(e.item.metaData)))])])])],1):t._e()])]}}])}),a("div",{staticClass:"text-xs-right layout wrap mt-2",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table px-2"},[a("tiny-pagination",{attrs:{total:t.pagination.totalItems,page:t.pagination.page,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.paggingData}})],1)])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1200",transition:"fade-transition"},model:{value:t.dialogDossierDetail,callback:function(e){t.dialogDossierDetail=e},expression:"dialogDossierDetail"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Thông tin hồ sơ")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogDossierDetail=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card-text",{staticClass:"py-0 px-0"},[a("thong-tin-ho-so",{attrs:{detailDossier:t.dossierInfo}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1200",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a("v-card",{staticStyle:{"min-height":"calc(90vh - 100px)"}},[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Báo cáo thống kê")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a("v-icon",[t._v("close")])],1)],1),t.loadingPdfVer2?a("v-card-text",[a("v-flex",{staticClass:"text-xs-center",staticStyle:{"margin-top":"150px"},attrs:{xs12:""}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1):a("vue-friendly-iframe",{attrs:{src:t.pdfBlob}})],1)],1),a("v-dialog",{attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogConfigColumn,callback:function(e){t.dialogConfigColumn=e},expression:"dialogConfigColumn"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Cột hiển thị bảng thống kê, báo cáo")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogConfigColumn=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card",{staticClass:"py-0 px-0"},[a("v-layout",{staticClass:"filter_menu my-3 px-4",attrs:{"align-start":"","justify-start":"",row:"",wrap:""}},t._l(t.itemsReportsConfig,function(e,r){return a("v-flex",{key:r,staticClass:"mx-2"},[t.reportType.startsWith("STATISTIC")?t._e():a("v-checkbox",{attrs:{label:e.text},on:{change:function(e){t.changeConfig(r)}},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"item.selected"}})],1)}),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mr-3",attrs:{color:"primary"},nativeOn:{click:function(e){t.dialogConfigColumn=!1}}},[a("v-icon",[t._v("save")]),t._v("  \r\n            Đồng ý\r\n          ")],1)],1)],1)],1)],1)])},J=[],Y=a("e3ce"),Q=Y["a"],Z=a("0798"),tt=a("ac7c"),et=a("8fea"),at=a("4bd4"),rt=a("b56d"),it=a("2677"),ot=Object(f["a"])(Q,q,J,!1,null,null,null);ot.options.__file="Landing.vue";var nt=ot.exports;m()(ot,{VAlert:Z["a"],VAutocomplete:h["a"],VBtn:_["a"],VCard:x["a"],VCardActions:T["a"],VCardText:T["b"],VCheckbox:tt["a"],VDataTable:et["a"],VDialog:b["a"],VFlex:w["a"],VForm:at["a"],VIcon:S["a"],VLayout:R["a"],VList:D["a"],VListTile:k["a"],VListTileTitle:P["b"],VMenu:I["a"],VProgressCircular:L["a"],VSelect:rt["a"],VSpacer:V["a"],VTextField:it["a"],VToolbar:N["a"],VToolbarTitle:M["a"]});var st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n  13123\n")])},lt=[],pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-chitiet"},[a("div",[a("v-tabs",{attrs:{"icons-and-text":""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:1,attrs:{href:"#tabs-1"},on:{click:function(e){t.getNextActions()}}},[a("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[3===t.originality?a("span",[t._v("XỬ LÝ HỒ SƠ")]):a("span",[t._v("CHUẨN BỊ HỒ SƠ")])])],1),a("v-tabs-items",{staticStyle:{overflow:"visible!important"},attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("v-tab-item",{key:1,attrs:{value:"tabs-1","reverse-transition":"fade-transition",transition:"fade-transition"}},[0!==t.checkInput&&t.filterNextActionEnable(t.btnDossierDynamics)?a("div",{staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0]}},[a("v-expansion-panel-content",{key:1,attrs:{"hide-actions":""}},[t._v("\n                123\n              ")])],1)],1):t._e(),t.btnStateVisible?a("div",{staticClass:"px-4 py-3",staticStyle:{"border-bottom":"1px solid #dddddd"}},[t._l(t.btnPlugins,function(e,r){return a("v-btn",{key:r,staticClass:"ml-0 mr-2",attrs:{color:"primary",loading:t.loadingPlugin,disabled:t.loadingPlugin},nativeOn:{click:function(a){t.processPullBtnplugin(e,r)}}},[t._v("\n              "+t._s(e.pluginName)+"\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])}),t.btnStepsDynamics.length>0&&t.thongTinChiTietHoSo["permission"].indexOf("write")>=0?a("v-menu",{staticStyle:{display:"inline-block",position:"relative !important"},attrs:{bottom:"","offset-y":""}},[a("v-btn",{staticClass:"deactive__btn",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Khác   "),a("v-icon",{attrs:{size:"18"}},[t._v("arrow_drop_down")])],1),a("v-list",t._l(t.btnStepsDynamics,function(e,r){return a("v-list-tile",{key:r,on:{click:function(a){t.btnActionEvent(e,r)}}},[a("v-list-tile-title",[t._v(t._s(e.title))])],1)}),1)],1):t._e()],2):t._e()])],1)],1)],1)])},ct=[],dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[t._l(t.dossierTemplateItems,function(e,r){return t.partTypes.includes(e.partType)&&t.checkVisibleTemp(e,r)?a("div",{key:e.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{expand:"",value:[t.currentFormView==="formAlpaca"+e.partNo+t.id]}},[a("v-expansion-panel-content",{attrs:{"hide-actions":""}},[a("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(e){t.stateView=!1}},slot:"header"},[a("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:t.checkStyle(e)}},[a("div",{staticClass:"mr-2",staticStyle:{"min-width":"18px",display:"flex"},on:{click:function(a){t.onlyView&&e.hasForm?t.viewFile2(e):t.loadAlpcaForm(e)}}},[a("div",{staticClass:"header__tphs"},[a("span",{staticClass:"text-bold"},[t._v(t._s(r+1)+".")]),t._v("  ")]),a("div",{staticClass:"header__tphs"},[a("v-tooltip",{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                      "+t._s(e.partName)+"  \n                      "),e.required?a("span",{staticStyle:{color:"red"}},[t._v(" (*) ")]):t._e(),t._v("\n                        \n                    ")]),e.partTip["tip"]?a("span",[t._v(t._s(e.partTip["tip"]))]):t._e()]),e.hasForm&&e.daKhai&&(1===t.originality&&2!==e.partType||1!==t.originality)?a("v-tooltip",{attrs:{top:""}},[a("i",{staticClass:"fa fa-file-text-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator","aria-hidden":"true"},slot:"activator"}),a("span",[t._v("Biểu mẫu trực tuyến (Đã khai)")])]):t._e(),e.hasForm&&!e.daKhai&&(1===t.originality&&2!==e.partType||1!==t.originality)?a("v-tooltip",{attrs:{top:""}},[a("i",{staticClass:"fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator"},slot:"activator"}),a("span",[t._v("Biểu mẫu trực tuyến (Chưa khai)")])]):t._e(),t._v("\n                    \n                  "),!e.hasForm&&e.hasFileTemp?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(a){a.stopPropagation(),t.downloadFileTemplate(e,r)}},slot:"activator"},[t._v("save_alt")]),a("span",[t._v("Biểu mẫu điền thủ công")])],1):t._e()],1)]),a("div",{staticStyle:{display:"flex"}},[1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?a("v-text-field",{attrs:{placeholder:"Nhập lý do",rules:[function(t){return!!t||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(a){if(!("button"in a)&&t._k(a.keyCode,"enter",13,a.key,"Enter"))return null;t.changeFileComment(e,r)}},model:{value:e.fileComment,callback:function(a){t.$set(e,"fileComment",a)},expression:"item.fileComment"}}):t._e(),1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){a.stopPropagation(),t.changeFileComment(e,r)}},slot:"activator"},[a("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("send")])],1),a("span",[t._v("Gửi")])],1):t._e()],1),e.fileComment&&!e.stateEditFileCheck?a("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[t._v(t._s(e.fileComment))]):t._e(),e.fileComment&&!e.stateEditFileCheck&&1===t.checkInput?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.stateEditFileCheck=!e.stateEditFileCheck}},slot:"activator"},[t._v("edit")]),a("span",[t._v("Chỉnh sửa ý kiến")])],1):t._e(),t._l(t.dossierFilesItems,function(r,i){return e.partNo!==r.dossierPartNo||r.eForm?t._e():a("div",{key:i},[a("div",{style:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.viewFile2(r)}}},[0!==r.fileSize?a("v-icon",[t._v("attach_file")]):t._e(),t._v("\n                    "+t._s(r.displayName)+" - \n                    "),a("i",[t._v(t._s(r.modifiedDate))])],1),t.onlyView||1===t.checkInput?t._e():a("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(e){e.stopPropagation(),t.deleteSingleFile(r,i)}}},[a("v-icon",{staticStyle:{color:"red"}},[t._v("delete_outline")])],1)],1)])}),a("div",{staticClass:"mr-3 my-1 py-2",staticStyle:{display:"none",border:"1px solid #f3ae75"},attrs:{id:"fileApplicant-"+e.partNo}},t._l(t.dossierFilesApplicant,function(r,i){return r.dossierTemplateNo===t.thongTinHoSo["dossierTemplateNo"]&&e.partNo===r.dossierPartNo?a("div",{key:i},[r.eForm?a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.viewGiayToDaNop(r)}},slot:"activator"},[a("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),t._v("  \n                        "+t._s(r.referenceUid)+"."+t._s(r.fileType)+" - \n                        "),a("i",[t._v(t._s(r.modifiedDate))])]),a("span",[t._v("Bản khai trực tuyến")])])],1):a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.viewGiayToDaNop(r)}},slot:"activator"},[0!==r.fileSize?a("v-icon",{staticStyle:{color:"#0d71bb"}},[t._v("attach_file")]):t._e(),t._v("\n                        "+t._s(r.displayName)+" - \n                        "),a("i",[t._v(t._s(r.modifiedDate))])],1),a("span",[t._v("Đính kèm")])])],1)]):t._e()}),0)],2)]),e.hasForm&&!t.onlyView?a("v-card",[a("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[a("v-layout",{attrs:{wrap:""}},[t.stateView?t._e():a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[a("div",{style:t.pstFixed>t.pstEl&&t.pstFixed<t.endEl+t.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+e.partNo+t.id}},[e.hasForm&&!t.onlyView&&1!==t.checkInput?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.saveAlpacaForm(e,r)}}},[t._v("Lưu lại")]):t._e(),e.daKhai&&e.hasForm&&!t.onlyView&&1!==t.checkInput?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.deleteSingleFileEform(e,r)}}},[t._v("Xóa")]):t._e(),e.daKhai&&e.hasForm?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.previewFileEfom(e,r)}}},[t._v("In")]):t._e()],1),!t.onlyView||e.daKhai?a("div",{class:{no_acction__event:t.onlyView},attrs:{id:"formAlpaca"+e.partNo+t.id}}):t._e()])],1)],1)],1):t._e()],1)],1),a("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-layout",{attrs:{row:"",wrap:""}},[1===t.originality||1!==e.partType||t.thongTinHoSo.online||1===t.checkInput?t._e():a("v-flex",{staticClass:"layout wrap",staticStyle:{width:"110px"}},[a("v-select",{attrs:{items:t.fileMarkItems,disabled:t.onlyView},on:{change:function(e){t.changeFileMark(e,r)}},model:{value:t.dossierTemplateItems[r].fileMark,callback:function(e){t.$set(t.dossierTemplateItems[r],"fileMark",e)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===t.checkInput?a("v-flex",{staticClass:"layout wrap",staticStyle:{width:"120px"}},[a("v-select",{attrs:{items:t.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(e){t.changeFileCheck(e,r)}},model:{value:t.dossierTemplateItems[r].fileCheck,callback:function(e){t.$set(t.dossierTemplateItems[r],"fileCheck",e)},expression:"dossierTemplateItems[index].fileCheck"}})],1):e.fileCheck>0?a("v-flex",{staticClass:"layout wrap",style:{width:"20px","align-items":"center","margin-left":"10px","margin-top":t.thongTinHoSo.online?"10px":"0px"}},[1===e.fileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("done")]),a("span",[t._v("Đạt")])],1):2===e.fileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("close")]),a("span",[t._v("Không đạt")])],1):t._e()],1):t._e(),1!==t.checkInput?a("v-flex",{class:{"text-xs-right":t.onlyView},style:{width:t.onlyView?"auto":"90px"}},[a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+e.partNo},on:{change:function(a){t.onUploadSingleFile(a,e,r)}}}),3!==e.partType||3!==t.originality||t.onlyView?t._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){t.addFileOther(e)}},slot:"activator"},[a("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("add")])],1),a("span",[t._v("Thêm giấy tờ khác")])],1),t.progressUploadPart===e.partNo?a("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t.progressUploadPart===e.partNo||t.onlyView?t._e():a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){t.pickFile(e)}},slot:"activator"},[a("v-badge",[a("v-icon",{attrs:{size:"16",color:"primary"}},[t._v("cloud_upload")])],1)],1),e.partTip["extensions"]||e.partTip["maxSize"]?a("span",[t._v("Chấp nhận tải lên các định dạng: "+t._s(e.partTip["extensions"])+". Tối đa "+t._s(e.partTip["maxSize"])+" MB ")]):a("span",[t._v("Tải file lên")])],1),t.partNoApplicantHasFile(e.partNo)&&!t.onlyView?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){t.showFilesApplicant(e.partNo)}},slot:"activator"},[a("v-badge",[a("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[t._v("warning")])],1)],1),a("span",[t._v("Giấy tờ đã nộp")])],1):t._e()],1):t._e()],1)],1)],1):t._e()}),t.partTypes.includes(2)?t._e():a("div",[a("v-layout",{staticClass:"mx-4",attrs:{wrap:""}},[!t.onlyView||t.onlyView&&t.applicantNoteDossier?a("v-flex",{staticClass:"my-0 py-2 text-bold",staticStyle:{width:"60px"}},[t._v("Ghi chú:")]):t._e(),a("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[t.onlyView?t._e():a("div",{staticClass:"pl-2"},[a("v-text-field",{staticClass:"py-0",attrs:{"multi-line":"",rows:"3"},on:{input:t.changeApplicantNote},model:{value:t.applicantNoteDossier,callback:function(e){t.applicantNoteDossier=e},expression:"applicantNoteDossier"}})],1),t.onlyView&&t.applicantNoteDossier?a("p",{staticClass:"my-0 py-2"},[t._v("\n            "+t._s(t.applicantNoteDossier)+" \n          ")]):t._e()])],1)],1),a("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:t.dialogAddOtherTemp,callback:function(e){t.dialogAddOtherTemp=e},expression:"dialogAddOtherTemp"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-title",{staticClass:"headline"},[t._v("Tên giấy tờ")]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.cancelDialog(e)}}},[a("v-icon",[t._v("clear")])],1),t.loadingAddOther?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):t._e(),a("v-card-text",{staticClass:"pb-0 pt-4"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Tên giấy tờ:",rules:[function(t){return!!t||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:t.otherDossierTemplate,callback:function(e){t.otherDossierTemplate=e},expression:"otherDossierTemplate"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-3",flat:"flat"},nativeOn:{click:function(e){return t.cancelDialog(e)}}},[t._v("\n              Quay lại\n            ")]),a("v-btn",{attrs:{color:"primary",flat:"flat",loading:t.loadingAddOther},nativeOn:{click:function(e){return t.addOtherTemplate(e)}}},[t._v("\n              Đồng ý\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])],1)],1)],1)],1)],2),a("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t.pdfEform?a("span",[t._v("Bản khai trực tuyến")]):a("span",[t._v("File đính kèm")])]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a("v-icon",[t._v("clear")])],1),t.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},ut=[],gt={data:function(){return{}}},ft=gt,vt=a("4ca6"),mt=a("12b2"),yt=a("cd55"),ht=a("49e2"),_t=a("8e36"),xt=Object(f["a"])(ft,dt,ut,!1,null,null,null);xt.options.__file="TiepNhanHoSo_ThanhPhanHoSo.vue";var Tt=xt.exports;m()(xt,{VBadge:vt["a"],VBtn:_["a"],VCard:x["a"],VCardActions:T["a"],VCardText:T["b"],VCardTitle:mt["a"],VDialog:b["a"],VExpansionPanel:yt["a"],VExpansionPanelContent:ht["a"],VFlex:w["a"],VForm:at["a"],VIcon:S["a"],VLayout:R["a"],VProgressCircular:L["a"],VProgressLinear:_t["a"],VSelect:rt["a"],VSpacer:V["a"],VTextField:it["a"],VTooltip:X["a"]});var Ct={props:["index","id"],components:{"thanh-phan-ho-so":Tt},data:function(){return{}}},bt=Ct,wt=a("71a3"),St=a("c671"),Rt=a("fe57"),Dt=a("aac8"),kt=a("9a96"),Ot=Object(f["a"])(bt,pt,ct,!1,null,null,null);Ot.options.__file="XemChiTietHoSoDetailCanBo.vue";var Pt=Ot.exports;m()(Ot,{VBtn:_["a"],VExpansionPanel:yt["a"],VExpansionPanelContent:ht["a"],VIcon:S["a"],VList:D["a"],VListTile:k["a"],VListTileTitle:P["b"],VMenu:I["a"],VTab:wt["a"],VTabItem:St["a"],VTabs:Rt["a"],VTabsItems:Dt["a"],VTabsSlider:kt["a"]});var It={props:["id","formCode"],components:{"xem-chi-tiet-ho-so-detail-can-bo":Pt},data:function(){return{initData:null,step:""}}},At=It,Lt=Object(f["a"])(At,st,lt,!1,null,null,null);Lt.options.__file="DetailForward.vue";var Et=Lt.exports,Vt=[{path:"/bao-cao/:index",name:"LandingBaocao",component:nt,props:!0},{path:"/danh-sach-ho-so/:index",name:"Landing",component:function(){return a.e("Landing").then(a.bind(null,"306c"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/tiep-nhan-ho-so/:id/:formCode",name:"TiepNhanHoSoDetail",component:function(){return a.e("TiepNhanHoSoDetail").then(a.bind(null,"d129"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/bo-sung-ho-so/:id",name:"HoanThienBoSungHoSoDetail",component:function(){return a.e("HoanThienBoSungHoSoDetail").then(a.bind(null,"a35c"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/ho-so/:id/:formCode",name:"DetailForward",component:Et,props:!0},{path:"*",name:"NotFound",component:z}];r["a"].use(H["a"]);var Nt=new H["a"]({routes:Vt}),Mt=Nt,Xt=a("4360"),Bt=a("967d");r["a"].use(Bt["default"]);var Kt=void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0;p.a.defaults.withCredentials=!0,p.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",p.a.defaults.headers.common["groupId"]=Kt,r["a"].config.productionTip=!0,r["a"].mixin({methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new r["a"]({router:Mt,store:Xt["a"],created:function(){var t=this;t.$nextTick(function(){if(t.$store.dispatch("loadInitResource"),window.location.href.endsWith("#/")){var e="";window.location.href.includes("/so-theo-doi")&&(e="?reportType=register"),t.$router.push("/bao-cao/0"+e)}})},render:function(t){return t(K)}}).$mount("#app_dynamic_report")},"74ef":function(t,e,a){},"830f":function(module,__webpack_exports__,__webpack_require__){"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var a=[],r=!0,i=!1,o=void 0;try{for(var n,s=t[Symbol.iterator]();!(r=(n=s.next()).done);r=!0)if(a.push(n.value),e&&a.length===e)break}catch(l){i=!0,o=l}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return a}function _arrayWithHoles(t){if(Array.isArray(t))return t}__webpack_exports__["a"]={data:function(){return{toDateFormatted:null,toDate:null,rawDate:null,maxDate:"",minDate:"",rules:{required:function(t){return!!t||"Bắt buộc phải nhập."},number:function(t){var e=/^\d+$/;return e.test(t)||"Bắt buộc phải nhập kiểu số."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Sai định dạng thư điện tử."}}}},props:["value","item","dataValue","dataAll"],created:function(){var t=this;t.$nextTick(function(){if(t.rawDate=t.parseDate(t.dataValue),t.toDateFormatted=t.dataValue,t.item.hasOwnProperty("before")){var e=t.dataAll[t.item["before"]],a=t.parseDate(e);t.maxDate=a}else t.maxDate=null;if(t.item.hasOwnProperty("after")){var r=t.dataAll[t.item["after"]],i=t.parseDate(r);t.minDate=i}else t.minDate=null})},watch:{toDate:function(t){var e=this;e.toDateFormatted=e.formatDate(t),e.$emit("input",new Date(t).getTime()),e.$emit("change",new Date(t).getTime())},$route:function(t,e){var a=this;if(a.rawDate=a.parseDate(a.dataValue),a.toDateFormatted=a.dataValue,a.item.hasOwnProperty("before")){var r=a.dataAll[a.item["before"]],i=a.parseDate(r);a.maxDate=i}else a.maxDate=null;if(a.item.hasOwnProperty("after")){var o=a.dataAll[a.item["after"]],n=a.parseDate(o);a.minDate=n}else a.minDate=null}},methods:{formatDate:function(t){if(!t)return null;var e=new Date(t);return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()},parseDate:function(t){if(!t)return null;var e=t.split("/"),a=_slicedToArray(e,3),r=a[0],i=a[1],o=a[2];return"".concat(o,"-").concat(i.padStart(2,"0"),"-").concat(r.padStart(2,"0"))},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")}}}},bbd0:function(t){t.exports={defaultData:{betimesCount:0,cancelledCount:0,companyId:0,deniedCount:0,domainCode:"",domainName:"",doneCount:0,govAgencyCode:"",govAgencyName:"",groupId:"",insideCount:0,interoperatingCount:0,month:0,onegateCount:0,onlineCount:0,ontimeCount:0,ontimePercentage:0,outsideCount:0,overdueCount:0,overtimeCount:0,overtimeInside:0,overtimeOutside:0,processCount:0,processingCount:0,receivedCount:0,releaseCount:0,releasingCount:0,remainingCount:0,reporting:!1,totalCount:0,undueCount:0,unresolvedCount:0,waitingCount:0,year:0}}},d7f8:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isMobile?t._e():a("div",{staticStyle:{"text-align":"left",position:"absolute","line-height":"46px"}},[t._v("Tổng số "),a("span",{staticClass:"text-bold primary--text"},[t._v(t._s(t.total))]),t._v(" hồ sơ. ")]),t.total>0?a("div",{staticClass:"vue-tiny-pagination pagination layout",style:t.isMobile?"":"justify-content: flex-end; -webkit-justify-content: flex-end;"},[a("div",{class:t.isMobile?"pr-3 xs4 flex":"px-3 xs4 flex"},[a("v-select",{attrs:{items:t.totalPagesData,"item-text":"text","item-value":"value",autocomplete:""},on:{input:t.goToPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("ul",{staticClass:"tiny-pagination",class:t.customClass},[a("li",{staticClass:"page-item",class:t.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:t.classFirstPage,on:{click:function(e){return e.preventDefault(),t.lastPageLast(e)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("first_page")])])]),a("li",{staticClass:"page-item",class:t.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:t.classFirstPage,staticStyle:{"border-left":"0"},on:{click:function(e){return e.preventDefault(),t.lastPage(e)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("chevron_left")])])]),a("li",{staticClass:"page-item",staticStyle:{"margin-right":"0"}},[a("button",{staticClass:"pagination__navigation pagination__navigation--disabled text-bold primary--text",staticStyle:{"border-right":"0","border-left":"0"}},[t._v("\n          "+t._s(t.titlePage)+"\n        ")])]),a("li",{staticClass:"page-item",class:t.classLastPage,staticStyle:{"margin-right":"0"}},[a("button",{staticClass:"pagination__navigation",class:t.classLastPage,staticStyle:{"border-left":"0"},on:{click:function(e){return e.preventDefault(),t.nextPage(e)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("chevron_right")])])]),a("li",{staticClass:"page-item",class:t.classLastPage},[a("button",{staticClass:"pagination__navigation",class:t.classLastPage,on:{click:function(e){return e.preventDefault(),t.nextPageLast(e)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("last_page")])])])])]):t._e()])},i=[],o="TinyPagination",n={name:o,props:{total:{type:Number,required:!0},page:{type:Number,default:1},lang:{type:String,default:"en"},customClass:{type:String},limits:{type:Array,default:function(){return[10,15,20,50,100]}},showLimit:{type:Boolean,default:!0}},data:function(){return{version:"0.2.1",currentPage:1,currentLimit:20,translations:{en:{prev:"Previous",title:"Page",next:"Next"}},availableLanguages:["en"]}},created:function(){this.currentPage=this.page},watch:{page:function(t){this.currentPage=parseInt(t)}},computed:{translation:function(){return this.availableLanguages.includes(this.lang)?this.translations[this.lang]:this.translations["en"]},totalPages:function(){return Math.ceil(this.total/this.currentLimit)},totalPagesData:function(){for(var t=[],e={},a=1;a<=this.totalPages;++a)e={value:a,text:"Trang "+a},t.push(e);return t},titlePage:function(){return"".concat(this.currentPage)},classFirstPage:function(){return{"c-not-allowed pagination__navigation--disabled":1===this.currentPage}},classLastPage:function(){return{"c-not-allowed pagination__navigation--disabled":this.currentPage===this.totalPages}},isMobile:function(){return this.$store.getters.getIsMobile}},methods:{nextPage:function(){this.currentPage!==this.totalPages&&(this.currentPage+=1,this.$emit("tiny:change-page",{page:this.currentPage}))},lastPage:function(){this.currentPage>1&&(this.currentPage-=1,this.$emit("tiny:change-page",{page:this.currentPage}))},nextPageLast:function(){this.currentPage=this.totalPages,this.$emit("tiny:change-page",{page:this.totalPages})},lastPageLast:function(){this.currentPage=1,this.$emit("tiny:change-page",{page:1})},goToPage:function(){this.$emit("tiny:change-page",{page:this.currentPage})},onLimitChange:function(){this.currentPage=1}}},s=n,l=a("2877"),p=a("6544"),c=a.n(p),d=a("b56d"),u=Object(l["a"])(s,r,i,!1,null,null,null);u.options.__file="Pagination.vue";e["a"]=u.exports;c()(u,{VSelect:d["a"]})},df87:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",{staticClass:"mx-0 my-0",attrs:{flat:""},nativeOn:{click:function(e){return t.doDownloadXlsx(e)}}},[a("v-icon",[t._v("receipt")]),t._v("   Tải Excel\n")],1)},i=[],o=(a("7ea2"),{props:{fields:void 0,data:void 0,downloadname:"export.pdf",pdfblob:null},data:function(){return{dataToExport:"",myPdfToConvert:null}},created:function(){var t=this;t.$nextTick(function(){t.myPdfToConvert=new Blob([t.pdfblob],{type:"application/pdf"})})},computed:{downloadUrl:function(){return this.data.length>0?"data:text/csv;charset=UTF-8,%EF%BB%BF"+encodeURIComponent(this.dataToExport):"javascript:void(0);"}},methods:{doDownloadXlsx:function(){var t=this,e={file:t.myPdfToConvert};t.$store.dispatch("doExportXlsx",e)}}}),n=o,s=a("2877"),l=a("6544"),p=a.n(l),c=a("8336"),d=a("132d"),u=Object(s["a"])(n,r,i,!1,null,null,null);u.options.__file="CsvDownload.vue";e["a"]=u.exports;p()(u,{VBtn:c["a"],VIcon:d["a"]})},e3ce:function(module,__webpack_exports__,__webpack_require__){"use strict";var axios__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__),vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("6c39"),vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_1__),pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("e499"),pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_2__),pdfmake_build_vfs_fonts__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("4ebb"),pdfmake_build_vfs_fonts__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(pdfmake_build_vfs_fonts__WEBPACK_IMPORTED_MODULE_3__),_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("19cd"),_CsvDownload_vue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("df87"),jstoxml__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("fd52"),jstoxml__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(jstoxml__WEBPACK_IMPORTED_MODULE_6__),_Pagination_vue__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("d7f8"),_ThongTinHoSo_vue__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("4270");function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var a=[],r=!0,i=!1,o=void 0;try{for(var n,s=t[Symbol.iterator]();!(r=(n=s.next()).done);r=!0)if(a.push(n.value),e&&a.length===e)break}catch(l){i=!0,o=l}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return a}function _arrayWithHoles(t){if(Array.isArray(t))return t}pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_2___default.a.vfs=pdfmake_build_vfs_fonts__WEBPACK_IMPORTED_MODULE_3___default.a.pdfMake.vfs;var jsonMapper=__webpack_require__("8092"),FileSaver=__webpack_require__("c28d");__webpack_exports__["a"]={props:["index"],components:{"vue-friendly-iframe":vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_1___default.a,DatetimePicker:_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_4__["a"],"vue-csv-downloader":_CsvDownload_vue__WEBPACK_IMPORTED_MODULE_5__["a"],"tiny-pagination":_Pagination_vue__WEBPACK_IMPORTED_MODULE_7__["a"],"thong-tin-ho-so":_ThongTinHoSo_vue__WEBPACK_IMPORTED_MODULE_8__["a"]},data:function(){return{govAgencyCodeCurrentSite:"",dialogConfigColumn:!1,showHTML:!1,columnLength:0,listAnswers:[],dataTableRender:[],dataTableVottingList:[],hiddenAside:!1,groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",doExportExcel:!1,doExportWord:!1,exportWordReport:!1,showGuilds:!1,showPicker:!0,showErrorData:!1,showCSVDownload:!1,csvExport:[],fields:[],valid:!1,api:"",proxyApi:"",onlines:[],online:"",itemsReportsConfig:[],report1Def:{},docDefinition:{},isDVC:!1,isCallBack:!0,fromDate:null,fromDateShow:!1,menufromDate:!1,fromDateFormatted:null,toDate:null,toDateShow:!1,menutoDate:!1,toDateMin:null,toDateFormatted:null,danhSachBaoCaos:[],years:[],year:(new Date).getFullYear()+"",months:[],month:0,agencyLists:[],govAgency:0,danhSachBaoCao:[],pdfBlob:null,isShowLoading:!1,loadingPdfVer2:!1,isCallData:!1,nameReport:"",showConfig:!1,filters:[],data:"",customize:!1,groupBy:[],groupByVal:"",groupByValObj:"",dataReportXX:"",buttons:[],buttonsVal:"",buttonsShow:!1,noHeader:!0,exportXML:!1,jsonMapperJson:{},userData:"",bookList:[],totalCount:0,listTongHop:[],headerTongHop:[{text:"Lĩnh vực",align:"center",sortable:!1},{text:"Số lượng hồ sơ",align:"center",sortable:!1},{text:"In danh sách/ tải danh sách excel",align:"center",sortable:!1}],headers:[{text:"STT",align:"center",sortable:!1},{text:"Mã hồ sơ",align:"center",sortable:!1},{text:"Chủ hồ sơ",align:"center",sortable:!1},{text:"Ngày tiếp nhận",align:"center",sortable:!1},{text:"Ngày hẹn trả",align:"center",sortable:!1},{text:"Trạng thái",align:"center",sortable:!1}],pagination:{page:1,rowsPerPage:20,totalItems:0},sttQuyen:1,targetFilter:"",tableType:"",dossierList:[],currentLimit:100,dossierInfo:"",dialogDossierList:!1,dialogDossierDetail:!1,dialogPDF:!1,dialogPDFLoading:!1,isRender:!1,dataExportExcel:"",groupIdList:[],filterGroup:{},groupIdListSelected:"",dataBodyHTML:[],dataRowRenderHtmlTable:[],headerRenderHtmlTable:[],widthRenderHtmlTable:[],statisticVotingDossiers:!1,loadingGetDossier:!1,hasVoting:[],showTableVoting:!1,govCodeSelected:""}},computed:{itemsReports:function(){return this.$store.getters.itemsReports},reportConfigStatic:function(){return this.$store.getters.reportConfigStatic},selected:{get:function(){return this.$store.getters.selected},set:function(t){this.$store.commit("setselected",t)}},reportType:{get:function(){return this.$store.getters.reportType},set:function(t){this.$store.commit("setreportType",t)}},groupType:{get:function(){return this.$store.getters.groupType},set:function(t){this.$store.commit("setgroupType",t)}}},created:function(){var t=this;t.$nextTick(function(){t.getAllSite();try{t.exportWordReport=exportWordReport}catch(i){}var e=t.$router.history.current.query,a=t.$router.history.current.query,r={headers:{groupId:window.themeDisplay.getScopeGroupId()},params:{}};axios__WEBPACK_IMPORTED_MODULE_0___default.a.get("/o/v1/opencps/users/"+window.themeDisplay.getUserId(),r).then(function(e){t.userData=e.data}).catch(function(t){}),a.hasOwnProperty("doreport")?t.hiddenAside=!0:t.hiddenAside=!1,setTimeout(function(){if(t.showErrorData=!1,t.showCSVDownload=!1,t.agencyLists=[],t.api="",t.proxyApi="",t.filters=[],t.customize=!1,t.data={},t.groupBy=[],t.itemsReportsConfig=[],t.dataReportXX="",t.buttons=[],t.buttonsVal="",t.buttonsShow=!1,t.exportXML=!1,t.itemsReports[t.index]){if(t.nameReport=t.itemsReports[t.index]["reportName"],t.itemsReports[t.index]["filterConfig"].hasOwnProperty("reportConfig")&&(t.itemsReportsConfig=t.itemsReports[t.index]["filterConfig"]["reportConfig"]),t.itemsReports[t.index]["filterConfig"].hasOwnProperty("customize")&&(t.customize=t.itemsReports[t.index]["filterConfig"]["customize"]),(t.itemsReports[t.index]["reportCode"].indexOf("REGISTER")>=0||t.itemsReports[t.index]["reportCode"].indexOf("STATISTIC")>=0)&&(t.customize=!1),t.itemsReports[t.index]["filterConfig"].hasOwnProperty("autoHeader")&&(t.noHeader=t.itemsReports[t.index]["filterConfig"]["autoHeader"]),t.itemsReports[t.index]["filterConfig"].hasOwnProperty("groupBy")){t.groupBy=t.itemsReports[t.index]["filterConfig"]["groupBy"];var r=t.groupBy[0]["key"];for(var i in t.groupBy)if(t.groupBy[i]["selected"]){r=t.groupBy[i]["key"];break}t.groupByVal=r}if(t.itemsReports[t.index]["filterConfig"].hasOwnProperty("groupIds"))if(t.itemsReports[t.index]["filterConfig"]["showTable"]?t.agencyLists=t.itemsReports[t.index]["filterConfig"]["groupIdsAdmin"]:t.agencyLists=t.itemsReports[t.index]["filterConfig"]["groupIds"],t.agencyLists.length>0){var o=t.agencyLists[0]["value"];for(var n in t.agencyLists)if(t.agencyLists[n]["selected"]){o=t.agencyLists[n]["value"];break}a.hasOwnProperty("groupId")&&a["groupId"]?t.govAgency=Number(a["groupId"]):t.govAgency=o}else t.govAgency="site";else t.govAgency="site";t.itemsReports[t.index]["filterConfig"].hasOwnProperty("api")&&(t.api=t.itemsReports[t.index]["filterConfig"]["api"]),t.itemsReports[t.index]["filterConfig"].hasOwnProperty("proxyApi")&&(t.proxyApi=t.itemsReports[t.index]["filterConfig"]["proxyApi"]),t.itemsReports[t.index]["filterConfig"].hasOwnProperty("filters")&&(t.filters=t.itemsReports[t.index]["filterConfig"]["filters"],t.itemsReports[t.index]["filterConfig"]["domainOrService"]&&("domainCode"===t.groupByVal&&(t.filters=t.filters.filter(function(t){return"serviceCode"!==t.key})),"serviceCode"===t.groupByVal&&(t.filters=t.filters.filter(function(t){return"domainCode"!==t.key}))),t.itemsReports[t.index]["filterConfig"]["version"]&&!t.itemsReports[t.index]["filterConfig"]["chonDonViGroupBy"]&&("domainCode"===t.groupByVal&&(t.filters=t.filters.filter(function(t){return"serviceCode"!==t.key&&"govAgencyCode"!==t.key})),"serviceCode"===t.groupByVal&&(t.filters=t.filters.filter(function(t){return"domainCode"!==t.key&&"govAgencyCode"!==t.key})))),t.itemsReports[t.index]["filterConfig"].hasOwnProperty("groupIdList")?t.groupIdList=t.itemsReports[t.index]["filterConfig"]["groupIdList"]:t.groupIdList=[];var s=function(e){"select"!==t.filters[e]["type"]&&"date"!==t.filters[e]["type"]||(t.data[t.filters[e]["key"]]=t.filters[e]["value"],"date"===t.filters[e]["type"]&&a.hasOwnProperty(t.filters[e]["key"])&&a[t.filters[e]["key"]]&&(t.data[t.filters[e]["key"]]=a[t.filters[e]["key"]])),"select"===t.filters[e]["type"]&&t.filters[e].hasOwnProperty("api")&&t.filters[e]["api"]&&(t.filters[e]["groupId"]=t.govAgency&&!isNaN(Number(t.govAgency))?t.govAgency:window.themeDisplay.getScopeGroupId(),t.filters[e]["source"]&&0!==t.filters[e]["source"].length||t.$store.dispatch("loadDataSource",t.filters[e]).then(function(a){t.filters[e]["source"]=a,t.filters[e]["appendItem"]&&(t.filters[e]["source"]=t.filters[e]["appendItem"].concat(a))}).catch(function(){}))};for(var l in t.filters)s(l);for(var p in t.itemsReports[t.index]["filterConfig"].hasOwnProperty("buttons")&&(t.buttons=t.itemsReports[t.index]["filterConfig"]["buttons"],t.buttons.length>0&&setTimeout(function(){t.buttonsShow=!0},100)),t.itemsReports[t.index]["filterConfig"].hasOwnProperty("exportXML")&&(t.exportXML=t.itemsReports[t.index]["filterConfig"]["exportXML"]),t.report1Def={},t.itemsReportsConfig)t.report1Def[t.itemsReportsConfig[p]["value"]]=t.itemsReportsConfig[p]["text"];t.reportType=t.itemsReports[t.index]["document"],t.showConfig&&(t.showConfig=!1,setTimeout(function(){t.showConfig=!0},200)),t.pdfBlob=""}a.hasOwnProperty("doreport")&&t.doCreateReport(!1),e.hasOwnProperty("employeeEmail")&&(t.changeGovAgency(),t.govAgency=e.hasOwnProperty("govId")?Number(e["govId"]):"",t.data["employeeEmail"]=e["employeeEmail"],t.data["fromDate"]=e["fromDate"],t.data["toDate"]=e["toDate"],t.data["listRate"]=e.hasOwnProperty("listRate")?e.listRate:"3,2,1",setTimeout(function(){t.doCreateReport(!1)},300))},1e3)})},watch:{$route:function(t,e){var a=this,r=t.query;if(a.showTableVoting=!1,a.dataTableVottingList=[],a.listTongHop=[],a.totalCount=0,a.showHTML=!1,a.showErrorData=!1,a.showCSVDownload=!1,a.itemsReportsConfig=[],a.groupBy=[],a.customize=!1,a.data={},a.api="",a.proxyApi="",a.filters=[],a.report1Def={},a.dataReportXX="",a.buttons=[],a.buttonsVal="",a.buttonsShow=!1,a.exportXML=!1,a.nameReport=a.itemsReports[a.index]?a.itemsReports[a.index]["reportName"]:"",a.itemsReports[a.index]["filterConfig"].hasOwnProperty("reportConfig")&&(a.itemsReportsConfig=a.itemsReports[a.index]["filterConfig"]["reportConfig"]),a.itemsReports[a.index]["filterConfig"].hasOwnProperty("customize")&&(a.customize=a.itemsReports[a.index]["filterConfig"]["customize"]),(a.itemsReports[a.index]["reportCode"].indexOf("REGISTER")>=0||a.itemsReports[a.index]["reportCode"].indexOf("STATISTIC")>=0)&&(a.customize=!1),a.itemsReports[a.index]["filterConfig"].hasOwnProperty("autoHeader")?a.noHeader=a.itemsReports[a.index]["filterConfig"]["autoHeader"]:a.noHeader=!0,a.itemsReports[a.index]["filterConfig"].hasOwnProperty("groupBy")){a.groupBy=a.itemsReports[a.index]["filterConfig"]["groupBy"];var i=a.groupBy[0]["key"];for(var o in a.groupBy)if(a.groupBy[o]["selected"]){i=a.groupBy[o]["key"];break}a.groupByVal=i}if(a.itemsReports[a.index]["filterConfig"].hasOwnProperty("groupIds"))if(a.itemsReports[a.index]["filterConfig"]["showTable"]?a.agencyLists=a.itemsReports[a.index]["filterConfig"]["groupIdsAdmin"]:a.agencyLists=a.itemsReports[a.index]["filterConfig"]["groupIds"],a.agencyLists.length>0){var n=a.agencyLists[0]["value"];for(var s in a.agencyLists)if(a.agencyLists[s]["selected"]){n=a.agencyLists[s]["value"];break}a.govAgency=n}else a.govAgency="site";else a.govAgency="site";for(var l in a.itemsReports[a.index]["filterConfig"].hasOwnProperty("api")&&(a.api=a.itemsReports[a.index]["filterConfig"]["api"]),a.itemsReports[a.index]["filterConfig"].hasOwnProperty("proxyApi")&&(a.proxyApi=a.itemsReports[a.index]["filterConfig"]["proxyApi"]),a.itemsReports[a.index]["filterConfig"].hasOwnProperty("filters")&&(a.filters=a.itemsReports[a.index]["filterConfig"]["filters"],a.itemsReports[a.index]["filterConfig"]["domainOrService"]&&("domainCode"===a.groupByVal&&(a.filters=a.filters.filter(function(t){return"serviceCode"!==t.key})),"serviceCode"===a.groupByVal&&(a.filters=a.filters.filter(function(t){return"domainCode"!==t.key}))),a.itemsReports[a.index]["filterConfig"]["version"]&&!a.itemsReports[a.index]["filterConfig"]["chonDonViGroupBy"]&&("domainCode"===a.groupByVal&&(a.filters=a.filters.filter(function(t){return"serviceCode"!==t.key&&"govAgencyCode"!==t.key})),"serviceCode"===a.groupByVal&&(a.filters=a.filters.filter(function(t){return"domainCode"!==t.key&&"govAgencyCode"!==t.key})))),a.itemsReports[a.index]["filterConfig"].hasOwnProperty("groupIdList")?a.groupIdList=a.itemsReports[a.index]["filterConfig"]["groupIdList"]:a.groupIdList=[],a.filterGroup)a.filterGroup[l]=null;for(var p in a.itemsReportsConfig)a.report1Def[a.itemsReportsConfig[p]["value"]]=a.itemsReportsConfig[p]["text"];a.reportType=a.itemsReports[a.index]["document"],a.pdfBlob="";var c=function(t){"select"!==a.filters[t]["type"]&&"date"!==a.filters[t]["type"]||(a.data[a.filters[t]["key"]]=a.filters[t]["value"]),"select"===a.filters[t]["type"]&&a.filters[t].hasOwnProperty("api")&&a.filters[t]["api"]&&(a.filters[t]["groupId"]=a.govAgency&&!isNaN(Number(a.govAgency))?a.govAgency:window.themeDisplay.getScopeGroupId(),a.filters[t]["source"]&&0!==a.filters[t]["source"].length||a.$store.dispatch("loadDataSource",a.filters[t]).then(function(e){a.filters[t]["source"]=e,a.filters[t]["appendItem"]&&(a.filters[t]["source"]=a.filters[t]["appendItem"].concat(e))}).catch(function(){}))};for(var d in a.filters)c(d);a.itemsReports[a.index]["filterConfig"].hasOwnProperty("buttons")&&(a.buttons=a.itemsReports[a.index]["filterConfig"]["buttons"],a.buttons.length>0&&setTimeout(function(){a.buttonsShow=!0},100)),a.itemsReports[a.index]["filterConfig"].hasOwnProperty("exportXML")&&(a.exportXML=a.itemsReports[a.index]["filterConfig"]["exportXML"]),a.showConfig&&(a.showConfig=!1,setTimeout(function(){a.showConfig=!0},200)),r.hasOwnProperty("employeeEmail")&&(a.changeGovAgency(),a.govAgency=r.hasOwnProperty("govId")?Number(r["govId"]):"",a.data["employeeEmail"]=r["employeeEmail"],a.data["fromDate"]=r["fromDate"],a.data["toDate"]=r["toDate"],a.data["listRate"]=r.hasOwnProperty("listRate")?r.listRate:"3,2,1",setTimeout(function(){a.doCreateReport(!1)},500))},itemsReports:function(){var t=this;setTimeout(function(){if(t.showErrorData=!1,t.showCSVDownload=!1,t.agencyLists=[],t.api="",t.proxyApi="",t.filters=[],t.customize=!1,t.data={},t.groupBy=[],t.itemsReportsConfig=[],t.dataReportXX="",t.buttons=[],t.buttonsVal="",t.buttonsShow=!1,t.exportXML=!1,t.itemsReports[t.index]){if(t.nameReport=t.itemsReports[t.index]["reportName"],t.itemsReports[t.index]["filterConfig"].hasOwnProperty("reportConfig")&&(t.itemsReportsConfig=t.itemsReports[t.index]["filterConfig"]["reportConfig"]),t.itemsReports[t.index]["filterConfig"].hasOwnProperty("customize")&&(t.customize=t.itemsReports[t.index]["filterConfig"]["customize"]),(t.itemsReports[t.index]["reportCode"].indexOf("REGISTER")>=0||t.itemsReports[t.index]["reportCode"].indexOf("STATISTIC")>=0)&&(t.customize=!1),t.itemsReports[t.index]["filterConfig"].hasOwnProperty("autoHeader")&&(t.noHeader=t.itemsReports[t.index]["filterConfig"]["autoHeader"]),t.itemsReports[t.index]["filterConfig"].hasOwnProperty("groupBy")){t.groupBy=t.itemsReports[t.index]["filterConfig"]["groupBy"];var e=t.groupBy[0]["key"];for(var a in t.groupBy)if(t.groupBy[a]["selected"]){e=t.groupBy[a]["key"];break}t.groupByVal=e}if(t.itemsReports[t.index]["filterConfig"].hasOwnProperty("groupIds")&&(t.itemsReports[t.index]["filterConfig"]["showTable"]?t.agencyLists=t.itemsReports[t.index]["filterConfig"]["groupIdsAdmin"]:t.agencyLists=t.itemsReports[t.index]["filterConfig"]["groupIds"],t.agencyLists.length>0)){var r=t.agencyLists[0]["value"];for(var i in t.agencyLists)if(t.agencyLists[i]["selected"]){r=t.agencyLists[i]["value"];break}t.govAgency=r}for(var o in t.itemsReports[t.index]["filterConfig"].hasOwnProperty("api")&&(t.api=t.itemsReports[t.index]["filterConfig"]["api"]),t.itemsReports[t.index]["filterConfig"].hasOwnProperty("proxyApi")&&(t.proxyApi=t.itemsReports[t.index]["filterConfig"]["proxyApi"]),t.itemsReports[t.index]["filterConfig"].hasOwnProperty("filters")&&(t.filters=t.itemsReports[t.index]["filterConfig"]["filters"]),t.itemsReports[t.index]["filterConfig"].hasOwnProperty("groupIdList")?t.groupIdList=t.itemsReports[t.index]["filterConfig"]["groupIdList"]:t.groupIdList=[],t.filters)"select"!==t.filters[o]["type"]&&"date"!==t.filters[o]["type"]||(t.data[t.filters[o]["key"]]=t.filters[o]["value"]);for(var n in t.itemsReports[t.index]["filterConfig"].hasOwnProperty("buttons")&&(t.buttons=t.itemsReports[t.index]["filterConfig"]["buttons"],t.buttons.length>0&&setTimeout(function(){t.buttonsShow=!0},100)),t.itemsReports[t.index]["filterConfig"].hasOwnProperty("exportXML")&&(t.exportXML=t.itemsReports[t.index]["filterConfig"]["exportXML"]),t.report1Def={},t.itemsReportsConfig)t.report1Def[t.itemsReportsConfig[n]["value"]]=t.itemsReportsConfig[n]["text"];t.reportType=t.itemsReports[t.index]["document"],t.showConfig&&(t.showConfig=!1,setTimeout(function(){t.showConfig=!0},200)),t.pdfBlob=""}},200)},groupByVal:function(t){var e=this;if(t&&e.itemsReports[e.index]["filterConfig"]["domainOrService"]||t&&e.itemsReports[e.index]["filterConfig"]["version"]&&!e.itemsReports[e.index]["filterConfig"]["chonDonViGroupBy"]){e.itemsReports[e.index]["filterConfig"].hasOwnProperty("filters")&&(e.filters=e.itemsReports[e.index]["filterConfig"]["filters"]),t&&e.itemsReports[e.index]["filterConfig"]["domainOrService"]&&("domainCode"===e.groupByVal&&(e.filters=e.filters.filter(function(t){return"serviceCode"!==t.key})),"serviceCode"===e.groupByVal&&(e.filters=e.filters.filter(function(t){return"domainCode"!==t.key}))),t&&e.itemsReports[e.index]["filterConfig"]["version"]&&!e.itemsReports[e.index]["filterConfig"]["chonDonViGroupBy"]&&("domainCode"===e.groupByVal&&(e.filters=e.filters.filter(function(t){return"serviceCode"!==t.key&&"govAgencyCode"!==t.key})),"serviceCode"===e.groupByVal&&(e.filters=e.filters.filter(function(t){return"domainCode"!==t.key&&"govAgencyCode"!==t.key})));var a=function(t){"select"===e.filters[t]["type"]&&e.filters[t].hasOwnProperty("api")&&e.filters[t]["api"]&&(e.filters[t]["source"]&&0!==e.filters[t]["source"].length||e.$store.dispatch("loadDataSource",e.filters[t]).then(function(a){e.filters[t]["source"]=a,e.filters[t]["appendItem"]&&(e.filters[t]["source"]=e.filters[t]["appendItem"].concat(a))}).catch(function(){}))};for(var r in e.filters)a(r)}},api:function(t){var e=this;-1!==t.indexOf("isGetVotingData")?e.statisticVotingDossiers=!0:e.statisticVotingDossiers=!1}},methods:{showConfigColumnPdf:function(){var t=this;t.dialogConfigColumn=!0},doCreatePDF:function(){var t=this;if(t.headerRenderHtmlTable=[],-1===t.itemsReports[t.index]["reportCode"].indexOf("STATISTIC"))t.headerRenderHtmlTable=t.itemsReportsConfig.filter(function(t){return t.selected});else{var e=t.itemsReports[t.index]["tableConfig"]["docDefinition"]["content"][2]["table"]["body"];t.headerRenderHtmlTable=e}t.reportType.startsWith("STATISTIC")?t.doPrintReportFix():t.reportType.startsWith("DANH_GIA_CAN_BO")?t.doDynamicVoting():t.doDynamicReport(),t.isCallData=!0},doDynamicVoting:function(){var t=this;t.showErrorData=!1,t.isShowLoading=!0,t.agencyLists=[],t.api="",t.proxyApi="",t.itemsReports[t.index]["filterConfig"]["showTable"]?t.agencyLists=t.itemsReports[t.index]["filterConfig"]["groupIdsAdmin"]:t.agencyLists=t.itemsReports[t.index]["filterConfig"]["groupIds"],t.api=t.itemsReports[t.index]["filterConfig"]["api"],t.itemsReports[t.index]["filterConfig"].hasOwnProperty("proxyApi")&&(t.proxyApi=t.itemsReports[t.index]["filterConfig"]["proxyApi"]);var e={document:t.reportType,data:t.data,api:t.api,proxyApi:t.proxyApi},a=!0,r=function(r){if(r===t.groupIdListSelected)return e["govAgency"]=t.filterGroup[r],e["agencyLists"]=t.groupIdList.find(function(t){return t.key===r}).value,a=!1,"break"};for(var i in t.filterGroup){var o=r(i);if("break"===o)break}a&&(e["govAgency"]=t.govAgency,e["agencyLists"]=t.agencyLists);t.itemsReports[t.index]["filterConfig"]["sumKey"],t.itemsReports[t.index]["filterConfig"]["selection"],t.itemsReports[t.index]["filterConfig"]["merge"],t.itemsReports[t.index]["filterConfig"]["sort"],t.itemsReports[t.index]["filterConfig"]["subKey"];var n=[];if(t.govAgency){var s=t.agencyLists.filter(function(e){return e.value===t.govAgency})[0];n=[{jobposCode:s.value,groupId:s.code}]}else for(var l=t.agencyLists.length,p=1;p<l;p++){var c={jobposCode:t.agencyLists[p].value,groupId:t.agencyLists[p].code};n.push(c)}var d={jobposList:n,data:t.data};t.doExportExcel?t.$store.dispatch("exportVotingEmployee",d).then(function(e){t.isShowLoading=!1}).catch(function(){t.isShowLoading=!1}):t.$store.dispatch("getReportVotingEmployee",d).then(function(e){if(t.isShowLoading=!1,e.hasOwnProperty("data")&&e.data){t.dataTableVottingList=e.data;for(var a=[],r=t.dataTableVottingList[0]["employees"][0]["voting"],i=0;i<r.length;i++)for(var o=0;o<r[i]["choices"].length;o++)a.push(r[i]["choices"][o]);t.listAnswers=a,t.columnLength=t.listAnswers.length+2;for(var n=[],s=t.dataTableVottingList.length,l=t.dataTableVottingList,p=0;p<s;p++){n.push({group:p+1,name:l[p]["jobposName"],data:[]});for(var c=l[p]["employees"].length,d=0;d<c;d++){for(var u=l[p]["employees"][d]["voting"].length,g=[],f=0;f<u;f++)g=g.concat(l[p]["employees"][d]["voting"][f]["selected"]);n.push({child:p+1+"."+(d+1),name:l[p]["employees"][d]["name"],total:l[p]["employees"][d]["totalVote"],data:g})}}t.dataTableRender=n}else t.dataTableVottingList=[],t.showErrorData=!0}).catch(function(){t.isShowLoading=!1,t.dataTableVottingList=[],t.showErrorData=!0})},doDynamicReport:function doDynamicReport(){var vm=this;vm.isRender=!1,vm.docDefinition={};var docDString={};vm.dataReportXX="",docDString=JSON.stringify(vm.reportConfigStatic[vm.index]["docDefinition"]);var titleGov=vm.userData.hasOwnProperty("govAgencyName")&&vm.userData.govAgencyName?vm.userData.govAgencyName:vm.itemsReports[vm.index]["filterConfig"]["govAgencyName"];for(var key in titleGov||(titleGov=vm.$store.getters.siteName),docDString=docDString.replace(/\[\$siteName\$\]/g,String(titleGov).toUpperCase()),vm.filters){var find=vm.filters[key]["key"],currentVal=vm.data[vm.filters[key]["key"]];if(""!==currentVal&&void 0!==currentVal&&null!==currentVal){var dateStr=String(currentVal).indexOf("/")<=0?new Date(currentVal).toLocaleDateString("vi-VN"):currentVal;if("Invalid Date"!==dateStr&&13===String(currentVal).length)docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),dateStr);else{if("select"===vm.filters[key]["type"])for(var keySource in vm.filters[key]["source"])String(vm.filters[key]["source"][keySource]["value"])===String(currentVal)&&(currentVal=vm.filters[key]["source"][keySource].hasOwnProperty("nameViewPdf")?vm.filters[key]["source"][keySource]["nameViewPdf"]:vm.filters[key]["source"][keySource]["name"]);docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),currentVal)}}else{for(var _keySource in currentVal="",vm.filters[key]["source"])if("0"===currentVal){currentVal=vm.filters[key]["source"][_keySource].hasOwnProperty("nameViewPdf")?vm.filters[key]["source"][_keySource]["nameViewPdf"]:vm.filters[key]["source"][_keySource]["name"];break}docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),currentVal)}}for(var _key7 in vm.itemsReports[vm.index]["filterConfig"]["showTable"]?vm.agencyLists=vm.itemsReports[vm.index]["filterConfig"]["groupIdsAdmin"]:vm.agencyLists=vm.itemsReports[vm.index]["filterConfig"]["groupIds"],vm.agencyLists)if(String(vm.agencyLists[_key7]["value"])===String(vm.govAgency)){docDString=docDString.replace(/\[\$groupIds\$\]/g,vm.agencyLists[_key7]["text"]),docDString=docDString.replace(/\[\$groupIdsHeader\$\]/g,vm.agencyLists[_key7]["text"].toUpperCase());break}vm.itemsReports[vm.index]["filterConfig"]["version"]?(vm.api=vm.itemsReports[vm.index]["filterConfig"]["apiLayDanhSach"],vm.data[vm.groupByVal]=vm.targetFilter[vm.groupByVal]):vm.api=vm.itemsReports[vm.index]["filterConfig"]["api"],vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("proxyApi")&&(vm.proxyApi=vm.itemsReports[vm.index]["filterConfig"]["proxyApi"]),vm.api.indexOf("type=31")&&vm.groupByVal&&(vm.data["groupBy"]=vm.groupByVal);var widthsConfig=[];widthsConfig.push(30);var headerTableReport="[",header2TableReport="[";headerTableReport+=JSON.stringify({text:"STT",alignment:"center",bold:!0})+",",header2TableReport+=JSON.stringify({text:"(1)",alignment:"center",italics:!0})+",";var ine=2,colLeng=0;for(var _key8 in vm.itemsReportsConfig)if(vm.itemsReportsConfig[_key8].hasOwnProperty("selected")&&vm.itemsReportsConfig[_key8]["selected"]){var widthConfig=vm.itemsReportsConfig[_key8].hasOwnProperty("width")?vm.itemsReportsConfig[_key8]:"auto";colLeng+=1,widthsConfig.push(widthConfig);var str1=" ";void 0!==vm.report1Def[vm.itemsReportsConfig[_key8]["value"]]&&null!==vm.report1Def[vm.itemsReportsConfig[_key8]["value"]]&&""!==vm.report1Def[vm.itemsReportsConfig[_key8]["value"]]&&(str1=vm.report1Def[vm.itemsReportsConfig[_key8]["value"]]),headerTableReport+=JSON.stringify({text:str1,alignment:"center",bold:!0})+",",header2TableReport+=JSON.stringify({text:"("+ine+")",alignment:"center",italics:!0})+",",ine+=1}vm.noHeader&&(vm.dataReportXX+=headerTableReport.substring(0,headerTableReport.length-1)+"],",vm.dataReportXX+=header2TableReport.substring(0,header2TableReport.length-1)+"],");var filter={document:vm.reportType,data:vm.data,api:vm.api,proxyApi:vm.proxyApi,formatDate:vm.itemsReports[vm.index]["filterConfig"]["version"]||"timestamp"===vm.itemsReports[vm.index]["filterConfig"]["typeDate"]?"timestamp":"date"},check=!0,_loop5=function(t){if(t===vm.groupIdListSelected){var e=vm.groupIdList.find(function(e){return e.key===t});return filter["govAgency"]=vm.filterGroup[t],filter["agencyLists"]=e?e.value:[],check=!1,"break"}};for(var _key9 in vm.filterGroup){var _ret2=_loop5(_key9);if("break"===_ret2)break}if(check&&(filter["govAgency"]=vm.govAgency,filter["agencyLists"]=vm.agencyLists),vm.pdfBlob=null,vm.itemsReports[vm.index]["filterConfig"]["version"]||(vm.isShowLoading=!0),vm.itemsReports[vm.index]["filterConfig"]["version"]){var counterPage=vm.itemsReports[vm.index]["filterConfig"]["numberPerPage"];filter["start"]=vm.sttQuyen*counterPage-counterPage,filter["end"]=vm.sttQuyen*counterPage,vm.dialogPDF=!0,vm.loadingPdfVer2=!0}vm.api.indexOf("type=31")&&"site"===vm.govAgency&&!vm.data["govAgencyCode"]&&(vm.data["govAgencyCode"]=vm.govAgencyCodeCurrentSite);var dispatchUse=vm.itemsReports[vm.index]["filterConfig"]["version"]||"timestamp"===vm.itemsReports[vm.index]["filterConfig"]["typeDate"]?"getDossiers":"getAgencyReportListsOld";vm.$store.dispatch(dispatchUse,filter).then(function(result){if(null!==result&&void 0!==result){var dataReport;if(vm.itemsReports[vm.index]["filterConfig"]["version"]||"timestamp"===vm.itemsReports[vm.index]["filterConfig"]["typeDate"]?result.data&&result.data.hasOwnProperty("data")?(dataReport=result.data.data,vm.dossierList=result.data.data):(dataReport=result.data,vm.dossierList=result.data):result&&result.hasOwnProperty("data")?(dataReport=result.data,vm.dossierList=result.data):(dataReport=result,vm.dossierList=result),vm.pagination.totalItems=vm.dossierList.length,vm.dossierList&&0===vm.dossierList.length)return vm.isShowLoading=!1,void(vm.showErrorData=!0);vm.showErrorData=!1;var dossierRaw={},dataReportCurrent={},dataReportTotal="",textGroup="",codeGroup="";for(var keyGroup in vm.groupBy)if(String(vm.groupBy[keyGroup]["key"])===String(vm.groupByVal)){textGroup=vm.groupBy[keyGroup]["display"],codeGroup=vm.groupBy[keyGroup]["key"];break}try{vm.groupByValObj=vm.groupBy.filter(function(t){return t.key===vm.groupByVal})[0]}catch(error){}if(vm.itemsReports[vm.index]["filterConfig"]["sumKey"]&&vm.itemsReports[vm.index]["filterConfig"]["version"]&&(vm.itemsReports[vm.index]["filterConfig"]["sumKey"]=vm.groupByVal),vm.itemsReports[vm.index]["filterConfig"]["levelGroup"]&&3==vm.itemsReports[vm.index]["filterConfig"]["levelGroup"]){var dataRowTotal=[],totalText="Tổng cộng";for(var keyMapping in dataRowTotal.push({text:totalText,colSpan:vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("hiddenStt")?1:2,bold:!0,alignment:"center",style:"tdStyle"}),vm.itemsReportsConfig)"note"===vm.itemsReportsConfig[keyMapping]["value"]||vm.itemsReportsConfig[keyMapping].hasOwnProperty("notSum")?dataRowTotal.push({text:"",alignment:"center",style:"tdStyle"}):vm.itemsReportsConfig[keyMapping].hasOwnProperty("type")&&"currency"===vm.itemsReportsConfig[keyMapping].type?dataRowTotal.push({text:0,alignment:"center",style:"tdStyle",type:"currency"}):dataRowTotal.push({text:0,alignment:"center",style:"tdStyle"});var keyNameGroup1="",keyNameGroup2="";"domainCode"===vm.groupByVal&&(keyNameGroup1="govDomainFeeData",keyNameGroup2="domainFeeData"),"serviceCode"===vm.groupByVal&&(keyNameGroup1="govServiceFeeData",keyNameGroup2="serviceFeeData");for(var _key10=0;_key10<dataReport.length;_key10++){var parent0=dataReport[_key10];if(dataReportTotal+=JSON.stringify([{colSpan:vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("hiddenStt")?colLeng:colLeng+1,text:parent0["govAgencyName"],bold:!0,style:"tdStyle"}])+",",parent0[keyNameGroup1]&&parent0[keyNameGroup1].length)for(var key1=0;key1<parent0[keyNameGroup1].length;key1++){var parent1=parent0[keyNameGroup1][key1];if(dataReportTotal+=JSON.stringify([{colSpan:vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("hiddenStt")?colLeng:colLeng+1,text:parent1[textGroup],bold:!1,style:"tdStyle"}])+",",parent1[keyNameGroup2]&&parent1[keyNameGroup2].length)for(var indexStt=0,key2=0;key2<parent1[keyNameGroup2].length;key2++){var dataToExportCSVItem=[],dataRow=[],dossierObj=parent1[keyNameGroup2][key2];for(var keyVal in indexStt+=1,dataRow.push({text:indexStt,alignment:"center",style:"tdStyle"}),vm.itemsReportsConfig)if(vm.itemsReportsConfig[keyVal].hasOwnProperty("selected")&&vm.itemsReportsConfig[keyVal]["selected"]){var alignmentConfig="center";vm.itemsReportsConfig[keyVal].hasOwnProperty("align")&&(alignmentConfig=vm.itemsReportsConfig[keyVal]["align"]);var ddStr=" ",currentConfig=vm.itemsReportsConfig[keyVal];if(currentConfig.hasOwnProperty("calculator")){var calu=currentConfig["calculator"].replace(/dataInput/g,"dossierObj");ddStr=isNaN(eval(calu))||"note"==vm.itemsReportsConfig[keyVal]["value"]?eval(calu):Math.round(eval(calu))}else void 0!==dossierObj[vm.itemsReportsConfig[keyVal]["value"]]&&null!==dossierObj[vm.itemsReportsConfig[keyVal]["value"]]&&""!==dossierObj[vm.itemsReportsConfig[keyVal]["value"]]&&(ddStr=dossierObj[vm.itemsReportsConfig[keyVal]["value"]]);if(dataToExportCSVItem.push(ddStr),dataRow.push({text:currentConfig.hasOwnProperty("type")&&"currency"===currentConfig.type?vm.currency(ddStr):ddStr,alignment:alignmentConfig,style:"tdStyle"}),vm.reportType.startsWith("REPORT_STATISTIC")){var indexRow=dataRow.length-1;dataRowTotal[indexRow]["text"]=Number(dataRowTotal[indexRow]["text"].toString().replace(/\./g,""))+Number(dataRow[indexRow]["text"].toString().replace(/\./g,"")),"currency"===dataRowTotal[indexRow]["type"]&&(dataRowTotal[indexRow]["text"]=vm.currency(dataRowTotal[indexRow]["text"])),("note"===vm.itemsReportsConfig[keyVal]["value"]||vm.itemsReportsConfig[keyVal].hasOwnProperty("notSum"))&&(dataRowTotal[indexRow]["text"]="")}}dataReportTotal+=JSON.stringify(dataRow)+","}}}dataReportTotal+=JSON.stringify(dataRowTotal),vm.dataReportXX+=dataReportTotal,docDString=docDString.replace(/"\[\$tableWidth\$\]"/g,JSON.stringify(widthsConfig)),docDString=docDString.replace(/"\[\$report\$\]"/g,vm.dataReportXX),vm.dataExportExcel=docDString,vm.docDefinition=JSON.parse(docDString);var pdfDocGenerator=pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_2___default.a.createPdf(vm.docDefinition);vm.itemsReports[vm.index]["filterConfig"]["version"]?(pdfDocGenerator.getBlob(function(t){vm.pdfBlob=window.URL.createObjectURL(t),vm.pdfBlob?vm.isRender=!0:vm.isRender=!1}),setTimeout(function(){vm.loadingPdfVer2=!1},300)):pdfDocGenerator.getBlob(function(t){if(vm.pdfBlob=window.URL.createObjectURL(t),vm.isShowLoading=!1,vm.doExportExcel&&!vm.doExportWord&&vm.$store.dispatch("getExcelReportFromServer",{data:docDString,fileName:"baocaothongke.xlsx"}),vm.doExportWord){var e=JSON.parse(docDString),a=Object.assign(e,{reportType:"docx"});vm.$store.dispatch("getExcelReportFromServer",{data:JSON.stringify(a),fileName:"baocaothongke.docx"})}})}else{for(var _key11 in dataReport)if(dataReportCurrent=dataReport[_key11],""!==dossierRaw[dataReportCurrent[vm.groupByVal]]&&void 0!==dossierRaw[dataReportCurrent[vm.groupByVal]])dossierRaw[dataReportCurrent[vm.groupByVal]][codeGroup]===dataReportCurrent[codeGroup]&&(!vm.itemsReports[vm.index]["filterConfig"]["sumKey"]||vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("sumKey")&&vm.itemsReports[vm.index]["filterConfig"]["sumKey"]&&dataReportCurrent[vm.itemsReports[vm.index]["filterConfig"]["sumKey"]])&&(dossierRaw[dataReportCurrent[vm.groupByVal]]["dossiers"].push(dataReportCurrent),dossierRaw[dataReportCurrent[vm.groupByVal]]["totalChild"]=dossierRaw[dataReportCurrent[vm.groupByVal]]["totalChild"]+1);else{var dossierRawItem={};!dataReportCurrent.hasOwnProperty("dossierId")&&!vm.reportType.startsWith("REPORT_STATISTIC")||vm.reportType.startsWith("REPORT_STATISTIC")&&vm.itemsReports[vm.index]["filterConfig"]["sumKey"]&&!dataReportCurrent[vm.itemsReports[vm.index]["filterConfig"]["sumKey"]]?(dossierRawItem[vm.groupByVal]=dataReportCurrent[vm.groupByVal],dossierRawItem[textGroup]=dataReportCurrent[textGroup],dossierRawItem["totalChild"]=0,dossierRawItem["dossiers"]=[],dossierRaw[dataReportCurrent[vm.groupByVal]]=dossierRawItem,dossierRaw[dataReportCurrent[vm.groupByVal]][textGroup]=dataReportCurrent[textGroup],dossierRaw[dataReportCurrent[vm.groupByVal]]["dossiers"]=[]):(dossierRawItem[vm.groupByVal]=dataReportCurrent[vm.groupByVal],dossierRawItem[textGroup]=dataReportCurrent[textGroup],dossierRawItem["totalChild"]=1,dossierRawItem["dossiers"]=[],dossierRaw[dataReportCurrent[vm.groupByVal]]=dossierRawItem,dossierRaw[dataReportCurrent[vm.groupByVal]][textGroup]=dataReportCurrent[textGroup],dossierRaw[dataReportCurrent[vm.groupByVal]]["dossiers"].push(dataReportCurrent))}vm.dataRowRenderHtmlTable=dossierRaw;var dataToExportCSV=[],dataRaw=[];for(var _key12 in dossierRaw)_key12&&0!==dossierRaw[_key12]["totalChild"]&&dataRaw.push(dossierRaw[_key12]);dataRaw.reverse();var _dataRowTotal=[],dataRowAverageTotal=[],_totalText="Tổng cộng",totalAverageText="Trung bình";for(var _keyMapping in vm.statisticVotingDossiers&&(totalAverageText="Điểm trung bình các chỉ số"),_dataRowTotal.push({text:_totalText,colSpan:vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("hiddenStt")?1:2,bold:!0,alignment:"center",style:"tdStyle"}),dataRowAverageTotal.push({text:totalAverageText,colSpan:vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("hiddenStt")?1:2,bold:!0,alignment:"center",style:"tdStyle"}),vm.itemsReportsConfig)"note"===vm.itemsReportsConfig[_keyMapping]["value"]||vm.itemsReportsConfig[_keyMapping].hasOwnProperty("notSum")?(_dataRowTotal.push({text:"",alignment:"center",style:"tdStyle"}),dataRowAverageTotal.push({text:"",alignment:"center",style:"tdStyle"})):vm.itemsReportsConfig[_keyMapping].hasOwnProperty("type")&&"currency"===vm.itemsReportsConfig[_keyMapping].type?(_dataRowTotal.push({text:0,alignment:"center",style:"tdStyle",type:"currency"}),dataRowAverageTotal.push({text:0,alignment:"center",style:"tdStyle",type:"currency"})):(_dataRowTotal.push({text:0,alignment:"center",style:"tdStyle"}),dataRowAverageTotal.push({text:0,alignment:"center",style:"tdStyle"}));var indexNotShowGroup=1,indexCountTotal=0;for(var _key13 in dataRaw){if(vm.groupByValObj&&Object.keys(vm.groupByValObj).length>0&&vm.groupByValObj.constructor===Object&&!vm.groupByValObj.hasOwnProperty("showGroup")&&void 0!==dataRaw[_key13][vm.groupByVal]&&null!==dataRaw[_key13][vm.groupByVal]&&""!==dataRaw[_key13][vm.groupByVal]){var csvGroup=[];for(var colLengIndex in csvGroup.push(dataRaw[_key13][textGroup]+" ( "+dataRaw[_key13]["totalChild"]+" ) "),colLeng)csvGroup.push("");dataToExportCSV.push(csvGroup),dataReportTotal+=JSON.stringify([{colSpan:vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("hiddenStt")?colLeng:colLeng+1,text:dataRaw[_key13][textGroup]+" ( "+dataRaw[_key13]["totalChild"]+" ) ",bold:!0,style:"tdStyle"}])+","}var dossiersArray=dataRaw[_key13]["dossiers"],_indexStt=1,_dataRow=[];for(var keyDossier in dossiersArray){indexCountTotal+=1,_dataRow=[];var _dataToExportCSVItem=[],dossierObj5=dossiersArray[keyDossier];for(var _keyVal in _dataToExportCSVItem.push(_indexStt),vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("hiddenStt")||_dataRow.push({text:vm.groupByValObj&&Object.keys(vm.groupByValObj).length>0&&vm.groupByValObj.constructor===Object&&!vm.groupByValObj.hasOwnProperty("showGroup")?_indexStt:indexNotShowGroup,alignment:"center",style:"tdStyle"}),vm.itemsReportsConfig)if(vm.itemsReportsConfig[_keyVal].hasOwnProperty("selected")&&vm.itemsReportsConfig[_keyVal]["selected"]){var _alignmentConfig="center";vm.itemsReportsConfig[_keyVal].hasOwnProperty("align")&&(_alignmentConfig=vm.itemsReportsConfig[_keyVal]["align"]);var _ddStr=" ",_currentConfig=vm.itemsReportsConfig[_keyVal];if(_currentConfig.hasOwnProperty("calculator")){var _calu=_currentConfig["calculator"].replace(/dataInput/g,"dossierObj5");_ddStr=isNaN(eval(_calu))||"note"==vm.itemsReportsConfig[_keyVal]["value"]?eval(_calu):Math.round(eval(_calu))}else void 0!==dossierObj5[vm.itemsReportsConfig[_keyVal]["value"]]&&null!==dossierObj5[vm.itemsReportsConfig[_keyVal]["value"]]&&""!==dossierObj5[vm.itemsReportsConfig[_keyVal]["value"]]&&(_ddStr=dossierObj5[vm.itemsReportsConfig[_keyVal]["value"]]);if(_dataToExportCSVItem.push(_ddStr),_dataRow.push({text:_currentConfig.hasOwnProperty("type")&&"currency"===_currentConfig.type?vm.currency(_ddStr):_ddStr,alignment:_alignmentConfig,style:"tdStyle"}),vm.reportType.startsWith("REPORT_STATISTIC")){var _indexRow=_dataRow.length-1;_dataRowTotal[_indexRow]["text"]=Number(_dataRowTotal[_indexRow]["text"].toString().replace(/\./g,""))+Number(_dataRow[_indexRow]["text"].toString().replace(/\./g,"")),"currency"===_dataRowTotal[_indexRow]["type"]&&(_dataRowTotal[_indexRow]["text"]=vm.currency(_dataRowTotal[_indexRow]["text"])),("note"===vm.itemsReportsConfig[_keyVal]["value"]||vm.itemsReportsConfig[_keyVal].hasOwnProperty("notSum"))&&(_dataRowTotal[_indexRow]["text"]=""),dataRowAverageTotal[_indexRow]["text"]=_dataRowTotal[_indexRow]["text"]}}dataReportTotal+=JSON.stringify(_dataRow)+",",_indexStt+=1,indexNotShowGroup+=1,dataToExportCSV.push(_dataToExportCSVItem)}}dataReportTotal=dataReportTotal.substring(0,dataReportTotal.length-1),vm.dataReportXX+=dataReportTotal;var totalScoreVoting=0;for(var indexTotalAverage in dataRowAverageTotal)if(!isNaN(dataRowAverageTotal[indexTotalAverage]["text"])&&dataRowAverageTotal[indexTotalAverage]["text"]){totalScoreVoting+=dataRowAverageTotal[indexTotalAverage]["text"];var average=dataRowAverageTotal[indexTotalAverage]["text"]/indexCountTotal;dataRowAverageTotal[indexTotalAverage]["text"]=String(average).indexOf(".")>0?average.toFixed(1):average}for(var excelKey in vm.reportType.startsWith("REPORT_STATISTIC")&&!vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("hiddenTotalRow")&&("ontimePercentage"===vm.itemsReportsConfig[_dataRowTotal.length-2]["value"]&&(_dataRowTotal[_dataRowTotal.length-1]["text"]=Math.round(_dataRowTotal[_dataRowTotal.length-1]["text"]/indexCountTotal)),vm.dataReportXX+=","+JSON.stringify(_dataRowTotal)),vm.statisticVotingDossiers&&(vm.dataReportXX+=","+JSON.stringify(dataRowAverageTotal)),vm.csvExport=[],vm.csvExport=dataToExportCSV,vm.fields=[],vm.fields.push("STT"),vm.itemsReportsConfig)if(vm.itemsReportsConfig[excelKey]["selected"]){var stringColumn=vm.itemsReportsConfig[excelKey]["value"];""!==vm.itemsReportsConfig[excelKey]["text"]&&(stringColumn=vm.itemsReportsConfig[excelKey]["text"]),vm.fields.push(stringColumn)}vm.showCSVDownload=!0,vm.statisticVotingDossiers&&(docDString=docDString.replace(/\[\$totalScoreVoting\$\]/g,totalScoreVoting)),docDString=docDString.replace(/"\[\$tableWidth\$\]"/g,JSON.stringify(widthsConfig)),docDString=docDString.replace(/"\[\$report\$\]"/g,vm.dataReportXX),vm.dataExportExcel=docDString,vm.docDefinition=JSON.parse(docDString);var _pdfDocGenerator=pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_2___default.a.createPdf(vm.docDefinition);vm.itemsReports[vm.index]["filterConfig"]["version"]?(_pdfDocGenerator.getBlob(function(t){vm.pdfBlob=window.URL.createObjectURL(t),vm.pdfBlob?vm.isRender=!0:vm.isRender=!1}),setTimeout(function(){vm.loadingPdfVer2=!1},300)):_pdfDocGenerator.getBlob(function(t){if(vm.pdfBlob=window.URL.createObjectURL(t),vm.isShowLoading=!1,vm.doExportExcel&&!vm.doExportWord&&vm.$store.dispatch("getExcelReportFromServer",{data:docDString,fileName:"baocaothongke.xlsx"}),vm.doExportWord){var e=JSON.parse(docDString),a=Object.assign(e,{reportType:"docx"});vm.$store.dispatch("getExcelReportFromServer",{data:JSON.stringify(a),fileName:"baocaothongke.docx"})}})}}else vm.isShowLoading=!1,vm.showErrorData=!0})},doPrintReportFix:function doPrintReportFix(returnTable){var vm=this;vm.dataRowRenderHtmlTable=[],vm.isRender=!1,vm.agencyLists=[],vm.api="",vm.proxyApi="",vm.dataReportXX="",vm.docDefinition={};var docDString={};docDString=JSON.stringify(vm.reportConfigStatic[vm.index]["docDefinition"]);var titleGov=vm.userData.hasOwnProperty("govAgencyName")&&vm.userData.govAgencyName?vm.userData.govAgencyName:vm.itemsReports[vm.index]["filterConfig"]["govAgencyName"];for(var key in titleGov||(titleGov=vm.$store.getters.siteName),docDString=docDString.replace(/\[\$siteName\$\]/g,String(titleGov).toUpperCase()),vm.filters){var find=vm.filters[key]["key"],currentVal=vm.data[vm.filters[key]["key"]];if(""!==currentVal&&void 0!==currentVal&&null!==currentVal){var dateStr=String(currentVal).indexOf("/")<=0?new Date(currentVal).toLocaleDateString("vi-VN"):currentVal;if("Invalid Date"!==dateStr&&13===String(currentVal).length)docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),dateStr);else{if("select"===vm.filters[key]["type"])for(var keySource in vm.filters[key]["source"])String(vm.filters[key]["source"][keySource]["value"])===String(currentVal)&&(currentVal=vm.filters[key]["source"][keySource].hasOwnProperty("nameViewPdf")?vm.filters[key]["source"][keySource]["nameViewPdf"]:vm.filters[key]["source"][keySource]["name"]);docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),currentVal)}}else{for(var _keySource2 in currentVal="",vm.filters[key]["source"])if("0"===currentVal){currentVal=vm.filters[key]["source"][_keySource2].hasOwnProperty("nameViewPdf")?vm.filters[key]["source"][_keySource2]["nameViewPdf"]:vm.filters[key]["source"][_keySource2]["name"];break}docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),currentVal)}}for(var _key14 in vm.itemsReports[vm.index]["filterConfig"]["showTable"]?vm.agencyLists=vm.itemsReports[vm.index]["filterConfig"]["groupIdsAdmin"]:vm.agencyLists=vm.itemsReports[vm.index]["filterConfig"]["groupIds"],vm.agencyLists)if(String(vm.agencyLists[_key14]["value"])===String(vm.govAgency)){docDString=docDString.replace(/\[\$groupIds\$\]/g,String(vm.agencyLists[_key14]["text"]).toUpperCase());break}vm.api=vm.itemsReports[vm.index]["filterConfig"]["api"],vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("proxyApi")&&(vm.proxyApi=vm.itemsReports[vm.index]["filterConfig"]["proxyApi"]),vm.isShowLoading=!0;try{if(vm.api.indexOf("groupBy=serviceCode")>=0&&vm.data["domainCode"]&&!vm.data["serviceCode"]){for(var dataSource=vm.filters.filter(function(t){return"serviceCode"===t["key"]})[0],serviceCode=[],i=0;i<dataSource["source"].length;i++)serviceCode.push(dataSource["source"][i]["value"]);vm.data["serviceCode"]=serviceCode.toString()}}catch(error){}var filter={document:vm.reportType,data:vm.data,api:vm.api,proxyApi:vm.proxyApi};vm.api.indexOf("/o/statistic/dossier")>=0&&(filter.formatDate="timestamp"),vm.itemsReports[vm.index]["filterConfig"]["formatDate"]&&(filter.formatDate=vm.itemsReports[vm.index]["filterConfig"]["formatDate"]);var check=!0,_loop6=function(t){if(t===vm.groupIdListSelected)return filter["govAgency"]=vm.filterGroup[t],filter["agencyLists"]=vm.groupIdList.find(function(e){return e.key===t}).value,check=!1,"break"};for(var _key15 in vm.filterGroup){var _ret3=_loop6(_key15);if("break"===_ret3)break}if(check&&(filter["govAgency"]=vm.govAgency,filter["agencyLists"]=vm.agencyLists),filter["govAgency"])for(var _key16 in vm.agencyLists)if(String(vm.agencyLists[_key16]["value"])===String(filter["govAgency"])){docDString=docDString.replace(/\[\$groupIds\$\]/g,String(vm.agencyLists[_key16]["text"]).toUpperCase());break}vm.pdfBlob=null,vm.isShowLoading=!0;var sumKey=vm.itemsReports[vm.index]["filterConfig"]["sumKey"],selection=vm.itemsReports[vm.index]["filterConfig"]["selection"],merge=vm.itemsReports[vm.index]["filterConfig"]["merge"],sort=vm.itemsReports[vm.index]["filterConfig"]["sort"],subKey=vm.itemsReports[vm.index]["filterConfig"]["subKey"];try{if(filter.hasOwnProperty("govAgency")&&"allAgency"===filter.govAgency)filter.data["listGroupId"]="null";else if(!filter.hasOwnProperty("govAgency")||"allSBN"!==filter.govAgency&&"allQuanHuyen"!==filter.govAgency&&"allXaPhuong"!==filter.govAgency)filter.hasOwnProperty("govAgency")&&"site"!==filter.govAgency?filter.data["listGroupId"]=String(filter.govAgency):filter.govAgency;else{for(var ids=[],index=0;index<filter["agencyLists"].length;index++)ids.push(filter["agencyLists"][index]["value"]);filter.data["listGroupId"]=ids.toString()}if(filter.api.indexOf("/o/rest/v2/votings/reportVE")>=0)if(filter.data["listGroupId"]){var codeGovAgency=filter.agencyLists.filter(function(t){return t.value==filter.data["listGroupId"]})[0]["code"];filter.data.listGov=codeGovAgency||""}else filter.data.listGov=""}catch(error){filter.data.listGov=""}filter.api.indexOf("/o/rest/v2/votings/reportVE")>=0&&vm.doExportExcel?(filter["fileName"]=vm.itemsReports[vm.index]["reportName"].replace(/ /g,"")+".xlsx",filter["exportVoting"]=!0,vm.isShowLoading=!1):filter["exportVoting"]=!1;var dispatchUse=vm.api.indexOf("/o/statistic/dossier")>=0?"getAgencyReportLists":"getAgencyReportListsOld";vm.$store.dispatch(dispatchUse,filter).then(function(result){if(vm.showTableVoting=!1,returnTable)return vm.showTableVoting=!0,void(null!==result?(vm.isShowLoading=!1,vm.dataTableVottingList=result,vm.showErrorData=!1):(vm.dataTableVottingList=[],vm.isShowLoading=!1,vm.showErrorData=!0));if(null!==result){vm.dossierList=result,vm.pagination.totalItems=vm.dossierList.length,vm.showErrorData=!1;var _index=1,dataRowTotal=[],totalText="Tổng số";for(var keyMapping in"month"===sumKey&&(totalText="Cả năm"),dataRowTotal.push({text:totalText,colSpan:2,bold:!0,alignment:"center",style:"tdStyle"}),vm.itemsReportsConfig)"note"===vm.itemsReportsConfig[keyMapping]["value"]||vm.itemsReportsConfig[keyMapping].hasOwnProperty("notSum")?dataRowTotal.push({text:"",alignment:"center",style:"tdStyle"}):dataRowTotal.push({text:0,alignment:"center",style:"tdStyle"});var resultData=result;void 0!==selection&&null!==selection&&selection.length>0&&(resultData=result.filter(function(t){var e=0;for(var a in selection)if("#"===selection[a]["compare"]){if(String(t[selection[a]["key"]])!==String(selection[a]["value"]))return e+=1,t}else if("="===selection[a]["compare"]){if(""===selection[a]["value"]){if(""===String(t[selection[a]["key"]])||void 0===t[selection[a]["key"]]||null===t[selection[a]["key"]])return e+=1,t}else if(String(t[selection[a]["key"]])===String(selection[a]["value"]))return e+=1,t}else""!==String(t[selection[a]["key"]])&&void 0!==t[selection[a]["key"]]&&null!==t[selection[a]["key"]]||(e+=1);if(e===selection.length)return t}));var resultDataTotal=[resultData.find(function(t){if(null!==subKey&&void 0!==subKey&&""!==subKey){if((""===t[sumKey]||"0"===String(t[sumKey])||void 0===t[sumKey]||null===t[sumKey])&&""===t[subKey])return t}else if(""===t[sumKey]||"0"===String(t[sumKey])||void 0===t[sumKey]||null===t[sumKey])return t})];vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("notSumkey")&&(resultDataTotal=resultData);var resultDataVari={};for(var _key17 in resultData){var keyVari="";for(var keysd in merge)keyVari+=resultData[_key17][merge[keysd]]+"_";if(void 0===resultDataVari[keyVari]||null===resultDataVari[keyVari]||""===resultDataVari[keyVari])resultDataVari[keyVari]=resultData[_key17];else for(var kkey in resultDataVari[keyVari])""!==resultDataVari[keyVari][kkey]&&void 0!==resultDataVari[keyVari][kkey]&&null!==resultDataVari[keyVari][kkey]&&("NaN"===String(parseInt(resultDataVari[keyVari][kkey]))?resultDataVari[keyVari][kkey]=resultData[_key17][kkey]:resultDataVari[keyVari][kkey]="ontimePercentage"===kkey?parseInt(resultData[_key17][kkey]):"month"===kkey||"year"===kkey?parseInt(resultData[_key17][kkey]):parseInt(resultData[_key17][kkey])+parseInt(resultDataVari[keyVari][kkey]))}for(var _key18 in resultData=[],resultDataVari)void 0===_key18||_key18.startsWith("undefined")||resultData.push(resultDataVari[_key18]);if(""!==sort&&void 0!==sort&&null!==sort&&(resultData=vm.sortByKey(resultData,sort)),null!==subKey&&void 0!==subKey&&""!==subKey){var arraySubKey={};for(var _key19 in resultData)(""!==resultData[_key19][sumKey]&&"0"!==String(resultData[_key19][sumKey])&&void 0!==resultData[_key19][sumKey]&&null!==resultData[_key19][sumKey]||null!==subKey&&void 0!==subKey&&""!==subKey&&""===resultData[_key19][subKey]&&""!==resultData[_key19][sumKey]&&"0"!==resultData[_key19][sumKey])&&(void 0!==arraySubKey[resultData[_key19][sumKey]]&&null!==arraySubKey[resultData[_key19][sumKey]]?arraySubKey[resultData[_key19][sumKey]].push(resultData[_key19]):(arraySubKey[resultData[_key19][sumKey]]=[],arraySubKey[resultData[_key19][sumKey]].push(resultData[_key19])));for(var keySUBARRAY in resultData=[],arraySubKey){var subKeySortData=vm.sortByKey(arraySubKey[keySUBARRAY],subKey);for(var keyData in subKeySortData)resultData.push(subKeySortData[keyData])}}var dataToExportCSV=[];for(var _key20 in resultData){var dataInput=resultData[_key20];if(""!==resultData[_key20][sumKey]&&"0"!==String(resultData[_key20][sumKey])&&void 0!==resultData[_key20][sumKey]&&null!==resultData[_key20][sumKey]||null!==subKey&&void 0!==subKey&&""!==subKey&&""===resultData[_key20][subKey]&&""!==resultData[_key20][sumKey]&&"0"!==String(resultData[_key20][sumKey])){var dataRow=[],dataToExportCSVItem=[];null!==subKey&&void 0!==subKey&&""!==subKey&&""!==resultData[_key20][subKey]?(dataToExportCSVItem.push(""),dataRow.push({text:"",alignment:"center",style:"tdStyle"})):(dataToExportCSVItem.push(_index),dataRow.push({text:_index,alignment:"center",style:"tdStyle"}));var indexTotal=1;for(var _keyMapping2 in vm.itemsReportsConfig){var currentConfig=vm.itemsReportsConfig[_keyMapping2],dataText=" ",preff=currentConfig.hasOwnProperty("prefix")?currentConfig["prefix"]:"";currentConfig.hasOwnProperty("calculator")?dataText=isNaN(eval(currentConfig["calculator"]))?eval(currentConfig["calculator"]):Math.round(eval(currentConfig["calculator"])):void 0!==resultData[_key20][currentConfig["value"]]&&null!==resultData[_key20][currentConfig["value"]]&&(dataText=currentConfig.hasOwnProperty("subValue")&&""!==resultData[_key20][subKey]?" - "+resultData[_key20][currentConfig["subValue"]]+" ":preff+" "+resultData[_key20][currentConfig["value"]]+" ");var alignmentConfig="center";currentConfig.hasOwnProperty("align")&&(alignmentConfig=currentConfig["align"]),dataToExportCSVItem.push(dataText),dataRow.push({text:"note"===currentConfig["value"]||currentConfig.hasOwnProperty("notSum")?" ":" "===dataText?" 0 ":dataText,alignment:alignmentConfig,style:"tdStyle"}),0===vm.govAgency&&null!==dataRowTotal[indexTotal]&&void 0!==dataRowTotal[indexTotal]&&("ontimePercentage"===currentConfig["value"]?dataRowTotal[indexTotal]["text"]=parseInt(dataText):"note"===currentConfig["value"]||currentConfig.hasOwnProperty("notSum")?dataRowTotal[indexTotal]["text"]=" ":isNaN(dataText)?dataRowTotal[indexTotal]["text"]=" 0 ":dataRowTotal[indexTotal]["text"]=parseInt(dataRowTotal[indexTotal]["text"])+parseInt(dataText)),indexTotal+=1}null!==subKey&&void 0!==subKey&&""!==subKey&&""!==resultData[_key20][subKey]||(_index+=1),vm.dataRowRenderHtmlTable.push(dataRow),vm.dataReportXX+=JSON.stringify(dataRow)+",",dataToExportCSV.push(dataToExportCSVItem)}}if(vm.agencyLists.length>0&&0===vm.govAgency)for(var keyXXTT in resultDataTotal){var indexTotalXXTT=1;for(var keyMappingXXTT in vm.itemsReportsConfig){var dataTextXXTT="",currentConfigXXTT=vm.itemsReportsConfig[keyMappingXXTT];if(currentConfigXXTT.hasOwnProperty("calculator")){var dataInputXXTT=resultDataTotal[keyXXTT],calu=currentConfigXXTT["calculator"].replace(/dataInput/g,"dataInputXXTT");dataTextXXTT=isNaN(eval(calu))||"note"===currentConfigXXTT["value"]?eval(calu):Math.round(eval(calu))}else void 0!==resultDataTotal[keyXXTT][currentConfigXXTT["value"]]&&null!==resultDataTotal[keyXXTT][currentConfigXXTT["value"]]&&""!==resultDataTotal[keyXXTT][currentConfigXXTT["value"]]&&(dataTextXXTT=resultDataTotal[keyXXTT][currentConfigXXTT["value"]]+" ");dataRowTotal[indexTotalXXTT]["text"]=isNaN(parseInt(dataTextXXTT))?"0 ":parseInt(dataTextXXTT)+" ",("note"===currentConfigXXTT["value"]||currentConfigXXTT.hasOwnProperty("notSum"))&&(dataRowTotal[indexTotalXXTT]["text"]=" "),indexTotalXXTT+=1}break}else for(var _keyXXTT in resultDataTotal){var _indexTotalXXTT=1;for(var _keyMappingXXTT in vm.itemsReportsConfig){var _dataTextXXTT="",_currentConfigXXTT=vm.itemsReportsConfig[_keyMappingXXTT];if(_currentConfigXXTT.hasOwnProperty("calculator")){var dataInputXXTT=resultDataTotal[_keyXXTT],_calu2=_currentConfigXXTT["calculator"].replace(/dataInput/g,"dataInputXXTT");_dataTextXXTT=isNaN(eval(_calu2))||"note"===_currentConfigXXTT["value"]?eval(_calu2):Math.round(eval(_calu2))}else void 0!==resultDataTotal[_keyXXTT][_currentConfigXXTT["value"]]&&null!==resultDataTotal[_keyXXTT][_currentConfigXXTT["value"]]&&""!==resultDataTotal[_keyXXTT][_currentConfigXXTT["value"]]&&(_dataTextXXTT=resultDataTotal[_keyXXTT][_currentConfigXXTT["value"]]+" ");vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("sumRow")&&vm.itemsReports[vm.index]["filterConfig"]["sumRow"]?(isNaN(parseInt(dataRowTotal[_indexTotalXXTT]["text"]))&&(dataRowTotal[_indexTotalXXTT]["text"]=0),dataRowTotal[_indexTotalXXTT]["text"]=isNaN(parseInt(_dataTextXXTT))?parseInt(dataRowTotal[_indexTotalXXTT]["text"]):parseInt(dataRowTotal[_indexTotalXXTT]["text"])+parseInt(_dataTextXXTT)):dataRowTotal[_indexTotalXXTT]["text"]=isNaN(parseInt(_dataTextXXTT))?"0":parseInt(_dataTextXXTT)+" ",("note"===_currentConfigXXTT["value"]||_currentConfigXXTT.hasOwnProperty("notSum"))&&(dataRowTotal[_indexTotalXXTT]["text"]=" "),_indexTotalXXTT+=1}}!vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("sumRow")||vm.itemsReports[vm.index]["filterConfig"].hasOwnProperty("sumRow")&&vm.itemsReports[vm.index]["filterConfig"]["sumRow"]?vm.dataReportXX+=JSON.stringify(dataRowTotal):vm.dataReportXX=vm.dataReportXX.substring(0,vm.dataReportXX.length-1);var itemTotal=[];for(var keyTotalCSV in dataRowTotal)itemTotal.push(dataRowTotal[keyTotalCSV]["text"]);for(var excelKey in dataToExportCSV.push(itemTotal),vm.csvExport=[],vm.csvExport=dataToExportCSV,vm.fields=[],vm.fields.push("STT"),vm.fields.push(sumKey),vm.itemsReportsConfig)if(vm.itemsReportsConfig[excelKey]["selected"]){var stringColumn=vm.itemsReportsConfig[excelKey]["value"];""!==vm.itemsReportsConfig[excelKey]["text"]&&(stringColumn=vm.itemsReportsConfig[excelKey]["text"]),vm.fields.push(stringColumn)}vm.showCSVDownload=!0,docDString=docDString.replace(/"\[\$report\$\]"/g,vm.dataReportXX),vm.dataExportExcel=docDString,vm.docDefinition=JSON.parse(docDString);var pdfDocGenerator=pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_2___default.a.createPdf(vm.docDefinition);vm.itemsReports[vm.index]["filterConfig"]["showTable"]?pdfDocGenerator.getBlob(function(t){vm.pdfBlob=window.URL.createObjectURL(t),vm.pdfBlob?vm.isRender=!0:vm.isRender=!1,vm.isShowLoading=!1}):pdfDocGenerator.getBlob(function(t){if(vm.pdfBlob=window.URL.createObjectURL(t),vm.isShowLoading=!1,vm.doExportExcel&&!vm.doExportWord&&vm.$store.dispatch("getExcelReportFromServer",{data:docDString,fileName:(new Date).getTime()+".xlsx"}),vm.doExportWord){var e=JSON.parse(docDString),a=Object.assign(e,{reportType:"docx"});vm.$store.dispatch("getExcelReportFromServer",{data:JSON.stringify(a),fileName:"baocaothongke.docx"})}})}else vm.isShowLoading=!1,vm.showErrorData=!0})},doCreateReport:function(t,e){var a=this;a.showHTML=!1,a.showGuilds=!1,a.$refs.form.validate()&&(a.doExportExcel=t,a.doExportWord=!(!e||"word"!==e),a.showConfig=!1,a.doCreatePDF())},createReport:function(){var t=this;t.targetFilter="";try{t.headerTongHop[0]["text"]=t.groupBy.filter(function(e){return e.key===t.groupByVal})[0]["label"]}catch(n){}t.currentLimit=Number(t.itemsReports[t.index]["filterConfig"]["numberPerPage"]),t.isRender=!1,t.isShowLoading=!0,t.agencyLists=t.itemsReports[t.index]["filterConfig"]["groupIds"],t.api=t.itemsReports[t.index]["filterConfig"]["api"],t.itemsReports[t.index]["filterConfig"].hasOwnProperty("proxyApi")&&(t.proxyApi=t.itemsReports[t.index]["filterConfig"]["proxyApi"]),t.data["groupBy"]=t.groupByVal;var e={document:t.reportType,data:t.data,api:t.api,proxyApi:t.proxyApi,formatDate:t.itemsReports[t.index]["filterConfig"]["version"]||"timestamp"===t.itemsReports[t.index]["filterConfig"]["typeDate"]?"timestamp":"date"},a=!0,r=function(r){if(r===t.groupIdListSelected){var i=t.groupIdList.find(function(t){return t.key===r});return e["govAgency"]=t.filterGroup[r],e["agencyLists"]=i?i.value:[],a=!1,"break"}};for(var i in t.filterGroup){var o=r(i);if("break"===o)break}a&&(e["govAgency"]=t.govAgency,e["agencyLists"]=t.agencyLists),t.pdfBlob=null,t.listTongHop=[],t.$store.dispatch("createReport",e).then(function(e){var a=0;t.isRender=!0,t.isShowLoading=!1;var r=e.filter(function(t){return t.domainCode||t.serviceCode||t.govAgencyCode});for(var i in r)r[i].count?(r[i]["pages"]=r[i].count?Math.ceil(r[i].count/t.currentLimit):0,a+=Number(r[i].count)):(r[i]["pages"]=r[i].totalCount?Math.ceil(r[i].totalCount/t.currentLimit):0,a+=Number(r[i].totalCount));t.listTongHop=r,t.totalCount=a})},viewListHoSo:function(t,e){var a=this;a.hasVoting=[];try{s,a.hasVoting=a.filters.filter(function(t){return"rate"!==t.key}),a.hasVoting.length?a.headers=[{text:"STT",align:"center",sortable:!1},{text:"Mã hồ sơ",align:"center",sortable:!1},{text:"Chủ hồ sơ",align:"center",sortable:!1},{text:"Ngày tiếp nhận",align:"center",sortable:!1},{text:"Ngày hẹn trả",align:"center",sortable:!1},{text:"Trạng thái",align:"center",sortable:!1},{text:"Đánh giá hài lòng",align:"center",sortable:!1}]:a.headers=[{text:"STT",align:"center",sortable:!1},{text:"Mã hồ sơ",align:"center",sortable:!1},{text:"Chủ hồ sơ",align:"center",sortable:!1},{text:"Ngày tiếp nhận",align:"center",sortable:!1},{text:"Ngày hẹn trả",align:"center",sortable:!1},{text:"Trạng thái",align:"center",sortable:!1}]}catch(p){}a.targetFilter=t,e&&(a.pagination.page=1),a.agencyLists=a.itemsReports[a.index]["filterConfig"]["groupIds"],a.api=a.itemsReports[a.index]["filterConfig"]["apiLayDanhSach"],a.itemsReports[a.index]["filterConfig"].hasOwnProperty("proxyApi")&&(a.proxyApi=a.itemsReports[a.index]["filterConfig"]["proxyApi"]),a.data[a.groupByVal]=t[a.groupByVal];var r={document:a.reportType,data:a.data,api:a.api,proxyApi:a.proxyApi,start:a.pagination.page*a.pagination.rowsPerPage-a.pagination.rowsPerPage,end:a.pagination.page*a.pagination.rowsPerPage,formatDate:a.itemsReports[a.index]["filterConfig"]["version"]||"timestamp"===a.itemsReports[a.index]["filterConfig"]["typeDate"]?"timestamp":"date"},i=!0,o=function(t){if(t===a.groupIdListSelected){var e=a.groupIdList.find(function(e){return e.key===t});return r["govAgency"]=a.filterGroup[t],r["agencyLists"]=e?e.value:[],i=!1,"break"}};for(var n in a.filterGroup){var l=o(n);if("break"===l)break}i&&(r["govAgency"]=a.govAgency,r["agencyLists"]=a.agencyLists),a.loadingGetDossier=!0,a.dialogDossierList=!0,a.$store.dispatch("getDossiers",r).then(function(t){a.loadingGetDossier=!1,a.dossierList=t.data,e&&(a.pagination.totalItems=t.total)})},sortByKey:function(t,e){return t.sort(function(t,a){var r=t[e],i=a[e];return r<i?-1:r>i?1:0})},changeConfig:function(t){},doChotSoLieu:function(t,e){var a=this,r={api:e["api"],key:e["key"],value:t,data:a.data};a.$store.dispatch("doChotSoLieu",r).then(function(){a.doCreatePDF()})},reloadPickerChange:function(t){var e=this;e.showPicker=!1,setTimeout(function(){e.data[t]=new Date(e.data[t]).toLocaleDateString("vi-VN"),e.showPicker=!0},200)},sdfsdfdsf:function(){var t=this;t.$store.dispatch("doExportXlsxddd")},toDoNotDone:function(){alert("Đang phát triển.")},doDynamicReportXML:function(){var t=this;t.itemsReports[t.index]["filterConfig"]["showTable"]?t.agencyLists=t.itemsReports[t.index]["filterConfig"]["groupIdsAdmin"]:t.agencyLists=t.itemsReports[t.index]["filterConfig"]["groupIds"],t.jsonMapperJson={},t.jsonMapperJson=t.itemsReports[t.index]["userConfig"],t.api=t.itemsReports[t.index]["filterConfig"]["api"],t.itemsReports[t.index]["filterConfig"].hasOwnProperty("proxyApi")&&(t.proxyApi=t.itemsReports[t.index]["filterConfig"]["proxyApi"]);var e={document:t.reportType,data:t.data,api:t.api,proxyApi:t.proxyApi};e["govAgency"]=t.govAgency,e["agencyLists"]=t.agencyLists,t.$store.dispatch("getAgencyReportLists",e).then(function(e){null!==e&&void 0!==e&&jsonMapper({content:e,blank:""},t.jsonMapperJson).then(function(t){var e={header:!0,indent:"  "},a=Object(jstoxml__WEBPACK_IMPORTED_MODULE_6__["toXML"])(t,e),r=new Blob([(new TextEncoder).encode(a)],{type:"text/plain;charset=utf-8;"});FileSaver.saveAs(r,(new Date).getTime()+".xml")})})},convertPDFToHTML:function(t){window.PDFJS.getDocument(t).then(window.pdf_table_extractor).then(function(t){var e=[],a=window.$("<table></table>").attr("border",1);for(var r in t.pageTables){var i=t.pageTables[r];e=e.concat(i.tables);for(var o=i.tables,n=i.merge_alias,s=i.merges,l=0;l<o.length;l++){for(var p=window.$("<tr></tr>"),c=0;c<o[l].length;c++){var d=[l,c].join("-");if(!n[d]){var u=window.$("<td></td>");s[d]&&(s[d].width>1&&u.attr("colspan",s[d].width),s[d].height>1&&u.attr("rowspan",s[d].height)),u.html(o[l][c].replace(/\n/gi,"<br/>").replace(/↵/gi,"<br/>")),p.append(u)}}a.append(p)}}var g='<html xmlns:x="urn:schemas-microsoft-com:office:excel">';g+='<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet>',g+="<x:Name>Test Sheet</x:Name>",g+="<x:WorksheetOptions><x:Panes></x:Panes></x:WorksheetOptions></x:ExcelWorksheet>",g+="</x:ExcelWorksheets></x:ExcelWorkbook></xml></head><body>",g+='<table></table><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td colspan="10" valign="top" width="167"><p align="center"><strong><strong>-------</strong></p></td><td valign="top" width="275" colspan="10"><p align="center"><strong>CỘNG HÒA XÃ HỘI CHỦ NGHĨA VIỆT NAM<br>Độc lập - Tự do - Hạnh phúc <br>---------------</strong></p></td></tr></tbody></table><table></table>',g+='<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td colspan="20" valign="top" width="167"><p align="center"><strong>TỔNG HỢP HỒ SƠ NỘP TRỰC TUYẾN THEO LĨNH VỰC</strong></p></td></td></tr></tbody></table><table></table>',g+="<table border='1px' width='1366px'>",g+=a[0].innerHTML,g+='<table></table><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td colspan="4" valign="top" width="167"><p align="left"><strong>Nơi nhận:</strong></p></td><td valign="top" width="275" colspan="16"><p align="right"><strong>THỦ TRƯỞNG ĐƠN VỊ</strong><br/>(Ký và ghi rõ họ tên)</p></td></tr></tbody></table><table></table>',g+="</body></html>";var f=new Blob([(new TextEncoder).encode(g)],{type:"data:application/vnd.ms-excel;charset=utf-8;"});FileSaver.saveAs(f,(new Date).getTime()+".xlsx")})},goToThongKe:function(){var t=this,e=t.data["fromStatisticDate"],a=t.data["toStatisticDate"],r=window.themeDisplay.getSiteAdminURL().split("/~")[0].replace("group","web"),i=r+"/thong-ke#/danh-gia-thu-tuc?groupId="+t.govAgency+"&fromStatisticDate="+e+"&toStatisticDate="+a;window.location.href=i},s2ab:function(t){for(var e=new ArrayBuffer(t.length),a=new Uint8Array(e),r=0;r!=t.length;++r)a[r]=255&t.charCodeAt(r);return e},parseCurrentDate:function(t){if(!t)return null;try{var e=t.split("/"),a=_slicedToArray(e,3),r=a[0],i=a[1],o=a[2];return"".concat(o,"-").concat(i.padStart(2,"0"),"-").concat(r.padStart(2,"0"))}catch(n){return""}},currency:function(t){if(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""},paggingData:function(t){var e=this;e.pagination.page=t.page,e.viewListHoSo(e.targetFilter)},viewDetail:function(t){var e=this;e.dossierInfo=t,e.dialogDossierDetail=!0},printPdf:function(t,e){var a=this;a.sttQuyen=e,a.targetFilter=t,a.doDynamicReport()},downloadExcel:function(t,e){var a=this,r=1;e&&(a.sttQuyen=e,r=a.itemsReports[a.index]["filterConfig"]["numberPerPage"],a.targetFilter=t,a.data[a.groupByVal]=t[a.groupByVal]),a.agencyLists=a.itemsReports[a.index]["filterConfig"]["groupIds"],a.api=a.itemsReports[a.index]["filterConfig"]["apiExportExcel"]?a.itemsReports[a.index]["filterConfig"]["apiExportExcel"]:a.itemsReports[a.index]["filterConfig"]["api"];var i={document:a.reportType,data:a.data,api:a.api,proxyApi:a.proxyApi,fileName:a.itemsReports[a.index]["reportName"].replace(/ /g,"")+".xlsx"};e&&(i.start=a.sttQuyen*r-r,i.end=a.sttQuyen*r);var o=!0,n=function(t){if(t===a.groupIdListSelected){var e=a.groupIdList.find(function(e){return e.key===t});return i["govAgency"]=a.filterGroup[t],i["agencyLists"]=e?e.value:[],o=!1,"break"}};for(var s in a.filterGroup){var l=n(s);if("break"===l)break}o&&(i["govAgency"]=a.govAgency,i["agencyLists"]=a.agencyLists),a.loadingGetDossier=!0,a.$store.dispatch("exportExcel",i).then(function(t){a.loadingGetDossier=!1})},downloadExcelVoting:function(t){var e=this;e.agencyLists=e.itemsReports[e.index]["filterConfig"]["groupIds"],e.api=e.itemsReports[e.index]["filterConfig"]["apiExportExcel"]?e.itemsReports[e.index]["filterConfig"]["apiExportExcel"]:e.itemsReports[e.index]["filterConfig"]["api"];var a={document:e.reportType,data:e.data,api:e.api,proxyApi:e.proxyApi,fileName:e.itemsReports[e.index]["reportName"].replace(/ /g,"")+".xlsx"},r=function(t){if(t===e.groupIdListSelected){var r=e.groupIdList.find(function(e){return e.key===t});return a["govAgency"]=e.filterGroup[t],a["agencyLists"]=r?r.value:[],check=!1,"break"}};for(var i in e.filterGroup){var o=r(i);if("break"===o)break}e.$store.dispatch("exportExcel",a).then(function(t){})},exportExcel:function(){var t=this;t.$store.dispatch("getExcelReportFromServer",{groupId:t.govAgency&&!isNaN(Number(t.govAgency))?t.govAgency:window.themeDisplay.getScopeGroupId(),data:t.dataExportExcel,fileName:"baocaothongke.xlsx"})},changeGroupIdList:function(t){var e=this;setTimeout(function(){for(var a in e.govAgency=null,e.groupIdListSelected=e.filterGroup[t.key]?t.key:"",e.filterGroup)a!==t.key&&(e.filterGroup[a]=null);var r=function(a){if("select"===e.filters[a]["type"]&&e.filters[a].hasOwnProperty("api")&&e.filters[a]["api"]){e.filters[a]["value"]="",e.data[e.filters[a]["key"]]="",e.filters[a]["groupId"]=e.filterGroup[t.key];try{e.filters[a]["code"]=t.hasOwnProperty("code")?t.code:""}catch(r){}e.$store.dispatch("loadDataSource",e.filters[a]).then(function(t){e.filters[a]["source"]=t,e.filters[a]["appendItem"]&&(e.filters[a]["source"]=e.filters[a]["appendItem"].concat(t))}).catch(function(){})}};for(var i in e.filters)r(i)},200)},changeGovAgency:function(){var t=this,e=t.$router.history.current.query;t.groupIdListSelected="",setTimeout(function(){var a=function(a){if("select"===t.filters[a]["type"]&&t.filters[a].hasOwnProperty("api")&&t.filters[a]["api"]){t.filters[a]["value"]="",t.data[t.filters[a]["key"]]="",e.hasOwnProperty("employeeEmail")&&(t.data["employeeEmail"]=e.employeeEmail),t.filters[a]["groupId"]=t.govAgency;try{t.filters[a]["code"]=t.agencyLists.find(function(e){return e.value==t.govAgency})["code"],t.govCodeSelected=t.agencyLists.find(function(e){return e.value==t.govAgency})["code"]}catch(r){t.filters[a]["code"]=""}t.$store.dispatch("loadDataSource",t.filters[a]).then(function(e){t.filters[a]["source"]=e,t.filters[a]["appendItem"]&&(t.filters[a]["source"]=t.filters[a]["appendItem"].concat(e))}).catch(function(){})}};for(var r in t.filters)a(r);for(var i in t.filterGroup)t.filterGroup[i]=null;t.data[t.groupByVal]=""},300)},viewHTML:function(){var t=this;if(t.headerRenderHtmlTable=[],t.widthRenderHtmlTable=[],t.tableType="",-1===t.itemsReports[t.index]["reportCode"].indexOf("STATISTIC")){t.headerRenderHtmlTable=t.itemsReportsConfig.filter(function(t){return t.selected});var e="";for(var a in t.groupBy)if(String(t.groupBy[a]["key"])===String(t.groupByVal)){e=t.groupBy[a]["display"],t.groupBy[a]["key"];break}var r=[];for(var i in t.dataRowRenderHtmlTable){var o={colSpan:t.headerRenderHtmlTable.length,text:t.dataRowRenderHtmlTable[i][e],bold:!0,style:"trStyle",totalChild:t.dataRowRenderHtmlTable[i]["dossiers"].length,dossier:{}};r.push(o);for(var n=0;n<t.dataRowRenderHtmlTable[i]["dossiers"].length;n++){for(var s={colSpan:1,text:"",bold:!1,style:"tdStyle",dossier:{}},l=0;l<t.headerRenderHtmlTable.length;l++)s.dossier[t.headerRenderHtmlTable[l]["value"]]=t.dataRowRenderHtmlTable[i]["dossiers"][n][t.headerRenderHtmlTable[l]["value"]];r.push(s)}}t.dataBodyHTML=r,t.tableType="table-1"}else{var p=t.itemsReports[t.index]["tableConfig"]["docDefinition"]["content"][2]["table"]["body"],c=t.itemsReports[t.index]["tableConfig"]["docDefinition"]["content"][2]["table"]["widths"];t.widthRenderHtmlTable=c,t.headerRenderHtmlTable=p,t.tableType="table-2"}t.showHTML=!0},changeMapping:function(t){var e=this;setTimeout(function(){if(t.hasOwnProperty("parent")){e.data[t.parent]="";var a="";for(var r in e.filters)if(e.filters[r]["key"]===t.parent){a=r;break}if(a){var i=t["key"];t.hasOwnProperty("keySearch")&&(i=t["keySearch"]),e.filters[a]["api"]=e.filters[a]["api"].split("?")[0],e.filters[a]["api"]+="?"+i+"="+e.data[t["key"]].toString(),e.$store.dispatch("loadDataSource",e.filters[a]).then(function(t){e.filters[a]["source"]=t,e.filters[a]["appendItem"]&&(e.filters[a]["source"]=e.filters[a]["appendItem"].concat(t))}).catch(function(){})}}},100)},getAllSite:function(){var t=this,e={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Token:window.Liferay?window.Liferay.authToken:""}},a=new URLSearchParams;a.append("method","GET"),a.append("serverCode","SERVER_DVC"),a.append("url","/serverconfigs/GROUP_ID_SITE_MOTCUA"),a.append("data",JSON.stringify({})),axios__WEBPACK_IMPORTED_MODULE_0___default.a.post("/o/rest/v2/proxy",a,e).then(function(e){var a=e.data,r=JSON.parse(a.configs),i=r["groupIds"];try{t.govAgencyCodeCurrentSite=i.filter(function(t){return t.value==window.themeDisplay.getScopeGroupId()})[0]["code"]}catch(o){}}).catch(function(t){})},looseJsonParse:function(t){return Function('"use strict";return ('+t+")")()},formatDanhGia:function(t){try{var e=JSON.parse(t);if(!e.hasOwnProperty("hailong"))return"";var a=e["hailong"];if(3==a)return"Rất hài lòng";if(2==a)return"Hài lòng";if(1==a)return"Không hài lòng"}catch(r){return""}},viewChiTietDanhGia:function(t,e){var a=this;Number(a.index);a.doPrintReportVoting(t,Number(a.index)+1,e)},doPrintReportVoting:function doPrintReportVoting(item,indexIn,rate){var vm=this,itemsReportsConfig=vm.itemsReports[indexIn]["filterConfig"]["reportConfig"],filters=vm.itemsReports[indexIn]["filterConfig"]["filters"],agencyLists=[],dataReportXX="",docDefinition={},docDString={};docDString=JSON.stringify(vm.reportConfigStatic[indexIn]["docDefinition"]);var titleGov=vm.userData.hasOwnProperty("govAgencyName")&&vm.userData.govAgencyName?vm.userData.govAgencyName:vm.itemsReports[indexIn]["filterConfig"]["govAgencyName"];for(var key in titleGov||(titleGov=vm.$store.getters.siteName),docDString=docDString.replace(/\[\$siteName\$\]/g,String(titleGov).toUpperCase()),filters){var find=filters[key]["key"],currentVal=vm.data[filters[key]["key"]];if(""!==currentVal&&void 0!==currentVal&&null!==currentVal){var dateStr=String(currentVal).indexOf("/")<=0?new Date(currentVal).toLocaleDateString("vi-VN"):currentVal;if("Invalid Date"!==dateStr&&13===String(currentVal).length)docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),dateStr);else{if("select"===filters[key]["type"])for(var keySource in filters[key]["source"])String(filters[key]["source"][keySource]["value"])===String(currentVal)&&(currentVal=filters[key]["source"][keySource].hasOwnProperty("nameViewPdf")?filters[key]["source"][keySource]["nameViewPdf"]:filters[key]["source"][keySource]["name"]);docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),currentVal)}}else{for(var _keySource3 in currentVal="",filters[key]["source"])if("0"===currentVal){currentVal=filters[key]["source"][_keySource3].hasOwnProperty("nameViewPdf")?filters[key]["source"][_keySource3]["nameViewPdf"]:filters[key]["source"][_keySource3]["name"];break}docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),currentVal)}}for(var _key21 in agencyLists=vm.itemsReports[indexIn]["filterConfig"]["showTable"]?vm.itemsReports[indexIn]["filterConfig"]["groupIdsAdmin"]:vm.itemsReports[indexIn]["filterConfig"]["groupIds"],agencyLists)if(String(agencyLists[_key21]["value"])===String(vm.govAgency)){docDString=docDString.replace(/\[\$groupIds\$\]/g,String(agencyLists[_key21]["text"]).toUpperCase());break}var filter={agencyLists:agencyLists,api:"/o/rest/v2/votings/reportVE?type=3",data:{fromDate:vm.data["fromDate"],listGov:"STTTT",toDate:vm.data["toDate"],employeeEmail:item.employeeEmail,listRate:rate},document:"STATISTIC_99_VER_3",formatDate:"timestamp",govAgency:vm.govAgency};if(filter["govAgency"])for(var _key22 in agencyLists)if(String(agencyLists[_key22]["value"])===String(filter["govAgency"])){docDString=docDString.replace(/\[\$groupIds\$\]/g,String(agencyLists[_key22]["text"]).toUpperCase());break}var pdfBlob=null,sumKey=vm.itemsReports[indexIn]["filterConfig"]["sumKey"],selection=vm.itemsReports[indexIn]["filterConfig"]["selection"],merge=vm.itemsReports[indexIn]["filterConfig"]["merge"],sort=vm.itemsReports[indexIn]["filterConfig"]["sort"],subKey=vm.itemsReports[indexIn]["filterConfig"]["subKey"];try{if(filter.hasOwnProperty("govAgency")&&"allAgency"===filter.govAgency)filter.data["listGroupId"]="null";else if(!filter.hasOwnProperty("govAgency")||"allSBN"!==filter.govAgency&&"allQuanHuyen"!==filter.govAgency&&"allXaPhuong"!==filter.govAgency)filter.hasOwnProperty("govAgency")&&"site"!==filter.govAgency?filter.data["listGroupId"]=String(filter.govAgency):filter.govAgency;else{for(var ids=[],index=0;index<filter["agencyLists"].length;index++)ids.push(filter["agencyLists"][index]["value"]);filter.data["listGroupId"]=ids.toString()}if(filter.api.indexOf("/o/rest/v2/votings/reportVE")>=0)if(filter.data["listGroupId"]){var codeGovAgency=filter.agencyLists.filter(function(t){return t.value==filter.data["listGroupId"]})[0]["code"];filter.data.listGov=codeGovAgency||""}else filter.data.listGov=""}catch(error){filter.data.listGov=""}var dispatchUse="getAgencyReportListsOld";vm.$store.dispatch(dispatchUse,filter).then(function(result){var index=1,dataRowTotal=[],totalText="Tổng số";for(var keyMapping in"month"===sumKey&&(totalText="Cả năm"),dataRowTotal.push({text:totalText,colSpan:2,bold:!0,alignment:"center",style:"tdStyle"}),itemsReportsConfig)"note"===itemsReportsConfig[keyMapping]["value"]||itemsReportsConfig[keyMapping].hasOwnProperty("notSum")?dataRowTotal.push({text:"",alignment:"center",style:"tdStyle"}):dataRowTotal.push({text:0,alignment:"center",style:"tdStyle"});var resultData=result,resultDataTotal=resultData,resultDataVari={};for(var _key23 in resultData){var keyVari="";for(var keysd in merge)keyVari+=resultData[_key23][merge[keysd]]+"_";if(void 0===resultDataVari[keyVari]||null===resultDataVari[keyVari]||""===resultDataVari[keyVari])resultDataVari[keyVari]=resultData[_key23];else for(var kkey in resultDataVari[keyVari])""!==resultDataVari[keyVari][kkey]&&void 0!==resultDataVari[keyVari][kkey]&&null!==resultDataVari[keyVari][kkey]&&("NaN"===String(parseInt(resultDataVari[keyVari][kkey]))?resultDataVari[keyVari][kkey]=resultData[_key23][kkey]:resultDataVari[keyVari][kkey]="ontimePercentage"===kkey?parseInt(resultData[_key23][kkey]):"month"===kkey||"year"===kkey?parseInt(resultData[_key23][kkey]):parseInt(resultData[_key23][kkey])+parseInt(resultDataVari[keyVari][kkey]))}for(var _key24 in resultData=[],resultDataVari)void 0===_key24||_key24.startsWith("undefined")||resultData.push(resultDataVari[_key24]);if(""!==sort&&void 0!==sort&&null!==sort&&(resultData=vm.sortByKey(resultData,sort)),null!==subKey&&void 0!==subKey&&""!==subKey){var arraySubKey={};for(var _key25 in resultData)(""!==resultData[_key25][sumKey]&&"0"!==String(resultData[_key25][sumKey])&&void 0!==resultData[_key25][sumKey]&&null!==resultData[_key25][sumKey]||null!==subKey&&void 0!==subKey&&""!==subKey&&""===resultData[_key25][subKey]&&""!==resultData[_key25][sumKey]&&"0"!==resultData[_key25][sumKey])&&(void 0!==arraySubKey[resultData[_key25][sumKey]]&&null!==arraySubKey[resultData[_key25][sumKey]]?arraySubKey[resultData[_key25][sumKey]].push(resultData[_key25]):(arraySubKey[resultData[_key25][sumKey]]=[],arraySubKey[resultData[_key25][sumKey]].push(resultData[_key25])));for(var keySUBARRAY in resultData=[],arraySubKey){var subKeySortData=vm.sortByKey(arraySubKey[keySUBARRAY],subKey);for(var keyData in subKeySortData)resultData.push(subKeySortData[keyData])}}var dataToExportCSV=[];for(var _key26 in resultData){var dataInput=resultData[_key26];if(""!==resultData[_key26][sumKey]&&"0"!==String(resultData[_key26][sumKey])&&void 0!==resultData[_key26][sumKey]&&null!==resultData[_key26][sumKey]||null!==subKey&&void 0!==subKey&&""!==subKey&&""===resultData[_key26][subKey]&&""!==resultData[_key26][sumKey]&&"0"!==String(resultData[_key26][sumKey])){var dataRow=[],dataToExportCSVItem=[];null!==subKey&&void 0!==subKey&&""!==subKey&&""!==resultData[_key26][subKey]?(dataToExportCSVItem.push(""),dataRow.push({text:"",alignment:"center",style:"tdStyle"})):(dataToExportCSVItem.push(index),dataRow.push({text:index,alignment:"center",style:"tdStyle"}));var indexTotal=1;for(var _keyMapping3 in itemsReportsConfig){var currentConfig=itemsReportsConfig[_keyMapping3],dataText=" ",preff=currentConfig.hasOwnProperty("prefix")?currentConfig["prefix"]:"";currentConfig.hasOwnProperty("calculator")?dataText=isNaN(eval(currentConfig["calculator"]))?eval(currentConfig["calculator"]):Math.round(eval(currentConfig["calculator"])):void 0!==resultData[_key26][currentConfig["value"]]&&null!==resultData[_key26][currentConfig["value"]]&&(dataText=currentConfig.hasOwnProperty("subValue")&&""!==resultData[_key26][subKey]?" - "+resultData[_key26][currentConfig["subValue"]]+" ":preff+" "+resultData[_key26][currentConfig["value"]]+" ");var alignmentConfig="center";currentConfig.hasOwnProperty("align")&&(alignmentConfig=currentConfig["align"]),dataToExportCSVItem.push(dataText),dataRow.push({text:"note"===currentConfig["value"]||currentConfig.hasOwnProperty("notSum")?" ":" "===dataText?" 0 ":dataText,alignment:alignmentConfig,style:"tdStyle"}),0===vm.govAgency&&null!==dataRowTotal[indexTotal]&&void 0!==dataRowTotal[indexTotal]&&("ontimePercentage"===currentConfig["value"]?dataRowTotal[indexTotal]["text"]=parseInt(dataText):"note"===currentConfig["value"]||currentConfig.hasOwnProperty("notSum")?dataRowTotal[indexTotal]["text"]=" ":isNaN(dataText)?dataRowTotal[indexTotal]["text"]=" 0 ":dataRowTotal[indexTotal]["text"]=parseInt(dataRowTotal[indexTotal]["text"])+parseInt(dataText)),indexTotal+=1}null!==subKey&&void 0!==subKey&&""!==subKey&&""!==resultData[_key26][subKey]||(index+=1),dataReportXX+=JSON.stringify(dataRow)+",",dataToExportCSV.push(dataToExportCSVItem)}}if(agencyLists.length>0&&0===vm.govAgency)for(var keyXXTT in resultDataTotal){var indexTotalXXTT=1;for(var keyMappingXXTT in itemsReportsConfig){var dataTextXXTT="",currentConfigXXTT=itemsReportsConfig[keyMappingXXTT];if(currentConfigXXTT.hasOwnProperty("calculator")){var dataInputXXTT=resultDataTotal[keyXXTT],calu=currentConfigXXTT["calculator"].replace(/dataInput/g,"dataInputXXTT");dataTextXXTT=isNaN(eval(calu))||"note"===currentConfigXXTT["value"]?eval(calu):Math.round(eval(calu))}else void 0!==resultDataTotal[keyXXTT][currentConfigXXTT["value"]]&&null!==resultDataTotal[keyXXTT][currentConfigXXTT["value"]]&&""!==resultDataTotal[keyXXTT][currentConfigXXTT["value"]]&&(dataTextXXTT=resultDataTotal[keyXXTT][currentConfigXXTT["value"]]+" ");dataRowTotal[indexTotalXXTT]["text"]=isNaN(parseInt(dataTextXXTT))?"0 ":parseInt(dataTextXXTT)+" ",("note"===currentConfigXXTT["value"]||currentConfigXXTT.hasOwnProperty("notSum"))&&(dataRowTotal[indexTotalXXTT]["text"]=" "),indexTotalXXTT+=1}break}else for(var _keyXXTT2 in resultDataTotal){var _indexTotalXXTT2=1;for(var _keyMappingXXTT2 in itemsReportsConfig){var _dataTextXXTT2="",_currentConfigXXTT2=itemsReportsConfig[_keyMappingXXTT2];if(_currentConfigXXTT2.hasOwnProperty("calculator")){var dataInputXXTT=resultDataTotal[_keyXXTT2],_calu3=_currentConfigXXTT2["calculator"].replace(/dataInput/g,"dataInputXXTT");_dataTextXXTT2=isNaN(eval(_calu3))||"note"===_currentConfigXXTT2["value"]?eval(_calu3):Math.round(eval(_calu3))}else void 0!==resultDataTotal[_keyXXTT2][_currentConfigXXTT2["value"]]&&null!==resultDataTotal[_keyXXTT2][_currentConfigXXTT2["value"]]&&""!==resultDataTotal[_keyXXTT2][_currentConfigXXTT2["value"]]&&(_dataTextXXTT2=resultDataTotal[_keyXXTT2][_currentConfigXXTT2["value"]]+" ");vm.itemsReports[indexIn]["filterConfig"].hasOwnProperty("sumRow")&&vm.itemsReports[indexIn]["filterConfig"]["sumRow"]?(isNaN(parseInt(dataRowTotal[_indexTotalXXTT2]["text"]))&&(dataRowTotal[_indexTotalXXTT2]["text"]=0),dataRowTotal[_indexTotalXXTT2]["text"]=isNaN(parseInt(_dataTextXXTT2))?parseInt(dataRowTotal[_indexTotalXXTT2]["text"]):parseInt(dataRowTotal[_indexTotalXXTT2]["text"])+parseInt(_dataTextXXTT2)):dataRowTotal[_indexTotalXXTT2]["text"]=isNaN(parseInt(_dataTextXXTT2))?"0":parseInt(_dataTextXXTT2)+" ",("note"===_currentConfigXXTT2["value"]||_currentConfigXXTT2.hasOwnProperty("notSum"))&&(dataRowTotal[_indexTotalXXTT2]["text"]=" "),_indexTotalXXTT2+=1}}dataReportXX=dataReportXX.substring(0,dataReportXX.length-1),docDString=docDString.replace(/"\[\$report\$\]"/g,dataReportXX),docDefinition=JSON.parse(docDString),vm.dialogPDF=!0;var pdfDocGenerator=pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_2___default.a.createPdf(docDefinition);pdfDocGenerator.getBlob(function(t){pdfBlob=window.URL.createObjectURL(t),vm.pdfBlob=pdfBlob})})}}}}});