(function(t){function e(e){for(var i,l,c=e[0],s=e[1],r=e[2],p=0,u=[];p<c.length;p++)l=c[p],n[l]&&u.push(n[l][0]),n[l]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);d&&d(e);while(u.length)u.shift()();return o.push.apply(o,r||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,l=1;l<a.length;l++){var s=a[l];0!==n[s]&&(i=!1)}i&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var i={},n={app:0},o=[];function l(t){return c.p+"../../wars/opencps-store/src/main/webapp/js/cli/khodientu/app/js/"+({HoanThienBoSungHoSoDetail:"HoanThienBoSungHoSoDetail",Landing:"Landing",TiepNhanHoSoDetail:"TiepNhanHoSoDetail"}[t]||t)+".js"}function c(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,i){a=n[t]=[e,i]}));e.push(a[2]=i);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=l(t),o=function(e){s.onerror=s.onload=null,clearTimeout(r);var a=n[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,l=new Error("Loading chunk "+t+" failed.\n("+i+": "+o+")");l.type=i,l.request=o,a[1](l)}n[t]=void 0}};var r=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(a,i,function(e){return t[e]}.bind(null,i));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var p=0;p<s.length;p++)e(s[p]);var d=r;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"13c2":function(t,e,a){},"47fb":function(t,e,a){"use strict";var i=a("13c2"),n=a.n(i);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("0f18");var i=a("a026"),n=a("bb71");a("74ef");i["a"].use(n["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticStyle:{"background-color":"#f4f3ef !important"},attrs:{id:"khodientu"}},[a("v-navigation-drawer",{attrs:{app:"",clipped:"",floating:"",width:"0"}}),a("v-content",{staticStyle:{"padding-top":"25px"}},[t.isSigned?a("v-layout",{staticStyle:{"max-width":"1500px",margin:"0 auto",padding:"0 15px"},attrs:{wrap:""}},[a("v-flex",{staticClass:"px-2",attrs:{xs12:"",md3:""}},[a("v-card",{staticStyle:{"border-radius":"12px","box-shadow":"0 6px 10px -4px rgb(0 0 0 / 15%)"},attrs:{color:1===t.activeTab?"#11cdefeb":"white",hover:""},on:{click:function(e){t.redirectPage(1)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{staticStyle:{"max-width":"85px"}},[a("v-img",{staticClass:"mx-3 my-3",attrs:{src:1===t.activeTab?"/documents/2832265/0/sohoa-icon1.png?t=3124231":"/documents/2832265/0/sohoa-icon2.png",height:"50px",width:"50px",contain:""}})],1),a("v-flex",[a("v-card-title",{staticClass:"px-2",staticStyle:{height:"100%"},attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline",style:1===t.activeTab?"color: #ffffff;font-size: 20px !important":"color: #252422;font-size: 20px !important"},[t._v("SỐ HÓA GIẤY TỜ")])])])],1)],1)],1)],1),a("v-flex",{staticClass:"px-2",attrs:{xs12:"",md3:""}},[a("v-card",{staticStyle:{"border-radius":"12px","box-shadow":"0 6px 10px -4px rgb(0 0 0 / 15%)"},attrs:{color:2===t.activeTab?"#11cdefeb":"white",hover:""},on:{click:function(e){t.redirectPage(2)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{staticStyle:{"max-width":"85px"}},[a("v-img",{staticClass:"mx-3 my-3",attrs:{src:2===t.activeTab?"/documents/2832265/0/storage-icon1.png?t=93123123":"/documents/2832265/0/storage-icon2.png",height:"50px",width:"50px",contain:""}})],1),a("v-flex",[a("v-card-title",{staticClass:"px-2",staticStyle:{height:"100%"},attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline",style:2===t.activeTab?"color: #ffffff;font-size: 20px !important":"color: #252422;font-size: 20px !important"},[t._v("KHO GIẤY TỜ")])])])],1)],1)],1)],1),a("v-flex",{staticClass:"px-2",attrs:{xs12:"",md3:""}},[a("v-card",{staticStyle:{"border-radius":"12px","box-shadow":"0 6px 10px -4px rgb(0 0 0 / 15%)"},attrs:{color:3===t.activeTab?"#11cdefeb":"white",hover:""},on:{click:function(e){t.redirectPage(3)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{staticStyle:{"max-width":"85px"}},[a("v-img",{staticClass:"mx-3 my-3",attrs:{src:3===t.activeTab?"/documents/2832265/0/list-icon1.png?t=9312312":"/documents/2832265/0/list-icon2.png",height:"45px",width:"45px",contain:""}})],1),a("v-flex",[a("v-card-title",{staticClass:"px-2",staticStyle:{height:"100%"},attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline",style:3===t.activeTab?"color: #ffffff;font-size: 20px !important":"color: #252422;font-size: 20px !important"},[t._v("DANH MỤC GIẤY TỜ")])])])],1)],1)],1)],1),a("v-flex",{staticClass:"px-2",attrs:{xs12:"",md3:""}},[a("v-card",{staticStyle:{"border-radius":"12px","box-shadow":"0 6px 10px -4px rgb(0 0 0 / 15%)"},attrs:{color:4===t.activeTab?"#11cdefeb":"white",hover:""},on:{click:function(e){t.redirectPage(4)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{staticStyle:{"max-width":"85px"}},[a("v-img",{staticClass:"mx-3 my-3",attrs:{src:4===t.activeTab?"/documents/2832265/0/applicant-icon1.png":"/documents/2832265/0/applicant-icon2.png",height:"50px",width:"50px",contain:""}})],1),a("v-flex",[a("v-card-title",{staticClass:"px-2",staticStyle:{height:"100%"},attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline",style:4===t.activeTab?"color: #ffffff;font-size: 20px !important":"color: #252422;font-size: 20px !important"},[t._v("\n                    DỮ LIỆU NGƯỜI DÙNG  \n                  ")])])])],1)],1)],1)],1)],1):t._e(),a("router-view")],1)],1)},l=[],c=a("bc3a"),s=a.n(c),r={data:function(){return{activeTab:1,isSigned:window.themeDisplay.isSignedIn()}},components:{},computed:{},beforeDestroy:function(){},mounted:function(){},beforeCreate:function(){},created:function(){var t=this;try{var e=t.$router.history.current;if("SoHoaGiayTo"===e.name){if(t.activeTab=1,!window.themeDisplay.isSignedIn()){var a=window.themeDisplay.getSiteAdminURL().split("/~/")[0].replace("group","web");window.location.href=a+"/login"}}else if("KhoTaiLieu"===e.name){if(t.activeTab=2,!window.themeDisplay.isSignedIn()){var i=window.themeDisplay.getSiteAdminURL().split("/~/")[0].replace("group","web");window.location.href=i+"/login"}}else if("DanhMucGiayTo"===e.name){if(t.activeTab=3,!window.themeDisplay.isSignedIn()){var n=window.themeDisplay.getSiteAdminURL().split("/~/")[0].replace("group","web");window.location.href=n+"/login"}}else if("DuLieuCongDan"===e.name&&(t.activeTab=4,!window.themeDisplay.isSignedIn())){var o=window.themeDisplay.getSiteAdminURL().split("/~/")[0].replace("group","web");window.location.href=o+"/login"}}catch(l){}},watch:{$route:function(t,e){var a=this;t.params,t.query;try{"SoHoaGiayTo"===t.name?a.activeTab=1:"KhoTaiLieu"===t.name?a.activeTab=2:"DanhMucGiayTo"===t.name?a.activeTab=3:"DuLieuCongDan"===t.name&&(a.activeTab=4)}catch(i){}}},methods:{redirectPage:function(t){var e=this;e.activeTab=t;var a="";1===t?a="/":2===t?a="/kho-tai-lieu":3===t?a="/danh-muc-giay-to":4===t&&(a="/du-lieu-cong-dan"),e.$router.push({path:a,query:{renew:Math.floor(100*Math.random())+1}})}}},p=r,d=a("2877"),u=a("6544"),m=a.n(u),h=a("7496"),f=a("b0af"),v=a("12b2"),g=a("549c"),y=a("0e8f"),x=a("adda"),b=a("a722"),w=a("f774"),C=Object(d["a"])(p,o,l,!1,null,null,null),T=C.exports;m()(C,{VApp:h["a"],VCard:f["a"],VCardTitle:v["a"],VContent:g["a"],VFlex:y["a"],VImg:x["a"],VLayout:b["a"],VNavigationDrawer:w["a"]});var S=a("8c4f"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1)],1)},N=[],D={},I=D,k=a("a523"),P=a("490a"),A=Object(d["a"])(I,_,N,!1,null,null,null),F=A.exports;m()(A,{VContainer:k["a"],VFlex:y["a"],VLayout:b["a"],VProgressCircular:P["a"]});var E=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},V=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content-wrapper"})])}],L=a("854a"),O=a.n(L);i["a"].use(O.a),O.a.options={positionClass:"toast-top-center",timeOut:"5000"};var G={data:function(){return{listDonVi:[],donviSelect:""}},components:{},computed:{},beforeDestroy:function(){},mounted:function(){},beforeCreate:function(){},created:function(){},watch:{},methods:{}},H=G,z=Object(d["a"])(H,E,V,!1,null,null,null),U=(z.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-5 pb-3",staticStyle:{padding:"0px 25px","max-width":"1500px",margin:"0px auto"},attrs:{id:"top-header"}},[t.showDetail?a("v-card",{staticClass:"px-3 py-3",staticStyle:{width:"100%",background:"#ffffff","border-radius":"12px","box-shadow":"0 6px 10px -4px rgb(0 0 0 / 15%)"}},[a("div",{staticClass:"headline mb-0",staticStyle:{"font-size":"20px!important"}},["create"===t.typeCreate?a("span",[t._v("THÊM MỚI GIẤY TỜ")]):a("span",[t._v("ĐÓNG DẤU, CẬP NHẬT GIẤY TỜ")])]),a("v-card-text",{staticClass:"py-1 px-0"},[a("v-form",{ref:"form",staticClass:"px-0 grid-list",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{staticClass:"px-0 py-3",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pr-2 pl-0",attrs:{xs12:"",sm4:""}},[a("v-autocomplete",{attrs:{items:t.fileTemplateList,label:"Loại giấy tờ","item-text":"name","item-value":"fileTemplateNo","return-object":"","hide-selected":!0,box:"",rules:[function(t){return!!t||"Loại giấy tờ là bắt buộc"}],required:""},model:{value:t.fileTemplateNoCreate,callback:function(e){t.fileTemplateNoCreate=e},expression:"fileTemplateNoCreate"}})],1),a("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm4:""}},[a("v-autocomplete",{attrs:{items:t.statusList,label:"Tình trạng","item-text":"text","item-value":"value","hide-selected":!0,box:"",rules:[function(t){return""!==t&&null!==t||"Tình trạng là bắt buộc"}],required:""},model:{value:t.statusCreate,callback:function(e){t.statusCreate=e},expression:"statusCreate"}})],1),a("v-flex",{staticClass:"px-0",attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{label:"Số hiệu giấy tờ",box:"",clearable:"",rules:[function(t){return!!t||"Mã giấy tờ là bắt buộc"}],required:""},model:{value:t.fileNo,callback:function(e){t.fileNo=e},expression:"fileNo"}})],1),a("v-flex",{staticClass:"px-0",attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Tên giấy tờ",box:"",clearable:"",rules:[function(t){return!!t||"Tên giấy tờ là bắt buộc"}],required:""},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1),a("v-flex",{staticClass:"px-0 pr-3",attrs:{xs12:"",sm8:""}},[a("v-text-field",{attrs:{label:"Chủ sở hữu",box:"",clearable:"",rules:[function(t){return!!t||"Chủ sở hữu giấy tờ là bắt buộc"}],required:""},model:{value:t.applicantNameCreate,callback:function(e){t.applicantNameCreate=e},expression:"applicantNameCreate"}})],1),a("v-flex",{staticClass:"px-0",attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{label:"Số cmnd/cccd, MST doanh nghiệp, tổ chức",box:"",clearable:"",rules:[function(t){return!!t||"Thông tin bắt buộc"}],required:""},model:{value:t.applicantIdNoCreate,callback:function(e){t.applicantIdNoCreate=e},expression:"applicantIdNoCreate"}})],1),a("v-flex",{staticClass:"px-0 pr-3",attrs:{xs12:"",sm8:""}},[a("v-text-field",{attrs:{label:"Đơn vị cấp",box:"",clearable:"",rules:[function(t){return!!t||"Đơn vị cấp là bắt buộc"}],required:""},model:{value:t.govAgencyCreate,callback:function(e){t.govAgencyCreate=e},expression:"govAgencyCreate"}})],1),a("v-flex",{staticClass:"px-0",attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{label:"Ngày cấp",placeholder:"dd/mm/yyyy, ddmmyyyy",box:"",clearable:"",rules:[function(t){return!!t||"Ngày cấp là bắt buộc"}],required:""},on:{blur:t.formatDate},model:{value:t.createDate,callback:function(e){t.createDate=e},expression:"createDate"}})],1),a("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[t.fileNameView?a("div",{staticClass:"pb-3",on:{click:function(e){t.viewDocument(t.documentSelect)}}},[a("v-icon",{attrs:{size:"18",color:"red"}},[t._v("fa fa-file-pdf-o")]),a("a",{staticClass:"ml-2",staticStyle:{"font-style":"italic","font-size":"14px","text-decoration":"underline"}},[t._v(t._s(t.fileNameView))])],1):t._e(),a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"documentFile"},on:{input:function(e){t.uploadDocumentFile(e)}}}),a("v-btn",{staticClass:"mx-0 px-0 mr-4 d-inline-block",staticStyle:{width:"175px"},attrs:{block:"",color:"primary",dark:""},nativeOn:{click:function(e){t.uploadFile()}}},[a("v-icon",{attrs:{size:"16"}},[t._v("fas fa fa-upload")]),t._v("    \n                Tải lên giấy tờ\n              ")],1),a("v-btn",{staticClass:"mx-0 px-0 d-inline-block",staticStyle:{width:"230px"},attrs:{block:"",color:"primary",dark:""},nativeOn:{click:function(e){t.vgsignCopy("https://kiemthu-mt-gov-vn-9001.fds.vn")}}},[a("v-icon",{attrs:{size:"16"}},[t._v("border_color")]),t._v("    \n                Tải lên và đóng dấu giấy tờ\n              ")],1),t.fileTemplateNoCreate&&t.fileTemplateNoCreate.fileType?a("div",[a("span",{staticStyle:{color:"red"}},[t._v("(*) ")]),a("span",[t._v("File tải lên chấp nhận các định dạng: "+t._s(t.fileTemplateNoCreate.fileType)+" .")])]):t._e()],1)],1)],1),a("v-flex",{staticClass:"text-right"},[a("v-btn",{staticClass:"mr-2 white--text",attrs:{color:"red",disabled:t.loadingAction},nativeOn:{click:function(e){t.showDetail=!1}}},[a("v-icon",[t._v("reply")]),t._v("  \n            Quay lại\n          ")],1),"create"===t.typeCreate?a("v-btn",{staticClass:"mr-0",attrs:{disabled:t.loadingAction,color:"primary"},nativeOn:{click:function(e){return t.createDocument(e)}}},[a("v-icon",[t._v("save")]),t._v("  \n            "),a("span",[t._v("Thêm mới")])],1):a("v-btn",{staticClass:"mr-0",attrs:{disabled:t.loadingAction,color:"primary"},nativeOn:{click:function(e){return t.updateDocument(e)}}},[a("v-icon",[t._v("save")]),t._v("  \n            "),a("span",[t._v("Cập nhật")])],1)],1)],1)],1):a("v-card",{staticClass:"px-3 py-3",staticStyle:{width:"100%",background:"#ffffff","border-radius":"12px","box-shadow":"0 6px 10px -4px rgb(0 0 0 / 15%)"}},[a("div",{staticClass:"headline mb-3",staticStyle:{"font-size":"20px!important"}},[t._v("DANH SÁCH GIẤY TỜ YÊU CẦU SỐ HÓA")]),a("v-btn",{staticClass:"mx-0 white--text",staticStyle:{position:"absolute",right:"17px",top:"15px"},attrs:{color:"#0072bc",small:""},on:{click:function(e){return e.stopPropagation(),t.showTimKiem(e)}}},[a("v-icon",{attrs:{size:"20"}},[t._v("\n          filter_alt\n        ")]),t._v("  \n        Lọc danh sách\n      ")],1),t.showAdvanceSearch?a("v-card-text",{staticClass:"px-0"},[a("tim-kiem",{ref:"timkiem",attrs:{form:"sohoa"},on:{"trigger-search":t.searchGiayToSoHoa,"trigger-cancel":t.cancelSearchGiayToSoHoa}})],1):t._e(),a("v-btn",{staticClass:"mx-0 white--text",attrs:{color:"#0072bc",small:""},on:{click:function(e){return e.stopPropagation(),t.showCreatedocument(e)}}},[a("v-icon",{attrs:{size:"20"}},[t._v("\n          post_add\n        ")]),t._v("  \n        Thêm mới giấy tờ số hóa\n      ")],1),a("v-data-table",{staticClass:"table-landing table-bordered mt-2",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.documentListHeader,items:t.documentApplicantList,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{active:e.index%2==1},staticStyle:{cursor:"pointer"}},[a("td",{staticClass:"text-xs-center py-2",staticStyle:{width:"50px",height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(t.documentPage*t.numberPerPage-t.numberPerPage+e.index+1))])])],1),a("td",{staticClass:"text-xs-left py-2",staticStyle:{height:"36px","min-width":"450px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.hasOwnProperty("fileName")?e.item.fileName:""))])])],1),a("td",{staticClass:"text-xs-left py-2",staticStyle:{height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.hasOwnProperty("fileNo")?e.item.fileNo:""))])])],1),a("td",{staticClass:"text-xs-left py-2",staticStyle:{height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.hasOwnProperty("createDate")?e.item.createDate:""))])])],1),a("td",{staticClass:"text-xs-left py-2",staticStyle:{height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.hasOwnProperty("applicantName")?e.item.applicantName:""))]),a("br"),a("span",[t._v(t._s(e.item.hasOwnProperty("applicantIdNo")?e.item.applicantIdNo:""))])])],1),a("td",{staticClass:"text-xs-center py-2",staticStyle:{height:"36px","min-width":"120px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",{style:1===e.item.status?"color: green":2===e.item.status?"color: red":"color: orange"},[t._v("\n                  "+t._s(e.item.hasOwnProperty("status")?t.getStatus(e.item.status):"")+"\n                ")])])],1),a("td",{staticClass:"text-right py-2",staticStyle:{height:"36px","min-width":"150px",width:"150px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),!t.loadingTable&&e.item.fileEntryId?a("v-tooltip",{staticClass:"mr-2",attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"blue",flat:"",icon:""},on:{click:function(a){t.viewDocument(e.item)}},slot:"activator"},[a("v-icon",{attrs:{size:"22"}},[t._v("visibility")])],1),a("span",[t._v("Xem giấy tờ")])],1):t._e(),!t.loadingTable&&e.item.fileEntryId?a("v-tooltip",{staticClass:"mr-2",attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"blue",flat:"",icon:""},on:{click:function(a){t.downloadDocument(e.item)}},slot:"activator"},[a("v-icon",{attrs:{size:"22"}},[t._v("fas fa fa-download")])],1),a("span",[t._v("Tải xuống")])],1):t._e(),t.loadingTable?t._e():a("v-tooltip",{staticClass:"mr-2",attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"green",flat:"",icon:""},on:{click:function(a){t.showEditDocument(e.item)}},slot:"activator"},[a("v-icon",{attrs:{size:"22"}},[t._v("edit")])],1),a("span",[t._v("Cập nhật giấy tờ, tài liệu")])],1)],1)])]}}])},[t.loadingTable?a("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}):t._e(),a("template",{slot:"no-data"},[a("div",{staticClass:"text-xs-center mt-2"},[t._v("\n            Không có giấy tờ, tài liệu\n          ")])])],2),t.totalDocument>t.numberPerPage?a("div",{staticClass:"my-2"},[a("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table"},[a("pagination",{attrs:{total:t.totalDocument,page:t.documentPage,numberPerPage:t.numberPerPage,nameRecord:"giấy tờ","custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.changePage}})],1)])]):t._e()],1),a("v-dialog",{attrs:{"max-width":"1200",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Giấy tờ tài liệu")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),a("v-dialog",{attrs:{"max-width":"1200",transition:"fade-transition"},model:{value:t.dialogViewFileSign,callback:function(e){t.dialogViewFileSign=e},expression:"dialogViewFileSign"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title"),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogViewFileSign=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogEsignPreview",src:t.pathNameFileESign,type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),a("div",{staticStyle:{display:"none"}},[a("a",{attrs:{id:"downloadFile",href:t.srcDownload,download:""}})])],1)}),M=[],j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isMobile?t._e():a("div",{staticStyle:{"text-align":"left",position:"absolute","line-height":"46px"}},[t._v("Tổng số "),a("span",{staticClass:"text-bold primary--text"},[t._v(t._s(t.total))]),t._v(" "+t._s(t.nameRecord)+" ")]),t.total>0?a("div",{staticClass:"vue-tiny-pagination pagination layout",style:t.isMobile?"":"justify-content: flex-end; -webkit-justify-content: flex-end;"},[a("div",{class:t.isMobile?"pr-3 xs4 flex":"px-3 xs4 flex"},[a("v-select",{attrs:{items:t.totalPagesData,"item-text":"text","item-value":"value",autocomplete:""},on:{input:t.goToPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("ul",{staticClass:"tiny-pagination",class:t.customClass},[a("li",{staticClass:"page-item",class:t.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:t.classFirstPage,on:{click:function(e){return e.preventDefault(),t.lastPageLast(e)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("first_page")])])]),a("li",{staticClass:"page-item",class:t.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:t.classFirstPage,staticStyle:{"border-left":"0"},on:{click:function(e){return e.preventDefault(),t.lastPage(e)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("chevron_left")])])]),a("li",{staticClass:"page-item",staticStyle:{"margin-right":"0"}},[a("button",{staticClass:"pagination__navigation pagination__navigation--disabled text-bold primary--text",staticStyle:{"border-right":"0","border-left":"0"}},[t._v("\n          "+t._s(t.titlePage)+"\n        ")])]),a("li",{staticClass:"page-item",class:t.classLastPage,staticStyle:{"margin-right":"0"}},[a("button",{staticClass:"pagination__navigation",class:t.classLastPage,staticStyle:{"border-left":"0"},on:{click:function(e){return e.preventDefault(),t.nextPage(e)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("chevron_right")])])]),a("li",{staticClass:"page-item",class:t.classLastPage},[a("button",{staticClass:"pagination__navigation",class:t.classLastPage,on:{click:function(e){return e.preventDefault(),t.nextPageLast(e)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("last_page")])])])])]):t._e()])},B=[],R="TinyPagination",q={name:R,props:{total:{type:Number,required:!0},page:{type:Number,default:1},lang:{type:String,default:"en"},customClass:{type:String},limits:{type:Array,default:function(){return[10,15,20,50,100]}},showLimit:{type:Boolean,default:!0},nameRecord:{type:String,default:"bản ghi"}},data:function(){return{version:"0.2.1",currentPage:1,currentLimit:15,translations:{en:{prev:"Previous",title:"Page",next:"Next"}},availableLanguages:["en"]}},created:function(){this.currentPage=this.page},watch:{page:function(t){this.currentPage=parseInt(t)}},computed:{translation:function(){return this.availableLanguages.includes(this.lang)?this.translations[this.lang]:this.translations["en"]},totalPages:function(){return Math.ceil(this.total/this.currentLimit)},totalPagesData:function(){for(var t=[],e={},a=1;a<=this.totalPages;++a)e={value:a,text:"Trang "+a},t.push(e);return t},titlePage:function(){return"".concat(this.currentPage)},classFirstPage:function(){return{"c-not-allowed pagination__navigation--disabled":1===this.currentPage}},classLastPage:function(){return{"c-not-allowed pagination__navigation--disabled":this.currentPage===this.totalPages}},isMobile:function(){return this.$store.getters.getIsMobile}},methods:{nextPage:function(){this.currentPage!==this.totalPages&&(this.currentPage+=1,this.$emit("tiny:change-page",{page:this.currentPage}))},lastPage:function(){this.currentPage>1&&(this.currentPage-=1,this.$emit("tiny:change-page",{page:this.currentPage}))},nextPageLast:function(){this.currentPage=this.totalPages,this.$emit("tiny:change-page",{page:this.totalPages})},lastPageLast:function(){this.currentPage=1,this.$emit("tiny:change-page",{page:1})},goToPage:function(){this.$emit("tiny:change-page",{page:this.currentPage})},onLimitChange:function(){this.currentPage=1}}},K=q,Y=a("b56d"),X=Object(d["a"])(K,j,B,!1,null,null,null),J=X.exports;m()(X,{VSelect:Y["a"]});var Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"form-search"}},[a("v-card-text",{staticClass:"px-0 pt-0"},["danhmuc"!==t.form?a("v-row",[a("v-layout",{staticClass:"mt-0",attrs:{wrap:""}},[a("v-flex",{staticClass:"px-0 pr-3",attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{attrs:{items:t.fileTemplateList,label:"Loại giấy tờ","item-text":"name","item-value":"fileTemplateNo","hide-selected":!0,clearable:"",box:""},on:{change:t.changeFilterSearch},model:{value:t.dataSearch["fileTemplateNo"],callback:function(e){t.$set(t.dataSearch,"fileTemplateNo",e)},expression:"dataSearch['fileTemplateNo']"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Số hiệu giấy tờ",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeFilterSearch(e)}},model:{value:t.dataSearch["fileNoSearch"],callback:function(e){t.$set(t.dataSearch,"fileNoSearch",e)},expression:"dataSearch['fileNoSearch']"}})],1),a("v-flex",{staticClass:"px-0 pr-3",attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Số CMND/ CCCD, mã số thuế doanh nghiệp, tổ chức",box:"","clear-icon":"clear",clearable:"",readonly:t.disableInput},on:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeFilterSearch(e)}},model:{value:t.dataSearch["applicantIdNo"],callback:function(e){t.$set(t.dataSearch,"applicantIdNo",e)},expression:"dataSearch['applicantIdNo']"}})],1),a("v-flex",{class:t.form&&"sohoa"===t.form?"px-0 pr-0 sm6":"px-0 pr-3 sm3",attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Chủ sở hữu",box:"","clear-icon":"clear",clearable:"",readonly:t.disableInput},on:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeFilterSearch(e)}},model:{value:t.dataSearch["applicantName"],callback:function(e){t.$set(t.dataSearch,"applicantName",e)},expression:"dataSearch['applicantName']"}})],1),t.form&&"sohoa"===t.form?t._e():a("v-flex",{staticClass:"px-0",attrs:{xs12:"",sm3:""}},[a("v-autocomplete",{attrs:{items:t.statusList,label:"Tình trạng","item-text":"text","item-value":"value","hide-selected":!0,clearable:"",box:""},on:{change:t.changeFilterSearch},model:{value:t.dataSearch["status"],callback:function(e){t.$set(t.dataSearch,"status",e)},expression:"dataSearch['status']"}})],1)],1)],1):t._e(),"danhmuc"===t.form?a("v-row",[a("v-layout",{staticClass:"mt-0",attrs:{wrap:""}},[a("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Mã loại giấy tờ",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeFilterSearch(e)}},model:{value:t.dataSearch["fileTemplateNo"],callback:function(e){t.$set(t.dataSearch,"fileTemplateNo",e)},expression:"dataSearch['fileTemplateNo']"}})],1),a("v-flex",{staticClass:"px-0",attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Tên loại giấy tờ",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeFilterSearch(e)}},model:{value:t.dataSearch["name"],callback:function(e){t.$set(t.dataSearch,"name",e)},expression:"dataSearch['name']"}})],1)],1)],1):t._e(),a("v-flex",{staticClass:"text-right"},[a("v-btn",{staticClass:"mr-3 ml-0 white--text",attrs:{color:"red",small:""},on:{click:t.cancelSearch}},[a("v-icon",{attrs:{size:"20"}},[t._v("\n            clear\n            ")]),t._v("  \n            Thoát\n        ")],1),a("v-btn",{staticClass:"mx-0 white--text",attrs:{color:"#0072bc",small:""},on:{click:t.changeFilterSearch}},[a("v-icon",{attrs:{size:"20"}},[t._v("\n            search\n            ")]),t._v("  \n            Tìm kiếm\n        ")],1)],1)],1)],1)},W=[],Z={name:"Search",props:["form","inputSearch"],data:function(){return{statusList:[{text:"Yêu cầu số hóa",value:0},{text:"Có hiệu lực",value:1},{text:"Hết hiệu lực",value:2},{text:"Hủy",value:3}],dataSearch:{applicantName:"",applicantIdNo:"",fileTemplateNo:"",status:"",keywordSearch:"",fileNoSearch:"",name:""},isDvc:!1,disableInput:!1}},created:function(){var t=this;t.inputSearch&&(t.dataSearch=Object.assign(t.dataSearch,t.inputSearch)),t.getDanhMucGiayTo();var e=t.$router.history.current.query;e.hasOwnProperty("applicantIdNo")&&e.applicantIdNo&&(t.disableInput=!0)},watch:{$route:function(t,e){var a=this,i=t.query;i.hasOwnProperty("applicantIdNo")&&i.applicantIdNo&&(a.disableInput=!0)}},computed:{},methods:{getDataOutPut:function(){var t=this;return t.dataSearch},cancelSearch:function(){var t=this;t.dataSearch={applicantName:"",applicantIdNo:"",fileTemplateNo:"",status:"",keywordSearch:"",fileNoSearch:"",name:""},t.$emit("trigger-cancel",t.dataSearch)},changeFilterSearch:function(){var t=this;setTimeout((function(){t.$emit("trigger-search",t.dataSearch)}),200)},getDanhMucGiayTo:function(){var t=this,e={status:1};t.isDvc?t.$store.dispatch("getFileItemsFromDvc",e).then((function(e){e.hasOwnProperty("data")?t.fileTemplateList=e.data:t.fileTemplateList=[]})).catch((function(){})):t.$store.dispatch("getFileItems",e).then((function(e){e.hasOwnProperty("data")?t.fileTemplateList=e.data:t.fileTemplateList=[]})).catch((function(){}))}}},tt=Z,et=(a("47fb"),a("c6a6")),at=a("8336"),it=a("99d9"),nt=a("132d"),ot=a("2677"),lt=Object(d["a"])(tt,Q,W,!1,null,"12c000e1",null),ct=lt.exports;function st(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}m()(lt,{VAutocomplete:et["a"],VBtn:at["a"],VCardText:it["b"],VFlex:y["a"],VIcon:nt["a"],VLayout:b["a"],VTextField:ot["a"]}),i["a"].use(O.a),O.a.options={positionClass:"toast-top-center",timeOut:"5000"};var rt={components:{"tim-kiem":ct,pagination:J},data:function(){var t;return t={valid:!1,applicantNameCreate:"",applicantIdNoCreate:"",govAgencyCreate:""},st(t,"govAgencyCreate",""),st(t,"createDate",""),st(t,"showDetail",!1),st(t,"fileTemplateList",[]),st(t,"statusCreate",""),st(t,"fileTemplateNoCreate",""),st(t,"fileName",""),st(t,"fileNo",""),st(t,"fileUpdate",""),st(t,"fileNameUpdate",""),st(t,"documentSelect",""),st(t,"loadingAction",!1),st(t,"showAdvanceSearch",!1),st(t,"dataInputSearch",""),st(t,"loadingTable",!1),st(t,"documentApplicantList",[]),st(t,"totalDocument",0),st(t,"documentPage",1),st(t,"numberPerPage",15),st(t,"dialogViewFileSign",!1),st(t,"pathNameFileESign",""),st(t,"dialogPDF",!1),st(t,"isDvc",!1),st(t,"maxFileSize",100),st(t,"typeCreate","create"),st(t,"fileNameView",""),st(t,"srcDownload",""),st(t,"fileEntryESign",""),st(t,"hasEsign",!1),st(t,"statusList",[{text:"Yêu cầu số hóa",value:0},{text:"Có hiệu lực",value:1},{text:"Hết hiệu lực",value:2},{text:"Hủy",value:3}]),st(t,"documentListHeader",[{text:"STT",align:"center",sortable:!1},{text:"Tên giấy tờ",align:"center",sortable:!1},{text:"Số hiệu giấy tờ",align:"center",sortable:!1},{text:"Ngày tạo",align:"center",sortable:!1},{text:"Chủ sở hữu",align:"center",sortable:!1},{text:"Tình trạng",align:"center",sortable:!1},{text:"Thao tác",align:"center",sortable:!1}]),t},computed:{},beforeDestroy:function(){},mounted:function(){},beforeCreate:function(){},created:function(){var t=this;t.getDanhSachGiayToSoHoa(),t.getDanhMucGiayTo()},watch:{fileTemplateNoCreate:function(t){var e=this;t&&"create"===e.typeCreate&&(e.fileName=t.name)}},methods:{showTimKiem:function(){this.showAdvanceSearch=!0},uploadFile:function(){var t=this;t.hasEsign=!1,document.getElementById("documentFile").value="",document.getElementById("documentFile").click()},getDanhMucGiayTo:function(){var t=this,e={status:1};t.isDvc?t.$store.dispatch("getFileItemsFromDvc",e).then((function(e){e.hasOwnProperty("data")?t.fileTemplateList=e.data:t.fileTemplateList=[]})).catch((function(){})):t.$store.dispatch("getFileItems",e).then((function(e){e.hasOwnProperty("data")?t.fileTemplateList=e.data:t.fileTemplateList=[]})).catch((function(){}))},searchGiayToSoHoa:function(t){var e=this;console.log("dataInputSearch",t),e.dataInputSearch=t,e.documentPage=1,e.totalDocument=0,e.getDanhSachGiayToSoHoa(t)},cancelSearchGiayToSoHoa:function(t){var e=this;console.log("dataInputSearch2",t),e.showAdvanceSearch=!1,e.dataInputSearch=t,e.documentPage=1,e.totalDocument=0,e.getDanhSachGiayToSoHoa(t)},changePage:function(t){var e=this;e.documentPage=t.page,e.getDanhSachGiayToSoHoa(e.dataInputSearch)},getDanhSachGiayToSoHoa:function(t){var e=this,a={start:e.documentPage*e.numberPerPage-e.numberPerPage,end:e.documentPage*e.numberPerPage,applicantIdNo:t?t.applicantIdNo:"",fileTemplateNo:t?t.fileTemplateNo:"",status:0,fileNoSearch:t?t.fileNoSearch:"",applicantName:t?t.applicantName:"",applicantDataType:""};e.loadingTable=!0,e.isDvc?e.$store.dispatch("getApplicantDocumentFromDvc",a).then((function(t){t.hasOwnProperty("data")?e.documentApplicantList=t.data:e.documentApplicantList=[],e.totalDocument=t["total"],e.loadingTable=!1})).catch((function(){e.loadingTable=!1,e.documentApplicantList=[],e.totalDocument=0})):e.$store.dispatch("getApplicantDocument",a).then((function(t){t.hasOwnProperty("data")?e.documentApplicantList=t.data:e.documentApplicantList=[],e.totalDocument=t["total"],e.loadingTable=!1})).catch((function(){e.loadingTable=!1,e.documentApplicantList=[],e.totalDocument=0}))},validFileUpload:function(t){var e=this,a=!0,i=t.name?t.name.split("."):"",n=i?i[i.length-1]:"",o=e.fileTemplateNoCreate&&e.fileTemplateNoCreate.fileType?e.fileTemplateNoCreate.fileType.toUpperCase().split(","):"",l=e.fileTemplateNoCreate&&e.fileTemplateNoCreate.size?e.fileTemplateNoCreate.size:e.maxFileSize,c=o?o.filter((function(t){return t===n.toUpperCase()})):"";return c&&c.length>0||!o?Number(t.size)<=1048576*l||!l?a=!0:(a=!1,O.a.clear(),O.a.error("Tài liệu tải lên dung lượng tối đa là "+l+"MB")):(a=!1,O.a.clear(),O.a.error("Tài liệu tải lên chỉ chấp nhận các định dạng "+e.fileTemplateNoCreate.fileType)),a},downloadDocument:function(t){var e=this;e.srcDownload="";t.filePath;var a={applicantDataId:t.applicantDataId};e.isDvc?e.$store.dispatch("getFileAttachProxy",a).then((function(t){e.srcDownload=t,setTimeout((function(){document.getElementById("downloadFile").click()}),100)})).catch((function(){})):e.$store.dispatch("getFileAttach",a).then((function(t){e.srcDownload=t,setTimeout((function(){document.getElementById("downloadFile").click()}),100)})).catch((function(){}))},viewDocument:function(t){var e=this;if(e.pathNameFileESign)e.dialogViewFileSign=!0;else{e.srcDownload="";var a={applicantDataId:t.applicantDataId};e.isDvc?e.$store.dispatch("getFileAttachProxy",a).then((function(a){var i=t.fileExtension.toLowerCase();"png"===i||"jpg"===i||"jpeg"===i||"pdf"===i||"gif"===i||"tif"===i||"tiff"===i?(e.dialogPDF=!0,document.getElementById("dialogPDFPreview").src=a):(e.srcDownload=a,setTimeout((function(){document.getElementById("downloadFile").click()}),100))})).catch((function(){})):e.$store.dispatch("getFileAttach",a).then((function(a){var i=t.fileExtension.toLowerCase();"png"===i||"jpg"===i||"jpeg"===i||"pdf"===i||"gif"===i||"tif"===i||"tiff"===i?(e.dialogPDF=!0,document.getElementById("dialogPDFPreview").src=a):(e.srcDownload=a,setTimeout((function(){document.getElementById("downloadFile").click()}),100))})).catch((function(){}))}},showEditDocument:function(t){var e=this;e.updateFile=!1,$("html, body").animate({scrollTop:$("#top-header").offset().top},100,"linear"),e.documentSelect=t,e.typeCreate="update",e.fileNameView=t.fileName;try{e.fileTemplateNoCreate=e.fileTemplateList.filter((function(e){return e.fileTemplateNo===t.fileTemplateNo}))[0]}catch(a){}e.statusCreate=t.status,e.govAgencyCreate=t.govAgencyName?t.govAgencyName:"",e.applicantNameCreate=t.applicantName?t.applicantName:"",e.applicantIdNoCreate=t.applicantIdNo?t.applicantIdNo:"",e.createDate=t.issueDate?String(t.issueDate).split(" ")[0]:"",e.fileName=t.fileName,e.fileNo=t.fileNo,e.showDetail=!0},uploadDocumentFile:function(t){var e=this,a=$("#documentFile")[0].files,i=a[0],n="",o=e.validFileUpload(i);o&&(e.updateFile=!0,i["name"]&&(n=i["name"].replace(/\%/g,""),n=n.replace(/\//g,""),n=n.replace(/\\/g,""),n=n.replace(/\s/g,"")),e.fileUpdate=i,e.fileNameUpdate=n,e.fileNameView=n)},showCreatedocument:function(){var t=this;t.updateFile=!1,t.showDetail=!0,t.typeCreate="create",t.pathNameFileESign="",t.fileNameView="",t.statusCreate=0,t.fileName="",t.fileNo="",setTimeout((function(){t.$refs.form.reset(),t.$refs.form.resetValidation()}),200)},createDocument:function(){var t=this;if(t.hasEsign)t.createDocumentKySo();else{var e=!0;if(t.updateFile){var a=$("#documentFile")[0].files,i=a[0];e=t.validFileUpload(i)}if(!e)return;if(t.$refs.form.validate())if(t.fileNameView){t.loadingAction=!0;var n={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},o=new FormData,l="/o/rest/v2/applicantdatas";o.append("fileTemplateNo",t.fileTemplateNoCreate.fileTemplateNo),o.append("status",t.statusCreate?t.statusCreate:0),o.append("fileNo",t.fileNo),o.append("fileName",t.fileName),o.append("applicantIdNo",t.applicantIdNoCreate),o.append("applicantName",t.applicantNameCreate),o.append("file",t.fileUpdate),o.append("govAgencyName",t.govAgencyCreate),o.append("issueDate",t.createDate),o.append("expireDate",""),o.append("desciption",""),s.a.post(l,o,n).then((function(e){t.loadingAction=!1,O.a.success("Thêm mới giấy tờ thành công"),t.showDetail=!1,setTimeout((function(){t.getDanhSachGiayToSoHoa()}),200)})).catch((function(e){t.loadingAction=!1,O.a.error("Thêm mới thất bại. Vui lòng thử lại.")}))}else O.a.clear(),O.a.error("Vui lòng đính kèm tài liệu")}},createDocumentKySo:function(){var t=this;if(t.$refs.form.validate())if(t.fileNameView){t.loadingAction=!0;var e={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},a=new FormData,i="/o/rest/v2/applicantdatas";a.append("fileTemplateNo",t.fileTemplateNoCreate.fileTemplateNo),a.append("status",t.statusCreate?t.statusCreate:0),a.append("fileNo",t.fileNo),a.append("fileName",t.fileName),a.append("applicantIdNo",t.applicantIdNoCreate),a.append("applicantName",t.applicantNameCreate),a.append("fileEntryId",t.fileEntryESign),a.append("govAgencyName",t.govAgencyCreate),a.append("issueDate",t.createDate),a.append("expireDate",""),a.append("desciption",""),a.append("file",""),s.a.post(i,a,e).then((function(e){t.loadingAction=!1,O.a.success("Thêm mới tài liệu thành công"),t.showDetail=!1,setTimeout((function(){t.getDanhSachGiayToSoHoa()}),200)})).catch((function(e){t.loadingAction=!1,O.a.error("Thêm mới thất bại. Vui lòng thử lại.")}))}else O.a.clear(),O.a.error("Vui lòng đính kèm tài liệu")},updateDocument:function(){var t=this;if(t.hasEsign)t.updateDocumentKySo();else{var e=!0;if(t.updateFile){var a=$("#documentFile")[0].files,i=a[0];e=t.validFileUpload(i)}if(!e)return;if(t.$refs.form.validate()){t.loadingAction=!0;var n={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},o=new FormData,l="/o/rest/v2/applicantdatas/"+t.documentSelect.applicantDataId;o.append("fileTemplateNo",t.fileTemplateNoCreate.fileTemplateNo),o.append("status",t.statusCreate?t.statusCreate:0),o.append("fileNo",t.fileNo),o.append("fileName",t.fileName),o.append("applicantIdNo",t.applicantIdNoCreate),o.append("govAgencyName",t.govAgencyCreate),o.append("issueDate",t.createDate),o.append("expireDate",""),o.append("desciption",""),t.updateFile?o.append("file",t.fileUpdate):o.append("file",""),s.a.put(l,o,n).then((function(e){t.loadingAction=!1,O.a.success("Cập nhật tài liệu thành công"),t.showDetail=!1,setTimeout((function(){t.getDanhSachGiayToSoHoa()}),200)})).catch((function(e){t.loadingAction=!1,O.a.error("Cập nhật thất bại. Vui lòng thử lại.")}))}}},updateDocumentKySo:function(){var t=this;if(t.$refs.form.validate()){t.loadingAction=!0;var e={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},a=new FormData,i="/o/rest/v2/applicantdatas/"+t.documentSelect.applicantDataId;a.append("fileTemplateNo",t.fileTemplateNoCreate.fileTemplateNo),a.append("status",t.statusCreate?t.statusCreate:0),a.append("fileNo",t.fileNo),a.append("fileName",t.fileName),a.append("applicantIdNo",t.documentSelect.applicantIdNo),a.append("govAgencyName",t.govAgencyCreate),a.append("issueDate",t.createDate),a.append("expireDate",""),a.append("desciption",""),a.append("file",""),a.append("fileEntryId",t.fileEntryESign),s.a.put(i,a,e).then((function(e){t.loadingAction=!1,O.a.success("Cập nhật tài liệu thành công"),t.dialog_createDocument=!1,t.showDetail=!1,setTimeout((function(){t.getDanhSachGiayToSoHoa()}),200)})).catch((function(e){t.loadingAction=!1,O.a.error("Cập nhật thất bại. Vui lòng thử lại.")}))}},vgsignCopy:function(){var t=this;t.hasEsign=!0;var e={};e["FileUploadHandler"]=window.themeDisplay.getPortalURL()+"/o/rest/v2/vgca/fileupload",e["SessionId"]="",e["FileName"]="";var a=function(e){var a=JSON.parse(e);if(console.log("received_msg",a),0===a.Status){var i;try{i=JSON.parse(a.FileServer),t.fileEntryESign=i.fileEntryId;var n=i.url;"https:"===window.top.location.protocol&&(n=n.replace("http:","https:")),n=n.replace(":80/","/"),t.pathNameFileESign=n,t.fileNameView=n}catch(o){}console.log("dataSigned",i),O.a.clear(),O.a.success("Giấy tờ đã được đóng dấu"),t.dialogViewFileSign=!0}else a.Message?(O.a.clear(),O.a.error(a.Message)):(O.a.clear(),O.a.error("Đóng dấu không thành công"))},i=JSON.stringify(e);vgca_sign_copy(i,a)},formatDate:function(){var t=this,e=String(t.createDate).trim().length,a=String(t.createDate).split("/");if(e&&e>4&&3===a.length&&a[2])t.createDate=t.translateDate(t.createDate);else if(e&&8===e){var i=String(t.createDate);t.createDate=i.slice(0,2)+"/"+i.slice(2,4)+"/"+i.slice(4,8)}else t.createDate=""},getStatus:function(t){return"0"===String(t)?"Yêu cầu số hóa":"1"===String(t)?"Có hiệu lực":"2"===String(t)?"Hết hiệu lực":"3"===String(t)?"Hủy":void 0}}},pt=rt,dt=a("8fea"),ut=a("169a"),mt=a("4bd4"),ht=a("8e36"),ft=a("9910"),vt=a("71d9"),gt=a("2a7f"),yt=a("3a2f"),xt=Object(d["a"])(pt,U,M,!1,null,null,null),bt=xt.exports;m()(xt,{VAutocomplete:et["a"],VBtn:at["a"],VCard:f["a"],VCardText:it["b"],VDataTable:dt["a"],VDialog:ut["a"],VFlex:y["a"],VForm:mt["a"],VIcon:nt["a"],VLayout:b["a"],VProgressLinear:ht["a"],VSpacer:ft["a"],VTextField:ot["a"],VToolbar:vt["a"],VToolbarTitle:gt["a"],VTooltip:yt["a"]});var wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-5 pb-3",staticStyle:{padding:"0px 25px","max-width":"1500px",margin:"0px auto"},attrs:{id:"top-header"}},[t.showDetail?a("v-card",{staticClass:"px-3 py-3",staticStyle:{width:"100%",background:"#ffffff","border-radius":"12px","box-shadow":"0 6px 10px -4px rgb(0 0 0 / 15%)"}},[a("div",{staticClass:"headline mb-0",staticStyle:{"font-size":"20px!important"}},["create"===t.typeCreate?a("span",[t._v("THÊM MỚI GIẤY TỜ")]):a("span",[t._v("ĐÓNG DẤU, CẬP NHẬT GIẤY TỜ")])]),a("v-card-text",{staticClass:"py-1 px-0"},[a("v-form",{ref:"form",staticClass:"px-0 grid-list",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{staticClass:"px-0 py-3",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pr-2 pl-0",attrs:{xs12:"",sm4:""}},[a("v-autocomplete",{attrs:{items:t.fileTemplateList,label:"Loại giấy tờ","item-text":"name","item-value":"fileTemplateNo","return-object":"","hide-selected":!0,box:"",rules:[function(t){return!!t||"Loại giấy tờ là bắt buộc"}],required:""},model:{value:t.fileTemplateNoCreate,callback:function(e){t.fileTemplateNoCreate=e},expression:"fileTemplateNoCreate"}})],1),a("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm4:""}},[a("v-autocomplete",{attrs:{items:t.statusList,label:"Tình trạng","item-text":"text","item-value":"value","hide-selected":!0,box:"",rules:[function(t){return""!==t&&null!==t||"Tình trạng là bắt buộc"}],required:""},model:{value:t.statusCreate,callback:function(e){t.statusCreate=e},expression:"statusCreate"}})],1),a("v-flex",{staticClass:"px-0",attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{label:"Số hiệu giấy tờ",box:"",clearable:"",rules:[function(t){return!!t||"Mã giấy tờ là bắt buộc"}],required:""},model:{value:t.fileNo,callback:function(e){t.fileNo=e},expression:"fileNo"}})],1),a("v-flex",{staticClass:"px-0 pr-3",attrs:{xs12:"",sm8:""}},[a("v-text-field",{attrs:{label:"Chủ sở hữu",box:"",clearable:"",rules:[function(t){return!!t||"Chủ sở hữu giấy tờ là bắt buộc"}],required:""},model:{value:t.applicantNameCreate,callback:function(e){t.applicantNameCreate=e},expression:"applicantNameCreate"}})],1),a("v-flex",{staticClass:"px-0",attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Tên giấy tờ",box:"",clearable:"",rules:[function(t){return!!t||"Tên giấy tờ là bắt buộc"}],required:""},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1),a("v-flex",{staticClass:"px-0",attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{label:"Số cmnd/cccd, MST doanh nghiệp, tổ chức",box:"",clearable:"",rules:[function(t){return!!t||"Thông tin bắt buộc"}],required:""},model:{value:t.applicantIdNoCreate,callback:function(e){t.applicantIdNoCreate=e},expression:"applicantIdNoCreate"}})],1),a("v-flex",{staticClass:"px-0 pr-3",attrs:{xs12:"",sm8:""}},[a("v-text-field",{attrs:{label:"Đơn vị cấp",box:"",clearable:""},model:{value:t.govAgencyCreate,callback:function(e){t.govAgencyCreate=e},expression:"govAgencyCreate"}})],1),a("v-flex",{staticClass:"px-0",attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{label:"Ngày cấp",placeholder:"dd/mm/yyyy, ddmmyyyy",box:"",clearable:""},on:{blur:t.formatDate},model:{value:t.createDate,callback:function(e){t.createDate=e},expression:"createDate"}})],1),a("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[t.fileNameView?a("div",{staticClass:"pb-3",on:{click:function(e){t.viewDocument(t.documentSelect)}}},[a("v-icon",{attrs:{size:"18",color:"red"}},[t._v("fa fa-file-pdf-o")]),a("a",{staticClass:"ml-2",staticStyle:{"font-style":"italic","font-size":"14px","text-decoration":"underline"}},[t._v(t._s(t.fileNameView))])],1):t._e(),a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"documentFile"},on:{input:function(e){t.uploadDocumentFile(e)}}}),a("v-btn",{staticClass:"mx-0 px-0 mr-4 d-inline-block",staticStyle:{width:"175px"},attrs:{block:"",color:"primary",dark:""},nativeOn:{click:function(e){t.uploadFile()}}},[a("v-icon",{attrs:{size:"16"}},[t._v("fas fa fa-upload")]),t._v("    \n                Tải lên giấy tờ\n              ")],1),a("v-btn",{staticClass:"mx-0 px-0 d-inline-block",staticStyle:{width:"230px"},attrs:{block:"",color:"primary",dark:""},nativeOn:{click:function(e){t.vgsignCopy("https://kiemthu-mt-gov-vn-9001.fds.vn")}}},[a("v-icon",{attrs:{size:"16"}},[t._v("border_color")]),t._v("    \n                Tải lên và đóng dấu giấy tờ\n              ")],1),t.fileTemplateNoCreate&&t.fileTemplateNoCreate.fileType?a("div",[a("span",{staticStyle:{color:"red"}},[t._v("(*) ")]),a("span",[t._v("File tải lên chấp nhận các định dạng: "+t._s(t.fileTemplateNoCreate.fileType)+" .")])]):t._e()],1)],1)],1),a("v-flex",{staticClass:"text-right"},[a("v-btn",{staticClass:"mr-2 white--text",attrs:{color:"red",disabled:t.loadingAction},nativeOn:{click:function(e){t.showDetail=!1}}},[a("v-icon",[t._v("reply")]),t._v("  \n            Quay lại\n          ")],1),"create"===t.typeCreate?a("v-btn",{staticClass:"mr-0",attrs:{disabled:t.loadingAction,color:"primary"},nativeOn:{click:function(e){return t.createDocument(e)}}},[a("v-icon",[t._v("save")]),t._v("  \n            "),a("span",[t._v("Thêm mới")])],1):a("v-btn",{staticClass:"mr-0",attrs:{disabled:t.loadingAction,color:"primary"},nativeOn:{click:function(e){return t.updateDocument(e)}}},[a("v-icon",[t._v("save")]),t._v("  \n            "),a("span",[t._v("Cập nhật")])],1)],1)],1)],1):a("v-card",{staticClass:"px-3 py-3",staticStyle:{width:"100%",background:"#ffffff","border-radius":"12px","box-shadow":"0 6px 10px -4px rgb(0 0 0 / 15%)"}},[a("div",{staticClass:"headline mb-3",staticStyle:{"font-size":"20px!important"}},[t._v("KHO GIẤY TỜ, TÀI LIỆU")]),a("v-btn",{staticClass:"mx-0 white--text",staticStyle:{position:"absolute",right:"17px",top:"15px"},attrs:{color:"#0072bc",small:""},on:{click:function(e){return e.stopPropagation(),t.showTimKiem(e)}}},[a("v-icon",{attrs:{size:"20"}},[t._v("\n          filter_alt\n        ")]),t._v("  \n        Lọc danh sách\n      ")],1),t.showAdvanceSearch?a("v-card-text",{staticClass:"px-0"},[a("tim-kiem",{ref:"timkiem",attrs:{inputSearch:t.inputSearch},on:{"trigger-search":t.searchGiayToSoHoa,"trigger-cancel":t.cancelSearchGiayToSoHoa}})],1):t._e(),t.showApplicantInfo?a("v-card-text",{staticClass:"px-0 py-0"},[a("v-layout",{staticClass:"px-0 py-0",attrs:{wrap:""}},[a("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm5:""}},[a("div",{staticClass:"xs12 sm12 pb-1 mb-1"},[a("span",{staticClass:"pr-2"},[t._v("Tên công dân, tổ chức , doanh nghiệp: ")]),a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.applicantInfos.applicantName))])])]),a("v-flex",{staticClass:"mb-1",attrs:{xs12:"",sm7:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Số CMND/ CCCD, mã tổ chức, doanh nghiệp: ")]),a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.applicantInfos.applicantIdNo))])])]),a("v-flex",{staticClass:"pr-2 mb-1",attrs:{xs12:"",sm5:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Điện thoại: ")]),a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.applicantInfos.contactTelNo)+" ")])])]),a("v-flex",{staticClass:"mb-1",attrs:{xs12:"",sm7:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pl-0"},[t._v("Thư điện tử: ")]),a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.applicantInfos.contactEmail)+" ")])])]),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Địa chỉ: ")]),a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(String(t.applicantInfos.address).replace(/\./g,""))+" "+t._s(t.applicantInfos.wardName)),t.applicantInfos.wardName?a("span",[t._v(", "+t._s(t.applicantInfos.districtName)+", "+t._s(t.applicantInfos.cityName))]):t._e()])])])],1)],1):t._e(),a("v-btn",{staticClass:"mx-0 white--text",attrs:{color:"#0072bc",small:""},on:{click:function(e){return e.stopPropagation(),t.showCreatedocument(e)}}},[a("v-icon",{attrs:{size:"20"}},[t._v("\n          post_add\n        ")]),t._v("  \n        Thêm mới giấy tờ\n      ")],1),a("v-data-table",{staticClass:"table-landing table-bordered mt-2",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.documentListHeader,items:t.documentApplicantList,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{active:e.index%2==1},staticStyle:{cursor:"pointer"}},[a("td",{staticClass:"text-xs-center py-2",staticStyle:{width:"50px",height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(t.documentPage*t.numberPerPage-t.numberPerPage+e.index+1))])])],1),a("td",{staticClass:"text-xs-left py-2",staticStyle:{height:"36px","min-width":"450px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.hasOwnProperty("fileName")?e.item.fileName:""))])])],1),a("td",{staticClass:"text-xs-left py-2",staticStyle:{height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.hasOwnProperty("fileNo")?e.item.fileNo:""))])])],1),a("td",{staticClass:"text-xs-left py-2",staticStyle:{height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.hasOwnProperty("createDate")?e.item.createDate:""))])])],1),a("td",{staticClass:"text-xs-left py-2",staticStyle:{height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.hasOwnProperty("applicantName")?e.item.applicantName:""))]),a("br"),a("span",[t._v(t._s(e.item.hasOwnProperty("applicantIdNo")?e.item.applicantIdNo:""))])])],1),a("td",{staticClass:"text-xs-center py-2",staticStyle:{height:"36px","min-width":"120px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",{style:1===e.item.status?"color: green":2===e.item.status?"color: red":"color: orange"},[t._v("\n                  "+t._s(e.item.hasOwnProperty("status")?t.getStatus(e.item.status):"")+"\n                ")])])],1),a("td",{staticClass:"text-right py-2",staticStyle:{height:"36px","min-width":"150px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),!t.loadingTable&&e.item.fileEntryId?a("v-tooltip",{staticClass:"mr-2",attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"blue",flat:"",icon:""},on:{click:function(a){t.viewDocument(e.item)}},slot:"activator"},[a("v-icon",{attrs:{size:"22"}},[t._v("visibility")])],1),a("span",[t._v("Xem giấy tờ")])],1):t._e(),!t.loadingTable&&e.item.fileEntryId?a("v-tooltip",{staticClass:"mr-2",attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"blue",flat:"",icon:""},on:{click:function(a){t.downloadDocument(e.item)}},slot:"activator"},[a("v-icon",{attrs:{size:"22"}},[t._v("fas fa fa-download")])],1),a("span",[t._v("Tải xuống")])],1):t._e(),t.loadingTable?t._e():a("v-tooltip",{staticClass:"mr-2",attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"green",flat:"",icon:""},on:{click:function(a){t.showEditDocument(e.item)}},slot:"activator"},[a("v-icon",{attrs:{size:"22"}},[t._v("edit")])],1),a("span",[t._v("Cập nhật giấy tờ")])],1)],1)])]}}])},[t.loadingTable?a("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}):t._e(),a("template",{slot:"no-data"},[a("div",{staticClass:"text-xs-center mt-2"},[t._v("\n            Không có giấy tờ\n          ")])])],2),t.totalDocument>t.numberPerPage?a("div",{staticClass:"my-2"},[a("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table"},[a("pagination",{attrs:{total:t.totalDocument,page:t.documentPage,numberPerPage:t.numberPerPage,nameRecord:"giấy tờ","custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.changePage}})],1)])]):t._e()],1),a("v-dialog",{attrs:{"max-width":"1200",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Giấy tờ tài liệu")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),a("v-dialog",{attrs:{"max-width":"1200",transition:"fade-transition"},model:{value:t.dialogViewFileSign,callback:function(e){t.dialogViewFileSign=e},expression:"dialogViewFileSign"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title"),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogViewFileSign=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogEsignPreview",src:t.pathNameFileESign,type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),a("div",{staticStyle:{display:"none"}},[a("a",{attrs:{id:"downloadFile",href:t.srcDownload,download:""}})])],1)},Ct=[];i["a"].use(O.a),O.a.options={positionClass:"toast-top-center",timeOut:"5000"};var Tt={components:{"tim-kiem":ct,pagination:J},data:function(){return{valid:!1,applicantNameCreate:"",applicantIdNoCreate:"",govAgencyCreate:"",createDate:"",showDetail:!1,fileTemplateList:[],statusCreate:"",fileTemplateNoCreate:"",fileName:"",fileNo:"",fileUpdate:"",fileNameUpdate:"",documentSelect:"",loadingAction:!1,showAdvanceSearch:!1,showApplicantInfo:!1,inputSearch:{applicantName:"",applicantIdNo:"",fileTemplateNo:"",status:"",keywordSearch:"",fileNoSearch:"",name:""},dataInputSearch:"",loadingTable:!1,documentApplicantList:[],totalDocument:0,documentPage:1,numberPerPage:15,dialogViewFileSign:!1,pathNameFileESign:"",dialogPDF:!1,isDvc:!1,maxFileSize:100,typeCreate:"create",fileNameView:"",srcDownload:"",fileEntryESign:"",hasEsign:!1,statusList:[{text:"Yêu cầu số hóa",value:0},{text:"Có hiệu lực",value:1},{text:"Hết hiệu lực",value:2},{text:"Hủy",value:3}],applicantInfos:"",documentListHeader:[{text:"STT",align:"center",sortable:!1},{text:"Tên giấy tờ",align:"center",sortable:!1},{text:"Số hiệu giấy tờ",align:"center",sortable:!1},{text:"Ngày tạo",align:"center",sortable:!1},{text:"Chủ sở hữu",align:"center",sortable:!1},{text:"Tình trạng",align:"center",sortable:!1},{text:"Thao tác",align:"center",sortable:!1}]}},computed:{},beforeDestroy:function(){},mounted:function(){},beforeCreate:function(){},created:function(){var t=this,e=t.$router.history.current.query;if(e.hasOwnProperty("applicantIdNo")&&e.applicantIdNo){var a={headers:{groupId:0},params:{start:0,end:1,idNo:e.applicantIdNo}};s.a.get("/o/rest/v2/applicants",a).then((function(a){a.data.hasOwnProperty("data")&&a.data.data.length&&(t.applicantInfos=a.data.data[0],t.inputSearch={applicantIdNo:e.applicantIdNo,applicantName:t.applicantInfos.applicantName})})).catch((function(){})),t.showApplicantInfo=!0,t.getDanhSachGiayToSoHoa()}else t.getDanhSachGiayToSoHoa();t.getDanhMucGiayTo()},watch:{$route:function(t,e){var a=this,i=t.query;if(i.hasOwnProperty("applicantIdNo")&&i.applicantIdNo){var n={headers:{groupId:0},params:{start:0,end:1,idNo:i.applicantIdNo}};s.a.get("/o/rest/v2/applicants",n).then((function(t){t.data.hasOwnProperty("data")&&t.data.data.length&&(a.applicantInfos=t.data.data[0],a.inputSearch={applicantIdNo:i.applicantIdNo,applicantName:a.applicantInfos.applicantName})})).catch((function(){})),a.showApplicantInfo=!0,a.getDanhSachGiayToSoHoa()}else a.showApplicantInfo=!1,a.getDanhSachGiayToSoHoa();a.getDanhMucGiayTo()},fileTemplateNoCreate:function(t){var e=this;t&&"create"===e.typeCreate&&(e.fileName=t.name)}},methods:{showTimKiem:function(){this.showAdvanceSearch=!0},uploadFile:function(){var t=this;t.hasEsign=!1,document.getElementById("documentFile").value="",document.getElementById("documentFile").click()},getDanhMucGiayTo:function(){var t=this,e={status:1};t.isDvc?t.$store.dispatch("getFileItemsFromDvc",e).then((function(e){e.hasOwnProperty("data")?t.fileTemplateList=e.data:t.fileTemplateList=[]})).catch((function(){})):t.$store.dispatch("getFileItems",e).then((function(e){e.hasOwnProperty("data")?t.fileTemplateList=e.data:t.fileTemplateList=[]})).catch((function(){}))},searchGiayToSoHoa:function(t){var e=this;console.log("dataInputSearch",t),e.dataInputSearch=t,e.documentPage=1,e.totalDocument=0,e.getDanhSachGiayToSoHoa(t)},cancelSearchGiayToSoHoa:function(t){var e=this;console.log("dataInputSearch2",t),e.showAdvanceSearch=!1,e.dataInputSearch=t,e.documentPage=1,e.totalDocument=0,e.getDanhSachGiayToSoHoa(t)},changePage:function(t){var e=this;e.documentPage=t.page,e.getDanhSachGiayToSoHoa(e.dataInputSearch)},getDanhSachGiayToSoHoa:function(t){var e=this,a={start:e.documentPage*e.numberPerPage-e.numberPerPage,end:e.documentPage*e.numberPerPage,applicantIdNo:t?t.applicantIdNo:"",fileTemplateNo:t?t.fileTemplateNo:"",status:t?t.status:"",fileNoSearch:t?t.fileNoSearch:"",applicantName:t?t.applicantName:"",applicantDataType:""},i=e.$router.history.current.query;i.hasOwnProperty("applicantIdNo")&&i.applicantIdNo&&(a.applicantIdNo=i.applicantIdNo),e.loadingTable=!0,e.$store.dispatch("getApplicantDocument",a).then((function(t){t.hasOwnProperty("data")?e.documentApplicantList=t.data:e.documentApplicantList=[],e.totalDocument=t["total"],e.loadingTable=!1})).catch((function(){e.loadingTable=!1,e.documentApplicantList=[],e.totalDocument=0}))},validFileUpload:function(t){var e=this,a=!0,i=t.name?t.name.split("."):"",n=i?i[i.length-1]:"",o=e.fileTemplateNoCreate&&e.fileTemplateNoCreate.fileType?e.fileTemplateNoCreate.fileType.toUpperCase().split(","):"",l=e.fileTemplateNoCreate&&e.fileTemplateNoCreate.size?e.fileTemplateNoCreate.size:e.maxFileSize,c=o?o.filter((function(t){return t===n.toUpperCase()})):"";return c&&c.length>0||!o?Number(t.size)<=1048576*l||!l?a=!0:(a=!1,O.a.clear(),O.a.error("Tài liệu tải lên dung lượng tối đa là "+l+"MB")):(a=!1,O.a.clear(),O.a.error("Tài liệu tải lên chỉ chấp nhận các định dạng "+e.fileTemplateNoCreate.fileType)),a},downloadDocument:function(t){var e=this;e.srcDownload="";t.filePath;var a={applicantDataId:t.applicantDataId};e.isDvc?e.$store.dispatch("getFileAttachProxy",a).then((function(t){e.srcDownload=t,setTimeout((function(){document.getElementById("downloadFile").click()}),100)})).catch((function(){})):e.$store.dispatch("getFileAttach",a).then((function(t){e.srcDownload=t,setTimeout((function(){document.getElementById("downloadFile").click()}),100)})).catch((function(){}))},viewDocument:function(t){var e=this;if(e.pathNameFileESign)e.dialogViewFileSign=!0;else{e.srcDownload="";var a={applicantDataId:t.applicantDataId};e.isDvc?e.$store.dispatch("getFileAttachProxy",a).then((function(a){var i=t.fileExtension.toLowerCase();"png"===i||"jpg"===i||"jpeg"===i||"pdf"===i||"gif"===i||"tif"===i||"tiff"===i?(e.dialogPDF=!0,document.getElementById("dialogPDFPreview").src=a):(e.srcDownload=a,setTimeout((function(){document.getElementById("downloadFile").click()}),100))})).catch((function(){})):e.$store.dispatch("getFileAttach",a).then((function(a){var i=t.fileExtension.toLowerCase();"png"===i||"jpg"===i||"jpeg"===i||"pdf"===i||"gif"===i||"tif"===i||"tiff"===i?(e.dialogPDF=!0,document.getElementById("dialogPDFPreview").src=a):(e.srcDownload=a,setTimeout((function(){document.getElementById("downloadFile").click()}),100))})).catch((function(){}))}},showEditDocument:function(t){var e=this;e.updateFile=!1,$("html, body").animate({scrollTop:$("#top-header").offset().top},100,"linear"),e.documentSelect=t,e.typeCreate="update",e.fileNameView=t.fileName;try{e.fileTemplateNoCreate=e.fileTemplateList.filter((function(e){return e.fileTemplateNo===t.fileTemplateNo}))[0]}catch(a){}e.statusCreate=t.status,e.fileName=t.fileName,e.fileNo=t.fileNo,e.govAgencyCreate=t.govAgencyName?t.govAgencyName:"",e.applicantNameCreate=t.applicantName?t.applicantName:"",e.applicantIdNoCreate=t.applicantIdNo?t.applicantIdNo:"",e.createDate=t.issueDate?String(t.issueDate).split(" ")[0]:"",e.showDetail=!0},uploadDocumentFile:function(t){var e=this,a=$("#documentFile")[0].files,i=a[0],n="",o=e.validFileUpload(i);o&&(e.updateFile=!0,i["name"]&&(n=i["name"].replace(/\%/g,""),n=n.replace(/\//g,""),n=n.replace(/\\/g,""),n=n.replace(/\s/g,"")),e.fileUpdate=i,e.fileNameUpdate=n,e.fileNameView=n)},showCreatedocument:function(){var t=this;t.showDetail=!0,t.typeCreate="create",t.pathNameFileESign="",t.fileNameView="",t.statusCreate="",t.fileName="",t.fileNo="",t.updateFile=!1,setTimeout((function(){t.$refs.form.reset(),t.$refs.form.resetValidation(),t.showApplicantInfo&&(t.applicantIdNoCreate=t.applicantInfos.applicantIdNo,t.applicantNameCreate=t.applicantInfos.applicantName)}),200)},createDocument:function(){var t=this;if(t.hasEsign)t.createDocumentKySo();else{var e=!0;if(t.updateFile){var a=$("#documentFile")[0].files,i=a[0];e=t.validFileUpload(i)}if(!e)return;if(t.$refs.form.validate())if(t.fileNameView){t.loadingAction=!0;var n={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},o=new FormData,l="/o/rest/v2/applicantdatas";o.append("fileTemplateNo",t.fileTemplateNoCreate.fileTemplateNo),o.append("status",t.statusCreate?t.statusCreate:0),o.append("fileNo",t.fileNo),o.append("fileName",t.fileName),o.append("applicantIdNo",t.applicantIdNoCreate),o.append("applicantName",t.applicantNameCreate),o.append("govAgencyName",t.govAgencyCreate),o.append("file",t.fileUpdate),o.append("issueDate",t.createDate),o.append("expireDate",""),o.append("desciption",""),s.a.post(l,o,n).then((function(e){t.loadingAction=!1,O.a.success("Thêm mới giấy tờ thành công"),t.showDetail=!1,setTimeout((function(){t.getDanhSachGiayToSoHoa()}),200)})).catch((function(e){t.loadingAction=!1,O.a.error("Thêm mới thất bại. Vui lòng thử lại.")}))}else O.a.clear(),O.a.error("Vui lòng đính kèm tài liệu")}},createDocumentKySo:function(){var t=this;if(t.$refs.form.validate())if(t.fileNameView){t.loadingAction=!0;var e={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},a=new FormData,i="/o/rest/v2/applicantdatas";a.append("fileTemplateNo",t.fileTemplateNoCreate.fileTemplateNo),a.append("status",t.statusCreate?t.statusCreate:0),a.append("fileNo",t.fileNo),a.append("fileName",t.fileName),a.append("applicantIdNo",t.applicantIdNoCreate),a.append("applicantName",t.applicantNameCreate),a.append("govAgencyName",t.govAgencyCreate),a.append("fileEntryId",t.fileEntryESign),a.append("issueDate",t.createDate),a.append("expireDate",""),a.append("desciption",""),a.append("file",""),s.a.post(i,a,e).then((function(e){t.loadingAction=!1,O.a.success("Thêm mới tài liệu thành công"),t.showDetail=!1,setTimeout((function(){t.getDanhSachGiayToSoHoa()}),200)})).catch((function(e){t.loadingAction=!1,O.a.error("Thêm mới thất bại. Vui lòng thử lại.")}))}else O.a.clear(),O.a.error("Vui lòng đính kèm tài liệu")},updateDocument:function(){var t=this;if(t.hasEsign)t.updateDocumentKySo();else{var e=!0;if(t.updateFile){var a=$("#documentFile")[0].files,i=a[0];e=t.validFileUpload(i)}if(!e)return;if(t.$refs.form.validate()){t.loadingAction=!0;var n={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},o=new FormData,l="/o/rest/v2/applicantdatas/"+t.documentSelect.applicantDataId;o.append("fileTemplateNo",t.fileTemplateNoCreate.fileTemplateNo),o.append("status",t.statusCreate?t.statusCreate:0),o.append("fileNo",t.fileNo),o.append("fileName",t.fileName),o.append("applicantIdNo",t.applicantIdNoCreate),o.append("govAgencyName",t.govAgencyCreate),o.append("issueDate",t.createDate),o.append("expireDate",""),o.append("desciption",""),t.updateFile?o.append("file",t.fileUpdate):o.append("file",""),s.a.put(l,o,n).then((function(e){t.loadingAction=!1,O.a.success("Cập nhật tài liệu thành công"),t.showDetail=!1,setTimeout((function(){t.getDanhSachGiayToSoHoa()}),200)})).catch((function(e){t.loadingAction=!1,O.a.error("Cập nhật thất bại. Vui lòng thử lại.")}))}}},updateDocumentKySo:function(){var t=this;if(t.$refs.form.validate()){t.loadingAction=!0;var e={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},a=new FormData,i="/o/rest/v2/applicantdatas/"+t.documentSelect.applicantDataId;a.append("fileTemplateNo",t.fileTemplateNoCreate.fileTemplateNo),a.append("status",t.statusCreate?t.statusCreate:0),a.append("fileNo",t.fileNo),a.append("fileName",t.fileName),a.append("applicantIdNo",t.documentSelect.applicantIdNo),a.append("fileEntryId",t.fileEntryESign),a.append("govAgencyName",t.govAgencyCreate),a.append("issueDate",t.createDate),a.append("expireDate",""),a.append("desciption",""),a.append("file",""),s.a.put(i,a,e).then((function(e){t.loadingAction=!1,O.a.success("Cập nhật tài liệu thành công"),t.showDetail=!1,setTimeout((function(){t.getDanhSachGiayToSoHoa()}),200)})).catch((function(e){t.loadingAction=!1,O.a.error("Cập nhật thất bại. Vui lòng thử lại.")}))}},vgsignCopy:function(){var t=this;t.hasEsign=!0;var e={};e["FileUploadHandler"]=window.themeDisplay.getPortalURL()+"/o/rest/v2/vgca/fileupload",e["SessionId"]="",e["FileName"]="";var a=function(e){var a=JSON.parse(e);if(console.log("received_msg",a),0===a.Status){var i;try{i=JSON.parse(a.FileServer),t.fileEntryESign=i.fileEntryId;var n=i.url;"https:"===window.top.location.protocol&&(n=n.replace("http:","https:")),n=n.replace(":80/","/"),t.pathNameFileESign=n,t.fileNameView=n}catch(o){}console.log("dataSigned",i),O.a.clear(),O.a.success("Giấy tờ đã được đóng dấu"),t.dialogViewFileSign=!0}else a.Message?(O.a.clear(),O.a.error(a.Message)):(O.a.clear(),O.a.error("Ký duyệt không thành công"))},i=JSON.stringify(e);vgca_sign_copy(i,a)},formatDate:function(){var t=this,e=String(t.createDate).trim().length,a=String(t.createDate).split("/");if(e&&e>4&&3===a.length&&a[2])t.createDate=t.translateDate(t.createDate);else if(e&&8===e){var i=String(t.createDate);t.createDate=i.slice(0,2)+"/"+i.slice(2,4)+"/"+i.slice(4,8)}else t.createDate=""},getStatus:function(t){return"0"===String(t)?"Yêu cầu số hóa":"1"===String(t)?"Có hiệu lực":"2"===String(t)?"Hết hiệu lực":"3"===String(t)?"Hủy":void 0}}},St=Tt,_t=Object(d["a"])(St,wt,Ct,!1,null,null,null),Nt=_t.exports;m()(_t,{VAutocomplete:et["a"],VBtn:at["a"],VCard:f["a"],VCardText:it["b"],VDataTable:dt["a"],VDialog:ut["a"],VFlex:y["a"],VForm:mt["a"],VIcon:nt["a"],VLayout:b["a"],VProgressLinear:ht["a"],VSpacer:ft["a"],VTextField:ot["a"],VToolbar:vt["a"],VToolbarTitle:gt["a"],VTooltip:yt["a"]});var Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-5 pb-3",staticStyle:{padding:"0px 25px","max-width":"1500px",margin:"0px auto"},attrs:{id:"top-header"}},[a("v-card",{staticClass:"px-3 py-3",staticStyle:{width:"100%",background:"#ffffff","border-radius":"12px","box-shadow":"0 6px 10px -4px rgb(0 0 0 / 15%)"}},[a("div",{staticClass:"headline mb-3",staticStyle:{"font-size":"20px!important"}},[t._v("DANH MỤC LOẠI GIẤY TỜ, TÀI LIỆU")]),a("v-btn",{staticClass:"mx-0 white--text",staticStyle:{position:"absolute",right:"17px",top:"15px"},attrs:{color:"#0072bc",small:""},on:{click:function(e){return e.stopPropagation(),t.showTimKiem(e)}}},[a("v-icon",{attrs:{size:"20"}},[t._v("\n        filter_alt\n      ")]),t._v("  \n      Lọc danh sách\n    ")],1),t.showAdvanceSearch?a("v-card-text",{staticClass:"px-0 pb-0"},[a("tim-kiem",{ref:"timkiem",attrs:{form:"danhmuc"},on:{"trigger-search":t.searchGiayToSoHoa,"trigger-cancel":t.cancelSearchGiayToSoHoa}})],1):t._e(),a("v-btn",{staticClass:"mx-0 white--text",attrs:{color:"#0072bc",small:""},on:{click:function(e){return e.stopPropagation(),t.showCreatedocument(e)}}},[a("v-icon",{attrs:{size:"20"}},[t._v("\n        post_add\n      ")]),t._v("  \n      Thêm mới loại giấy tờ\n    ")],1),a("v-data-table",{staticClass:"table-landing table-bordered mt-2",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.documentListHeader,items:t.documentApplicantList,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{active:e.index%2==1},staticStyle:{cursor:"pointer"}},[a("td",{staticClass:"text-xs-center py-2",staticStyle:{width:"50px",height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(t.documentPage*t.numberPerPage-t.numberPerPage+e.index+1))])])],1),a("td",{staticClass:"text-xs-left py-2",staticStyle:{height:"36px","min-width":"450px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.hasOwnProperty("name")?e.item.name:""))])])],1),a("td",{staticClass:"text-xs-left py-2",staticStyle:{height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.hasOwnProperty("fileTemplateNo")?e.item.fileTemplateNo:""))])])],1),a("td",{staticClass:"text-center py-2",staticStyle:{height:"36px",width:"120px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loadingTable?t._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0 mr-2",attrs:{slot:"activator",color:"red",flat:"",icon:""},on:{click:function(a){t.deleteDocument(e.item)}},slot:"activator"},[a("v-icon",{attrs:{size:"22"}},[t._v("delete")])],1),a("span",[t._v("Xóa")])],1),t.loadingTable?t._e():a("v-tooltip",{staticClass:"mr-2",attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"green",flat:"",icon:""},on:{click:function(a){t.showEditDocument(e.item)}},slot:"activator"},[a("v-icon",{attrs:{size:"22"}},[t._v("edit")])],1),a("span",[t._v("Cập nhật")])],1)],1)])]}}])},[t.loadingTable?a("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}):t._e(),a("template",{slot:"no-data"},[a("div",{staticClass:"text-xs-center mt-2"},[t._v("\n          Không có loại giấy tờ nào\n        ")])])],2),t.totalDocument>t.numberPerPage?a("div",{staticClass:"my-2"},[a("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table"},[a("pagination",{attrs:{total:t.totalDocument,page:t.documentPage,numberPerPage:t.numberPerPage,nameRecord:"giấy tờ","custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.changePage}})],1)])]):t._e()],1),a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"900px"},model:{value:t.dialog_editDocument,callback:function(e){t.dialog_editDocument=e},expression:"dialog_editDocument"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",["create"===t.typeCreate?a("span",[t._v("THÊM MỚI LOẠI GIẤY TỜ")]):a("span",[t._v("CẬP NHẬT LOẠI GIẤY TỜ")])]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialog_editDocument=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card-text",{staticClass:"py-1"},[a("v-form",{ref:"form",staticClass:"py-3 px-0 grid-list",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{staticClass:"px-0 py-3",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"px-0",attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Tên loại giấy tờ",box:"",clearable:"",rules:[function(t){return!!t||"Tên loại giấy tờ là bắt buộc"}],required:""},model:{value:t.nameCreate,callback:function(e){t.nameCreate=e},expression:"nameCreate"}})],1),a("v-flex",{staticClass:"px-0"},[a("v-text-field",{attrs:{label:"Tên loại giấy tờ",box:"",clearable:"",rules:[function(t){return!!t||"Tên loại giấy tờ là bắt buộc"}],required:""},model:{value:t.fileTemplateNoCreate,callback:function(e){t.fileTemplateNoCreate=e},expression:"fileTemplateNoCreate"}})],1)],1),a("v-flex",{staticClass:"text-right"},[a("v-btn",{staticClass:"mr-2 white--text",attrs:{color:"red",disabled:t.loadingAction},nativeOn:{click:function(e){t.dialog_editDocument=!1}}},[a("v-icon",[t._v("clear")]),t._v("  \n              Thoát\n            ")],1),"create"===t.typeCreate?a("v-btn",{staticClass:"mr-0",attrs:{disabled:t.loadingAction,color:"primary"},nativeOn:{click:function(e){return t.createDocument(e)}}},[a("v-icon",[t._v("save")]),t._v("  \n              "),a("span",[t._v("Thêm mới")])],1):a("v-btn",{staticClass:"mr-0",attrs:{disabled:t.loadingAction,color:"primary"},nativeOn:{click:function(e){return t.updateDocument(e)}}},[a("v-icon",[t._v("save")]),t._v("  \n              "),a("span",[t._v("Cập nhật")])],1)],1)],1)],1)],1)],1)],1)},It=[];function kt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}i["a"].use(O.a),O.a.options={positionClass:"toast-top-center",timeOut:"5000"};var Pt={components:{"tim-kiem":ct,pagination:J},data:function(){var t;return t={valid:!1,showDetail:!1,dialog_editDocument:!1,fileTemplateList:[],statusCreate:"",nameCreate:"",fileTemplateNoCreate:"",fileName:"",fileNo:"",fileUpdate:"",fileNameUpdate:"",documentSelect:"",loadingAction:!1,showAdvanceSearch:!1,dataInputSearch:"",loadingTable:!1,documentApplicantList:[],totalDocument:0,documentPage:1,numberPerPage:15,dialogViewFileSign:!1,pathNameFileESign:"",dialogPDF:!1,isDvc:!1,maxFileSize:100,typeCreate:"create",fileNameView:"",srcDownload:"",fileEntryESign:""},kt(t,"pathNameFileESign",""),kt(t,"hasEsign",!1),kt(t,"statusList",[{text:"Yêu cầu số hóa",value:0},{text:"Có hiệu lực",value:1},{text:"Hết hiệu lực",value:2},{text:"Hủy",value:3}]),kt(t,"documentListHeader",[{text:"STT",align:"center",sortable:!1},{text:"Mã giấy tờ",align:"center",sortable:!1},{text:"Tên giấy tờ",align:"center",sortable:!1},{text:"Thao tác",align:"center",sortable:!1}]),t},computed:{},beforeDestroy:function(){},mounted:function(){},beforeCreate:function(){},created:function(){var t=this;t.getDanhSachGiayToSoHoa()},watch:{},methods:{showCreatedocument:function(){var t=this;t.dialog_editDocument=!0,t.typeCreate="create",t.fileTemplateNoCreate="",t.nameCreate="",t.$refs.form.reset(),t.$refs.form.resetValidation()},showEditDocument:function(t){var e=this;$("html, body").animate({scrollTop:$("#top-header").offset().top},100,"linear"),e.documentSelect=t,e.typeCreate="update",e.fileTemplateNoCreate=t.fileTemplateNo,e.nameCreate=t.name,e.dialog_editDocument=!0},deleteDocument:function(t){var e=this,a=confirm("Bạn có chắc chắn xóa loại giấy tờ này?");if(a){var i={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},n="/o/rest/v2/fileitems/"+t.fileItemId;s.a.delete(n,i).then((function(t){e.loadingAction=!1,O.a.success("Xóa thành công"),setTimeout((function(){e.getDanhSachGiayToSoHoa()}),200)})).catch((function(t){e.loadingAction=!1}))}},createDocument:function(){var t=this;if(t.$refs.form.validate()){t.loadingAction=!0;var e={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},a=new URLSearchParams,i="/o/rest/v2/fileitems";a.append("fileTemplateNo",t.fileTemplateNoCreate),a.append("status",1),a.append("name",t.nameCreate),s.a.post(i,a,e).then((function(e){t.loadingAction=!1,O.a.success("Thêm mới loại giấy tờ thành công"),t.dialog_editDocument=!1,setTimeout((function(){t.getDanhSachGiayToSoHoa()}),200)})).catch((function(e){t.loadingAction=!1,O.a.error("Thêm mới thất bại. Vui lòng thử lại.")}))}},updateDocument:function(){var t=this;if(t.$refs.form.validate()){t.loadingAction=!0;var e={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},a=new URLSearchParams,i="/o/rest/v2/fileitems/"+t.documentSelect.fileItemId;a.append("fileTemplateNo",t.fileTemplateNoCreate),a.append("status",1),a.append("name",t.nameCreate),s.a.put(i,a,e).then((function(e){t.loadingAction=!1,O.a.success("Cập nhật thành công"),t.dialog_editDocument=!1,setTimeout((function(){t.getDanhSachGiayToSoHoa()}),200)})).catch((function(e){t.loadingAction=!1,O.a.error("Cập nhật thất bại. Vui lòng thử lại.")}))}},showTimKiem:function(){this.showAdvanceSearch=!0},uploadFile:function(){var t=this;t.hasEsign=!1,document.getElementById("documentFile").value="",document.getElementById("documentFile").click()},getDanhSachGiayToSoHoa:function(t){var e=this,a={start:e.documentPage*e.numberPerPage-e.numberPerPage,end:e.documentPage*e.numberPerPage,name:t?t.name:"",fileTemplateNo:t?t.fileTemplateNo:"",status:1};e.loadingTable=!0,e.$store.dispatch("getFileItems",a).then((function(t){t.hasOwnProperty("data")?e.documentApplicantList=Array.isArray(t.data)?t.data:[t.data]:e.documentApplicantList=[],e.totalDocument=t["total"],e.loadingTable=!1})).catch((function(){e.loadingTable=!1,e.documentApplicantList=[],e.totalDocument=0}))},searchGiayToSoHoa:function(t){var e=this;console.log("dataInputSearch",t),e.dataInputSearch=t,e.documentPage=1,e.totalDocument=0,e.getDanhSachGiayToSoHoa(t)},cancelSearchGiayToSoHoa:function(t){var e=this;console.log("dataInputSearch2",t),e.showAdvanceSearch=!1,e.dataInputSearch=t,e.documentPage=1,e.totalDocument=0,e.getDanhSachGiayToSoHoa(t)},changePage:function(t){var e=this;e.documentPage=t.page,e.getDanhSachGiayToSoHoa(e.dataInputSearch)}}},At=Pt,Ft=Object(d["a"])(At,Dt,It,!1,null,null,null),Et=Ft.exports;m()(Ft,{VBtn:at["a"],VCard:f["a"],VCardText:it["b"],VDataTable:dt["a"],VDialog:ut["a"],VFlex:y["a"],VForm:mt["a"],VIcon:nt["a"],VLayout:b["a"],VProgressLinear:ht["a"],VSpacer:ft["a"],VTextField:ot["a"],VToolbar:vt["a"],VToolbarTitle:gt["a"],VTooltip:yt["a"]});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-5 pb-3",staticStyle:{padding:"0px 25px","max-width":"1500px",margin:"0px auto"},attrs:{id:"top-header"}},[a("v-card",{staticClass:"px-3 py-3",staticStyle:{width:"100%",background:"#ffffff","border-radius":"12px","box-shadow":"0 6px 10px -4px rgb(0 0 0 / 15%)"}},[a("div",{staticClass:"headline mb-3",staticStyle:{"font-size":"20px!important"}},[t._v("DỮ LIỆU CÔNG DÂN, TỔ CHỨC, DOANH NGHIỆP")]),a("v-card-text",{staticClass:"px-0 pt-0"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pr-2 mt-3",attrs:{xs12:""}},[a("div",{staticClass:"text-bold d-inline-block mr-3",staticStyle:{color:"#004b94","line-height":"24px","vertical-align":"top"}},[t._v("Đối tượng người dùng: ")]),a("v-radio-group",{staticClass:"pt-0 d-inline-block ml-3 mt-0",attrs:{row:""},on:{change:t.changeTypeSearch},model:{value:t.typeSearch,callback:function(e){t.typeSearch=e},expression:"typeSearch"}},[a("v-radio",{attrs:{label:"Công dân",value:"citizen"}}),a("v-radio",{attrs:{label:"Doanh nghiệp",value:"business"}}),a("v-radio",{attrs:{label:"Cơ quan, tổ chức",value:"organization"}}),a("v-radio",{attrs:{label:"Tất cả",value:""}})],1)],1),a("v-layout",{attrs:{wrap:"",id:"form-search"}},[a("v-flex",{staticClass:"pr-2 input-group--text-field-box mt-1",attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Tìm kiếm theo tên người dùng","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchKeyword(e)},"click:clear":function(e){t.clearKeySearch("keyword")},"click:append":t.searchKeyword},model:{value:t.keySearch,callback:function(e){t.keySearch=e},expression:"keySearch"}})],1),a("v-flex",{staticClass:"input-group--text-field-box mt-1 pl-2",attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Số CMND/ căn cước, mã tổ chức, doanh nghiệp","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchKeyword(e)},"click:clear":function(e){t.clearKeySearch("idNo")},"click:append":t.searchKeyword},model:{value:t.idNoSearch,callback:function(e){t.idNoSearch=e},expression:"idNoSearch"}})],1)],1)],1),a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{attrs:{color:"blue darken-3",dark:""},on:{click:t.addApplicant}},[a("v-icon",{attrs:{size:"16"}},[t._v("add")]),t._v(" Thêm mới\n        ")],1)],1),a("v-data-table",{staticClass:"table-landing table-bordered mt-3",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.applicantListHeader,items:t.applicantLists,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{active:e.index%2==1},staticStyle:{cursor:"pointer"}},[a("td",{staticClass:"text-xs-center",staticStyle:{width:"50px",height:"36px"},on:{click:function(a){t.showEditApplicant(e.item)}}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(t.applicantPage*t.numberPerPage-t.numberPerPage+e.index+1))])])],1),a("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"},on:{click:function(a){t.showEditApplicant(e.item)}}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.applicantName))])])],1),a("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"},on:{click:function(a){t.showEditApplicant(e.item)}}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s("citizen"===e.item.applicantIdType?"Công dân":"business"===e.item.applicantIdType?"Doanh nghiệp":"Cơ quan, tổ chức"))])])],1),a("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"},on:{click:function(a){t.showEditApplicant(e.item)}}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.applicantIdNo))])])],1),a("td",{staticClass:"text-xs-left",staticStyle:{height:"36px","min-width":"200px"},on:{click:function(a){t.showEditApplicant(e.item)}}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(t.fullAddress(e.item["address"],e.item["cityName"],e.item["districtName"],e.item["wardName"])))])])],1),a("td",{staticClass:"text-xs-center",staticStyle:{height:"36px",width:"150px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loadingTable?t._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 mr-3 my-0",attrs:{slot:"activator",color:"green",flat:"",icon:""},on:{click:function(a){t.showEditApplicant(e.item)}},slot:"activator"},[a("v-icon",{attrs:{size:"22"}},[t._v("edit")])],1),a("span",[t._v("Cập nhật thông tin")])],1),t.loadingTable||!t.getUser("Administrator")&&!t.getUser("Administrator_data")||1!=e.item["verification"]?t._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0 mr-3",attrs:{slot:"activator",color:"green",flat:"",icon:""},on:{click:function(a){t.deleteApplicant(e.item)}},slot:"activator"},[a("v-icon",{attrs:{size:"22"}},[t._v("delete")])],1),a("span",[t._v("Xóa")])],1),t.loadingTable?t._e():a("v-tooltip",{staticClass:"ml-2",attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"blue",flat:"",icon:""},on:{click:function(a){t.documentManage(e.item)}},slot:"activator"},[a("v-icon",{attrs:{size:"22"}},[t._v("fas fa fa-folder-open")])],1),a("span",[t._v("Kho giấy tờ")])],1)],1)])]}}])},[a("template",{slot:"no-data"},[a("div",{staticClass:"text-xs-center mt-2"},[t._v("\n            Không có công dân, cơ quan tổ chức, doanh nghiệp\n          ")])])],2),t.totalApplicantSearch>t.numberPerPage?a("div",{staticClass:"my-2"},[a("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table"},[a("tiny-pagination",{attrs:{total:t.totalApplicantSearch,page:t.applicantPage,numberPerPage:t.numberPerPage,nameRecord:"người dùng","custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.changePage}})],1)])]):t._e()],1)],1),a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"900px"},model:{value:t.dialog_editApplicant,callback:function(e){t.dialog_editApplicant=e},expression:"dialog_editApplicant"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v(t._s("update"===t.typeUpdateApplicant?t.titleEdit:"Thêm mới công dân, tổ chức, doanh nghiệp"))]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.exitDialogEditApplicant(e)}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card-text",{staticClass:"py-1"},[a("v-form",{ref:"form",staticClass:"py-3 px-0 grid-list",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{staticClass:"px-0 py-3",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{box:"",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:""},model:{value:t.applicantEdit["applicantName"],callback:function(e){t.$set(t.applicantEdit,"applicantName",e)},expression:"applicantEdit['applicantName']"}},[a("template",{slot:"label"},["business"===t.applicantEdit["applicantIdType"]?a("span",[t._v("Tên doanh nghiệp")]):t._e(),"citizen"===t.applicantEdit["applicantIdType"]?a("span",[t._v("Họ tên")]):t._e(),"organization"===t.applicantEdit["applicantIdType"]?a("span",[t._v("Tên cơ quan, tổ chức")]):t._e(),a("span",{staticClass:"red--text darken-3"},[t._v(" *")])])],2)],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{attrs:{items:t.applicantTypeLists,label:"Loại thông tin người dùng","item-text":"text","item-value":"value","hide-selected":!0,box:""},model:{value:t.applicantEdit["applicantIdType"],callback:function(e){t.$set(t.applicantEdit,"applicantIdType",e)},expression:"applicantEdit['applicantIdType']"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{box:"",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:""},model:{value:t.applicantEdit["applicantIdNo"],callback:function(e){t.$set(t.applicantEdit,"applicantIdNo",e)},expression:"applicantEdit['applicantIdNo']"}},[a("template",{slot:"label"},["business"===t.applicantEdit["applicantIdType"]?a("span",[t._v("Mã số thuế")]):t._e(),"citizen"===t.applicantEdit["applicantIdType"]?a("span",[t._v("Số CMND/ Căn cước")]):t._e(),"organization"===t.applicantEdit["applicantIdType"]?a("span",[t._v("Mã cơ quan, tổ chức")]):t._e(),a("span",{staticClass:"red--text darken-3"},[t._v(" *")])])],2)],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-menu",{ref:"menuBirthDate",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"fade-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:t.menuBirthDate,callback:function(e){t.menuBirthDate=e},expression:"menuBirthDate"}},[a("v-text-field",{attrs:{slot:"activator",box:"","append-icon":"event",label:"Ngày cấp"},on:{blur:function(e){t.ngayCap=t.parseDate(t.applicantEdit["applicantIdDate"])}},slot:"activator",model:{value:t.applicantEdit["applicantIdDate"],callback:function(e){t.$set(t.applicantEdit,"applicantIdDate",e)},expression:"applicantEdit['applicantIdDate']"}}),a("v-date-picker",{ref:"picker",attrs:{min:"1950-01-01",max:t.getMaxdate(),"first-day-of-week":1,locale:"vi","no-title":""},on:{input:t.changeBirthDate},model:{value:t.ngayCap,callback:function(e){t.ngayCap=e},expression:"ngayCap"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Số điện thoại",box:""},model:{value:t.applicantEdit["contactTelNo"],callback:function(e){t.$set(t.applicantEdit,"contactTelNo",e)},expression:"applicantEdit['contactTelNo']"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Thư điện tử",box:""},model:{value:t.applicantEdit["contactEmail"],callback:function(e){t.$set(t.applicantEdit,"contactEmail",e)},expression:"applicantEdit['contactEmail']"}})],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{label:"Địa chỉ",box:"",clearable:""},model:{value:t.applicantEdit["address"],callback:function(e){t.$set(t.applicantEdit,"address",e)},expression:"applicantEdit['address']"}})],1),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-autocomplete",{attrs:{items:t.cityItems,label:"Tỉnh/thành phố","item-text":"itemName","item-value":"itemCode","hide-selected":!0,box:""},on:{change:function(e){t.onChangeCityEditApplicant(e)}},model:{value:t.applicantEdit["cityCode"],callback:function(e){t.$set(t.applicantEdit,"cityCode",e)},expression:"applicantEdit['cityCode']"}})],1),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-autocomplete",{attrs:{items:t.districtItems,label:"Quận/huyện","item-text":"itemName","item-value":"itemCode","hide-selected":!0,box:""},on:{change:function(e){t.onChangeDistrictEditApplicant(e)}},model:{value:t.applicantEdit["districtCode"],callback:function(e){t.$set(t.applicantEdit,"districtCode",e)},expression:"applicantEdit['districtCode']"}})],1),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-autocomplete",{attrs:{label:"Xã/phường",items:t.wardItems,"item-text":"itemName","item-value":"itemCode","hide-selected":!0,box:""},on:{change:function(e){t.onChangeWardEditApplicant(e)}},model:{value:t.applicantEdit["wardCode"],callback:function(e){t.$set(t.applicantEdit,"wardCode",e)},expression:"applicantEdit['wardCode']"}})],1),t.hasVerification&&"update"===t.typeUpdateApplicant?a("v-flex",{attrs:{xs12:""}},[a("v-checkbox",{staticClass:"mt-2",attrs:{color:"primary",label:t.verificationApplicant?"Hủy xác thực":"Xác thực"},on:{change:t.changeVerification},model:{value:t.verificationApplicant,callback:function(e){t.verificationApplicant=e},expression:"verificationApplicant"}})],1):t._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{color:"primary",loading:t.loading,disabled:t.loading},nativeOn:{click:function(e){return t.exitDialogEditApplicant(e)}}},[a("v-icon",[t._v("clear")]),t._v("  \n          Thoát\n        ")],1),a("v-btn",{staticClass:"mr-3",attrs:{color:"primary",loading:t.loading,disabled:t.loading},nativeOn:{click:function(e){return t.updateApplicant(e)}}},[a("v-icon",[t._v("save")]),t._v("  \n          "+t._s("update"===t.typeUpdateApplicant?"Cập nhật":"Thêm mới")+"\n        ")],1)],1)],1)],1)],1)},Lt=[];a("1157");function Ot(t,e){return Ht(t)||Gt(t,e)||$t()}function $t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Gt(t,e){var a=[],i=!0,n=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(i=(l=c.next()).done);i=!0)if(a.push(l.value),e&&a.length===e)break}catch(s){n=!0,o=s}finally{try{i||null==c["return"]||c["return"]()}finally{if(n)throw o}}return a}function Ht(t){if(Array.isArray(t))return t}i["a"].use(O.a);var zt={props:[],components:{"tiny-pagination":J},data:function(){return{hasVerification:!1,verificationApplicant:!1,typeUpdateApplicant:"update",keySearch:"",idNoSearch:"",typeSearch:"",applicantListHeader:[{text:"STT",align:"center",sortable:!1},{text:"Tên công dân, tổ chức, doanh nghiệp",align:"center",sortable:!1},{text:"Đối tượng người dùng",align:"center",sortable:!1},{text:"Số CMND/ căn cước, mã tổ chức, doanh nghiệp",align:"center",sortable:!1},{text:"Địa chỉ",align:"center",sortable:!1},{text:"Thao tác",align:"center",sortable:!1}],applicantLists:"",applicantTypeLists:[{text:"Công dân",value:"citizen"},{text:"Doanh nghiệp",value:"business"},{text:"Cơ quan, tổ chức",value:"organization"}],loadingTable:!1,numberPerPage:30,applicantPage:1,totalApplicantSearch:0,menuBirthDate:!1,toDateFormatted:null,dialog_editApplicant:!1,valid:!0,applicantEdit:"",ngayCap:null,cityItems:[],districtItems:[],wardItems:[],rolesUser:[]}},computed:{},created:function(){var t=this;try{t.hasVerification=hasVerification}catch(e){}t.$nextTick((function(){var e=t.$router.history.current;e.query;t.getRoleUser().then((function(){t.getApplicantList().then((function(e){t.totalApplicantSearch=e["total"],t.applicantLists=e["data"]})).catch((function(){}))}))}))},updated:function(){var t=this;t.$nextTick((function(){}))},mounted:function(){},watch:{$route:function(t,e){t.params,t.query},typeSearch:function(t){var e=this;""===t?(e.applicantListHeader[1].text="Tên công dân, tổ chức, doanh nghiệp",e.applicantListHeader[3].text="Số CMND/ căn cước, mã số thuế doanh nghiệp"):"citizen"===t?(e.applicantListHeader[1].text="Tên công dân",e.applicantListHeader[3].text="Số CMND/ căn cước"):"business"===t?(e.applicantListHeader[1].text="Tên doanh nghiệp",e.applicantListHeader[3].text="Mã số thuế doanh nghiệp"):(e.applicantListHeader[1].text="Tên cơ quan, tổ chức",e.applicantListHeader[3].text="Mã cơ quan, tổ chức")},ngayCap:function(t){this.toDateFormatted=this.formatDate(t),this.applicantEdit["applicantIdDate"]=this.toDateFormatted}},methods:{getApplicantList:function(){var t=this,e="/o/rest/v2/applicants";return t.loadingTable=!0,new Promise((function(a){t.$store.dispatch("loadInitResource").then((function(i){var n={headers:{groupId:0},params:{start:t.applicantPage*t.numberPerPage-t.numberPerPage,end:t.applicantPage*t.numberPerPage,type:t.typeSearch,applicantName:t.keySearch,idNo:t.idNoSearch}};s.a.get(e,n).then((function(e){var i=[];e.data.hasOwnProperty("data")&&(i=e.data.data);var n={data:i,total:e.data["total"]};t.loadingTable=!1,a(n)})).catch((function(){t.loadingTable=!1}))}))}))},addApplicant:function(){var t=this;if(t.typeUpdateApplicant="create",t.applicantEdit={address:"",applicantIdNo:"",applicantIdType:"citizen",applicantName:"",contactEmail:"",contactTelNo:"",cityCode:"",cityName:"",districtCode:"",districtName:"",wardCode:"",wardName:""},0===t.cityItems.length){var e={collectionCode:"ADMINISTRATIVE_REGION",level:0,parent:0,commit:""};t.$store.dispatch("loadDictItems",e).then((function(e){t.cityItems=e.data}))}t.dialog_editApplicant=!0,t.$refs.form.resetValidation()},showEditApplicant:function(t){var e=this;if(e.typeUpdateApplicant="update",e.applicantEdit=t,e.verificationApplicant=0===e.applicantEdit["verification"],0===e.cityItems.length){var a={collectionCode:"ADMINISTRATIVE_REGION",level:0,parent:0,commit:""};e.$store.dispatch("loadDictItems",a).then((function(t){e.cityItems=t.data}))}e.applicantEdit["cityCode"]&&e.$store.dispatch("loadDictItems",{collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e.applicantEdit["cityCode"]}).then((function(t){e.districtItems=t.data})),e.applicantEdit["districtCode"]&&e.$store.dispatch("loadDictItems",{collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e.applicantEdit["districtCode"]}).then((function(t){e.wardItems=t.data})),"citizen"===e.applicantEdit["applicantIdType"]?e.titleEdit="Thông tin công dân":"business"===e.applicantEdit["applicantIdType"]&&(e.titleEdit="Thông tin tổ chức, doanh nghiệp"),e.dialog_editApplicant=!0,e.$refs.form.resetValidation()},deleteApplicant:function(t){var e=this,a=confirm("Bạn có chắc chắn xóa công dân, doanh nghiệp này?");a&&e.$store.dispatch("deleteUser",t).then((function(){O.a.clear(),O.a.success("Yêu cầu thực hiện thành công"),e.getApplicantList().then((function(t){e.totalApplicantSearch=t["total"],e.applicantLists=t["data"]})).catch((function(){}))})).catch((function(){O.a.clear(),O.a.error("Yêu cầu thực hiện thất bại")}))},documentManage:function(t){var e=this;e.$store.commit("setApplicantInfos",t),e.$router.push({path:"/kho-tai-lieu",query:{applicantIdNo:t.applicantIdNo,renew:Math.floor(100*Math.random())+1}})},searchKeyword:function(){var t=this;setTimeout((function(){t.applicantPage=1,t.getApplicantList().then((function(e){t.totalApplicantSearch=e["total"],t.applicantLists=e["data"]})).catch((function(){}))}),200)},clearKeySearch:function(t){var e=this;"keyword"===t?e.keySearch="":e.idNoSearch="",setTimeout((function(){e.applicantPage=1,e.getApplicantList().then((function(t){e.totalApplicantSearch=t["total"],e.applicantLists=t["data"]})).catch((function(){}))}),200)},changeTypeSearch:function(){var t=this;setTimeout((function(){t.applicantPage=1,t.getApplicantList().then((function(e){t.totalApplicantSearch=e["total"],t.applicantLists=e["data"]})).catch((function(){}))}),200)},changePage:function(t){var e=this;e.applicantPage=t.page,e.getApplicantList().then((function(t){e.totalApplicantSearch=t["total"],e.applicantLists=t["data"]})).catch((function(){}))},updateApplicant:function(){var t=this;t.$refs.form.validate()&&(t.loading=!0,"update"===t.typeUpdateApplicant?t.$store.dispatch("putUser",t.applicantEdit).then((function(){t.loading=!1,O.a.clear(),O.a.success("Yêu cầu thực hiện thành công"),t.dialog_editApplicant=!1,t.getApplicantList().then((function(e){t.totalApplicantSearch=e["total"],t.applicantLists=e["data"]})).catch((function(){}))})).catch((function(){t.loading=!1,O.a.clear(),O.a.error("Yêu cầu thực hiện thất bại")})):t.$store.dispatch("addUser",t.applicantEdit).then((function(){t.loading=!1,O.a.clear(),O.a.success("Yêu cầu thực hiện thành công"),t.dialog_editApplicant=!1,t.getApplicantList().then((function(e){t.totalApplicantSearch=e["total"],t.applicantLists=e["data"]})).catch((function(){}))})).catch((function(){t.loading=!1,O.a.clear(),O.a.error("Yêu cầu thực hiện thất bại")})))},exitDialogEditApplicant:function(){var t=this;t.dialog_editApplicant=!1,t.getApplicantList().then((function(e){t.totalApplicantSearch=e["total"],t.applicantLists=e["data"]})).catch((function(){O.a.error("Không lấy được danh sách công dân, tổ chức, doanh nghiệp")}))},fullAddress:function(t,e,a,i){var n="";return t&&(n+=t+", "),i&&(n+=i+" - "),a&&(n+=a+" - "),e&&(n+=e),n},changeBirthDate:function(){var t=this;t.menuBirthDate=!1,t.applicantEdit["applicantIdDate"]=t.formatDate(t.ngayCap)},formatDate:function(t){if(!t)return null;var e=t.split("-"),a=Ot(e,3),i=a[0],n=a[1],o=a[2];return"".concat(o,"/").concat(n,"/").concat(i)},onChangeCityEditApplicant:function(t){var e=this;e.applicantEdit["cityName"]=e.cityItems.filter((function(e){return e["itemCode"]===t}))[0]["itemName"];var a={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t};e.$store.dispatch("loadDictItems",a).then((function(t){e.districtItems=t.data,e.wardItems=[]}))},onChangeDistrictEditApplicant:function(t){var e=this;e.applicantEdit["districtName"]=e.districtItems.filter((function(e){return e["itemCode"]===t}))[0]["itemName"];var a={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t};e.$store.dispatch("loadDictItems",a).then((function(t){e.wardItems=t.data}))},onChangeWardEditApplicant:function(t){var e=this;e.applicantEdit["wardName"]=e.wardItems.filter((function(e){return e["itemCode"]===t}))[0]["itemName"]},changeVerification:function(){var t=this;setTimeout((function(){var e={applicantId:t.applicantEdit["applicantId"],verification:t.verificationApplicant?0:1};t.$store.dispatch("putVerification",e).then((function(t){O.a.clear(),O.a.success("Yêu cầu thực hiện thành công")})).catch((function(){O.a.clear(),O.a.error("Yêu cầu thực hiện thất bại")}))}),100)},getRoleUser:function(){var t=this;return new Promise((function(e){var a={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():""}};s.a.get("/o/rest/v2/users/login",a).then((function(a){var i=a.data;if(i&&i.length>0){var n=[];for(var o in i)i[o]["role"]&&n.push(i[o]["role"]);console.log("roles",n),t.rolesUser=n}else t.rolesUser=[];e(t.rolesUser)})).catch((function(t){e()}))}))},getUser:function(t){var e=this,a=e.rolesUser;if(!a)return!1;var i=a.findIndex((function(e){return e===t}));return i>=0},parseDate:function(t){if(!t)return null;var e=t.split("/"),a=Ot(e,3),i=a[0],n=a[1],o=a[2];return"".concat(o,"-").concat(n.padStart(2,"0"),"-").concat(i.padStart(2,"0"))},getMaxdate:function(){var t=new Date;return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0"))},goBack:function(){window.history.back()}}},Ut=zt,Mt=a("ac7c"),jt=a("2e4b"),Bt=a("e449"),Rt=a("67b6"),qt=a("43a6"),Kt=Object(d["a"])(Ut,Vt,Lt,!1,null,null,null),Yt=Kt.exports;m()(Kt,{VAutocomplete:et["a"],VBtn:at["a"],VCard:f["a"],VCardActions:it["a"],VCardText:it["b"],VCheckbox:Mt["a"],VDataTable:dt["a"],VDatePicker:jt["a"],VDialog:ut["a"],VFlex:y["a"],VForm:mt["a"],VIcon:nt["a"],VLayout:b["a"],VMenu:Bt["a"],VRadio:Rt["a"],VRadioGroup:qt["a"],VSpacer:ft["a"],VTextField:ot["a"],VToolbar:vt["a"],VToolbarTitle:gt["a"],VTooltip:yt["a"]});var Xt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-5 pb-3",staticStyle:{padding:"0px 25px","max-width":"1500px",margin:"0px auto",background:"#ffffff"}},[a("div",{staticClass:"content-wrapper",staticStyle:{width:"100%",height:"500px",border:"1px solid #dedede",background:"#ffffff","border-radius":"12px","box-shadow":"0 6px 10px -4px rgb(0 0 0 / 15%)"}})])}];i["a"].use(O.a),O.a.options={positionClass:"toast-top-center",timeOut:"5000"};var Qt={data:function(){return{listDonVi:[],donviSelect:""}},components:{},computed:{},beforeDestroy:function(){},mounted:function(){},beforeCreate:function(){},created:function(){},watch:{},methods:{}},Wt=Qt,Zt=Object(d["a"])(Wt,Xt,Jt,!1,null,null,null),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login_container"}},[t._m(0),a("v-layout",{staticClass:"mt-4",staticStyle:{"max-width":"550px",margin:"0 auto"},attrs:{wrap:""}},[t.isSigned?a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"px-2 py-3",staticStyle:{border:"1px solid #dddddd"},attrs:{flat:""}},[a("v-flex",{staticClass:"primary--text text-bold text-xs-center",attrs:{xs12:""}},[t._v("\n          VUI LÒNG ĐĂNG XUẤT TRƯỚC KHI ĐĂNG NHẬP LẠI\n        ")]),a("v-flex",{staticClass:"mt-3 text-xs-center",attrs:{xs12:""}},[a("v-btn",{staticClass:"mr-2",attrs:{loading:t.loading,disabled:t.loading,color:"primary"},on:{click:t.doLogOut}},[a("v-icon",[t._v("input")]),t._v(" \n            Đăng xuất\n          ")],1),a("v-btn",{attrs:{color:"primary"},on:{click:t.goBack}},[a("v-icon",[t._v("reply")]),t._v(" \n            Thoát\n          ")],1)],1)],1)],1):t._e(),t.isSigned?t._e():a("v-flex",{attrs:{xs12:""}},[a("nav",[a("div",{staticClass:"text-bold primary--text"},[t._v("ĐĂNG NHẬP")])])]),t.isSigned?t._e():a("v-flex",{attrs:{xs12:""}},[a("v-form",{ref:"form",staticClass:"mt-2",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{box:"",placeholder:"Email đăng nhập",rules:[function(t){return!!t||"Email đăng nhập là bắt buộc"}],required:"","prepend-inner-icon":"person_outline"},on:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitConfirmLogin(e)}},model:{value:t.npmreactlogin_login,callback:function(e){t.npmreactlogin_login=e},expression:"npmreactlogin_login"}})],1),a("v-flex",{staticClass:"my-2",attrs:{xs12:""}},[a("v-text-field",{attrs:{box:"",placeholder:"Mật khẩu",type:"password",rules:[function(t){return!!t||"Mật khẩu là bắt buộc"}],required:"","prepend-inner-icon":"vpn_key"},on:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitConfirmLogin(e)}},model:{value:t.npmreactlogin_password,callback:function(e){t.npmreactlogin_password=e},expression:"npmreactlogin_password"}})],1),t.captcha?a("v-flex",{staticClass:"py-2 text-xs-center captcha",staticStyle:{"align-items":"center",background:"#dedede","justify-content":"center"},attrs:{xs12:""}},[a("img",{staticStyle:{"border-radius":"5px"},attrs:{src:t.chapchablob,alt:"capcha"}}),a("v-btn",{attrs:{flat:"",icon:""},nativeOn:{click:function(e){return t.makeImageCap(e)}}},[a("v-icon",{attrs:{color:"white",size:"26"}},[t._v("refresh")])],1)],1):t._e(),t.captcha?a("v-flex",{staticClass:"mt-2 text-xs-center",attrs:{xs12:""}},[a("v-text-field",{attrs:{box:"",placeholder:"Nhập captcha",rules:[function(t){return!!t||"Mã captcha là bắt buộc"}],required:""},model:{value:t.j_captcha_response,callback:function(e){t.j_captcha_response=e},expression:"j_captcha_response"}})],1):t._e(),a("v-flex",{staticClass:"text-xs-left",attrs:{xs12:""}},[a("v-btn",{staticClass:"ml-0 my-0 white--text",attrs:{color:"#0b72ba",loading:t.loading,disabled:t.loading},on:{click:t.submitConfirmLogin}},[a("v-icon",[t._v("how_to_reg")]),t._v(" \n            Đăng nhập\n          ")],1),t.showXacThucSso?a("v-btn",{staticClass:"ml-2 my-0 white--text xacthuc-btn",attrs:{color:"#0b72ba"},on:{click:t.redirectXacThucSso}},[a("v-icon",[t._v("done_all")]),t._v(" \n            Xác thực SSO\n          ")],1):t._e(),a("div",{staticClass:"d-inline-block ml-2 remember-btn"},[a("v-checkbox",{staticClass:"mt-0",attrs:{color:"primary"},on:{change:function(t){}},model:{value:t.rememberAccount,callback:function(e){t.rememberAccount=e},expression:"rememberAccount"}},[a("div",{staticClass:"primary--text",attrs:{slot:"label"},slot:"label"},[t._v("Ghi nhớ tài khoản")])])],1)],1),a("v-flex",{staticClass:"py-2",staticStyle:{display:"none","align-items":"center",background:"#dedede","justify-content":"center"},attrs:{xs12:""}},[a("img",{staticStyle:{"border-radius":"5px"},attrs:{src:t.chapchablob,alt:"capcha"}}),a("v-btn",{attrs:{flat:"",icon:""},nativeOn:{click:function(e){return t.makeImageCap(e)}}},[a("v-icon",{attrs:{color:"primary",size:"32"}},[t._v("refresh")])],1)],1),a("v-flex",{staticClass:"mt-2 text-xs-center",staticStyle:{display:"none"},attrs:{xs12:""}},[a("v-text-field",{attrs:{box:"",placeholder:"Nhập captcha"},model:{value:t.j_captcha_response,callback:function(e){t.j_captcha_response=e},expression:"j_captcha_response"}})],1)],1)],1)],1),t._m(1)],1)},ae=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header_login"},[a("div",{staticClass:"logo"},[a("a",{attrs:{href:""}},[a("img",{attrs:{src:"/o/kiemthuduongbo-theme/images/color_schemes/bogt-theme/logo.png"}}),a("div",{staticClass:"text-logo"},[t._v("\n          Bộ Giao thông Vận tải "),a("br"),a("span",[t._v("Hệ thống nghiệp vụ xử lý thủ tục hành chính")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer_login"},[a("p",{staticClass:"site-name"},[t._v("© Trung tâm Công nghệ thông tin - Bộ GTVT")]),a("p",{staticClass:"info-wrapper"},[a("span",[t._v("Địa chỉ: 80 Trần Hưng Đạo, Hoàn kiếm, Hà Nội")]),a("br"),a("span",[t._v("Hotline: 1900 0318 - Điện thoại: (024) 3.822.2979 - Fax: (024) 3.822.1066")]),a("br"),a("span",[t._v("Email: bophanhotro@mt.gov.vn")])])])}],ie={props:[],components:{},data:function(){return{npmreactlogin_login:"",npmreactlogin_password:"",captcha:!1,j_captcha_response:"",chapchablob:"",loading:!1,valid:!1,pinCode:"",isSigned:!!window.themeDisplay&&window.themeDisplay.isSignedIn(),showXacThucSso:!1}},computed:{},created:function(){var t=this;t.$nextTick((function(){}))},updated:function(){var t=this;t.$nextTick((function(){}))},watch:{},methods:{makeImageCap:function(){var t=this;t.chapchablob="",t.$store.dispatch("makeImageCapLogin").then((function(e){t.chapchablob=e})).catch((function(e){t.chapchablob=""}))},submitConfirmLogin:function(){var t=this,e=(t.$router.history.current.query,t.$router.history.current.params,{npmreactlogin_login:t.npmreactlogin_login,npmreactlogin_password:t.npmreactlogin_password,j_captcha_response:t.j_captcha_response});t.$refs.form.validate()&&(t.loading=!0,t.$store.dispatch("goToDangNhap",e).then((function(e){t.loading=!1,"captcha"===e&&(t.captcha=!0,t.makeImageCap())})).catch((function(){t.loading=!1})))},doLogOut:function(){window.location.href="/c/portal/logout"},getPassword:function(){window.location.href=window.themeDisplay?window.themeDisplay.getLayoutURL()+"/#/cap-lai-mat-khau":""},goBack:function(){window.history.back()},redirectXacThucSso:function(){var t=this;window.location.href=t.showXacThucSso},checkShowXacThucSso:function(){var t=this,e={};s()({method:"GET",url:"/o/v1/opencps/is-enabled-sso-login",headers:e}).then((function(e){e.hasOwnProperty("data")&&e.data&&(t.showXacThucSso=e.data)})).catch((function(t){}))}}},ne=ie,oe=Object(d["a"])(ne,ee,ae,!1,null,null,null);oe.exports;m()(oe,{VBtn:at["a"],VCard:f["a"],VCheckbox:Mt["a"],VFlex:y["a"],VForm:mt["a"],VIcon:nt["a"],VLayout:b["a"],VTextField:ot["a"]});var le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n  13123\n")])},ce=[],se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-chitiet"},[a("div",[a("v-tabs",{attrs:{"icons-and-text":""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:1,attrs:{href:"#tabs-1"},on:{click:function(e){t.getNextActions()}}},[a("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[3===t.originality?a("span",[t._v("XỬ LÝ HỒ SƠ")]):a("span",[t._v("CHUẨN BỊ HỒ SƠ")])])],1),a("v-tabs-items",{staticStyle:{overflow:"visible!important"},attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("v-tab-item",{key:1,attrs:{value:"tabs-1","reverse-transition":"fade-transition",transition:"fade-transition"}},[0!==t.checkInput&&t.filterNextActionEnable(t.btnDossierDynamics)?a("div",{staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0]}},[a("v-expansion-panel-content",{key:1,attrs:{"hide-actions":""}},[t._v("\n                123\n              ")])],1)],1):t._e(),t.btnStateVisible?a("div",{staticClass:"px-4 py-3",staticStyle:{"border-bottom":"1px solid #dddddd"}},[t._l(t.btnPlugins,(function(e,i){return a("v-btn",{key:i,staticClass:"ml-0 mr-2",attrs:{color:"primary",loading:t.loadingPlugin,disabled:t.loadingPlugin},nativeOn:{click:function(a){t.processPullBtnplugin(e,i)}}},[t._v("\n              "+t._s(e.pluginName)+"\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])})),t.btnStepsDynamics.length>0&&t.thongTinChiTietHoSo["permission"].indexOf("write")>=0?a("v-menu",{staticStyle:{display:"inline-block",position:"relative !important"},attrs:{bottom:"","offset-y":""}},[a("v-btn",{staticClass:"deactive__btn",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Khác   "),a("v-icon",{attrs:{size:"18"}},[t._v("arrow_drop_down")])],1),a("v-list",t._l(t.btnStepsDynamics,(function(e,i){return a("v-list-tile",{key:i,on:{click:function(a){t.btnActionEvent(e,i)}}},[a("v-list-tile-title",[t._v(t._s(e.title))])],1)})),1)],1):t._e()],2):t._e()])],1)],1)],1)])},re=[],pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[t._l(t.dossierTemplateItems,(function(e,i){return t.partTypes.includes(e.partType)&&t.checkVisibleTemp(e,i)?a("div",{key:e.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{expand:"",value:[t.currentFormView==="formAlpaca"+e.partNo+t.id]}},[a("v-expansion-panel-content",{attrs:{"hide-actions":""}},[a("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(e){t.stateView=!1}},slot:"header"},[a("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:t.checkStyle(e)}},[a("div",{staticClass:"mr-2",staticStyle:{"min-width":"18px",display:"flex"},on:{click:function(a){t.onlyView&&e.hasForm?t.viewFile2(e):t.loadAlpcaForm(e)}}},[a("div",{staticClass:"header__tphs"},[a("span",{staticClass:"text-bold"},[t._v(t._s(i+1)+".")]),t._v("  ")]),a("div",{staticClass:"header__tphs"},[a("v-tooltip",{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                      "+t._s(e.partName)+"  \n                      "),e.required?a("span",{staticStyle:{color:"red"}},[t._v(" (*) ")]):t._e(),t._v("\n                        \n                    ")]),e.partTip["tip"]?a("span",[t._v(t._s(e.partTip["tip"]))]):t._e()]),e.hasForm&&e.daKhai&&(1===t.originality&&2!==e.partType||1!==t.originality)?a("v-tooltip",{attrs:{top:""}},[a("i",{staticClass:"fa fa-file-text-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator","aria-hidden":"true"},slot:"activator"}),a("span",[t._v("Biểu mẫu trực tuyến (Đã khai)")])]):t._e(),e.hasForm&&!e.daKhai&&(1===t.originality&&2!==e.partType||1!==t.originality)?a("v-tooltip",{attrs:{top:""}},[a("i",{staticClass:"fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator"},slot:"activator"}),a("span",[t._v("Biểu mẫu trực tuyến (Chưa khai)")])]):t._e(),t._v("\n                    \n                  "),!e.hasForm&&e.hasFileTemp?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(a){a.stopPropagation(),t.downloadFileTemplate(e,i)}},slot:"activator"},[t._v("save_alt")]),a("span",[t._v("Biểu mẫu điền thủ công")])],1):t._e()],1)]),a("div",{staticStyle:{display:"flex"}},[1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?a("v-text-field",{attrs:{placeholder:"Nhập lý do",rules:[function(t){return!!t||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(a){if(!("button"in a)&&t._k(a.keyCode,"enter",13,a.key,"Enter"))return null;t.changeFileComment(e,i)}},model:{value:e.fileComment,callback:function(a){t.$set(e,"fileComment",a)},expression:"item.fileComment"}}):t._e(),1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){a.stopPropagation(),t.changeFileComment(e,i)}},slot:"activator"},[a("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("send")])],1),a("span",[t._v("Gửi")])],1):t._e()],1),e.fileComment&&!e.stateEditFileCheck?a("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[t._v(t._s(e.fileComment))]):t._e(),e.fileComment&&!e.stateEditFileCheck&&1===t.checkInput?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.stateEditFileCheck=!e.stateEditFileCheck}},slot:"activator"},[t._v("edit")]),a("span",[t._v("Chỉnh sửa ý kiến")])],1):t._e(),t._l(t.dossierFilesItems,(function(i,n){return e.partNo!==i.dossierPartNo||i.eForm?t._e():a("div",{key:n},[a("div",{style:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.viewFile2(i)}}},[0!==i.fileSize?a("v-icon",[t._v("attach_file")]):t._e(),t._v("\n                    "+t._s(i.displayName)+" - \n                    "),a("i",[t._v(t._s(i.modifiedDate))])],1),t.onlyView||1===t.checkInput?t._e():a("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(e){e.stopPropagation(),t.deleteSingleFile(i,n)}}},[a("v-icon",{staticStyle:{color:"red"}},[t._v("delete_outline")])],1)],1)])})),a("div",{staticClass:"mr-3 my-1 py-2",staticStyle:{display:"none",border:"1px solid #f3ae75"},attrs:{id:"fileApplicant-"+e.partNo}},t._l(t.dossierFilesApplicant,(function(i,n){return i.dossierTemplateNo===t.thongTinHoSo["dossierTemplateNo"]&&e.partNo===i.dossierPartNo?a("div",{key:n},[i.eForm?a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.viewGiayToDaNop(i)}},slot:"activator"},[a("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),t._v("  \n                        "+t._s(i.referenceUid)+"."+t._s(i.fileType)+" - \n                        "),a("i",[t._v(t._s(i.modifiedDate))])]),a("span",[t._v("Bản khai trực tuyến")])])],1):a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.viewGiayToDaNop(i)}},slot:"activator"},[0!==i.fileSize?a("v-icon",{staticStyle:{color:"#0d71bb"}},[t._v("attach_file")]):t._e(),t._v("\n                        "+t._s(i.displayName)+" - \n                        "),a("i",[t._v(t._s(i.modifiedDate))])],1),a("span",[t._v("Đính kèm")])])],1)]):t._e()})),0)],2)]),e.hasForm&&!t.onlyView?a("v-card",[a("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[a("v-layout",{attrs:{wrap:""}},[t.stateView?t._e():a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[a("div",{style:t.pstFixed>t.pstEl&&t.pstFixed<t.endEl+t.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+e.partNo+t.id}},[e.hasForm&&!t.onlyView&&1!==t.checkInput?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.saveAlpacaForm(e,i)}}},[t._v("Lưu lại")]):t._e(),e.daKhai&&e.hasForm&&!t.onlyView&&1!==t.checkInput?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.deleteSingleFileEform(e,i)}}},[t._v("Xóa")]):t._e(),e.daKhai&&e.hasForm?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.previewFileEfom(e,i)}}},[t._v("In")]):t._e()],1),!t.onlyView||e.daKhai?a("div",{class:{no_acction__event:t.onlyView},attrs:{id:"formAlpaca"+e.partNo+t.id}}):t._e()])],1)],1)],1):t._e()],1)],1),a("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-layout",{attrs:{row:"",wrap:""}},[1===t.originality||1!==e.partType||t.thongTinHoSo.online||1===t.checkInput?t._e():a("v-flex",{staticClass:"layout wrap",staticStyle:{width:"110px"}},[a("v-select",{attrs:{items:t.fileMarkItems,disabled:t.onlyView},on:{change:function(e){t.changeFileMark(e,i)}},model:{value:t.dossierTemplateItems[i].fileMark,callback:function(e){t.$set(t.dossierTemplateItems[i],"fileMark",e)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===t.checkInput?a("v-flex",{staticClass:"layout wrap",staticStyle:{width:"120px"}},[a("v-select",{attrs:{items:t.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(e){t.changeFileCheck(e,i)}},model:{value:t.dossierTemplateItems[i].fileCheck,callback:function(e){t.$set(t.dossierTemplateItems[i],"fileCheck",e)},expression:"dossierTemplateItems[index].fileCheck"}})],1):e.fileCheck>0?a("v-flex",{staticClass:"layout wrap",style:{width:"20px","align-items":"center","margin-left":"10px","margin-top":t.thongTinHoSo.online?"10px":"0px"}},[1===e.fileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("done")]),a("span",[t._v("Đạt")])],1):2===e.fileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("close")]),a("span",[t._v("Không đạt")])],1):t._e()],1):t._e(),1!==t.checkInput?a("v-flex",{class:{"text-xs-right":t.onlyView},style:{width:t.onlyView?"auto":"90px"}},[a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+e.partNo},on:{change:function(a){t.onUploadSingleFile(a,e,i)}}}),3!==e.partType||3!==t.originality||t.onlyView?t._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){t.addFileOther(e)}},slot:"activator"},[a("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("add")])],1),a("span",[t._v("Thêm giấy tờ khác")])],1),t.progressUploadPart===e.partNo?a("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t.progressUploadPart===e.partNo||t.onlyView?t._e():a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){t.pickFile(e)}},slot:"activator"},[a("v-badge",[a("v-icon",{attrs:{size:"16",color:"primary"}},[t._v("cloud_upload")])],1)],1),e.partTip["extensions"]||e.partTip["maxSize"]?a("span",[t._v("Chấp nhận tải lên các định dạng: "+t._s(e.partTip["extensions"])+". Tối đa "+t._s(e.partTip["maxSize"])+" MB ")]):a("span",[t._v("Tải file lên")])],1),t.partNoApplicantHasFile(e.partNo)&&!t.onlyView?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){t.showFilesApplicant(e.partNo)}},slot:"activator"},[a("v-badge",[a("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[t._v("warning")])],1)],1),a("span",[t._v("Giấy tờ đã nộp")])],1):t._e()],1):t._e()],1)],1)],1):t._e()})),t.partTypes.includes(2)?t._e():a("div",[a("v-layout",{staticClass:"mx-4",attrs:{wrap:""}},[!t.onlyView||t.onlyView&&t.applicantNoteDossier?a("v-flex",{staticClass:"my-0 py-2 text-bold",staticStyle:{width:"60px"}},[t._v("Ghi chú:")]):t._e(),a("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[t.onlyView?t._e():a("div",{staticClass:"pl-2"},[a("v-text-field",{staticClass:"py-0",attrs:{"multi-line":"",rows:"3"},on:{input:t.changeApplicantNote},model:{value:t.applicantNoteDossier,callback:function(e){t.applicantNoteDossier=e},expression:"applicantNoteDossier"}})],1),t.onlyView&&t.applicantNoteDossier?a("p",{staticClass:"my-0 py-2"},[t._v("\n            "+t._s(t.applicantNoteDossier)+" \n          ")]):t._e()])],1)],1),a("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:t.dialogAddOtherTemp,callback:function(e){t.dialogAddOtherTemp=e},expression:"dialogAddOtherTemp"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-title",{staticClass:"headline"},[t._v("Tên giấy tờ")]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.cancelDialog(e)}}},[a("v-icon",[t._v("clear")])],1),t.loadingAddOther?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):t._e(),a("v-card-text",{staticClass:"pb-0 pt-4"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Tên giấy tờ:",rules:[function(t){return!!t||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:t.otherDossierTemplate,callback:function(e){t.otherDossierTemplate=e},expression:"otherDossierTemplate"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-3",flat:"flat"},nativeOn:{click:function(e){return t.cancelDialog(e)}}},[t._v("\n              Quay lại\n            ")]),a("v-btn",{attrs:{color:"primary",flat:"flat",loading:t.loadingAddOther},nativeOn:{click:function(e){return t.addOtherTemplate(e)}}},[t._v("\n              Đồng ý\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])],1)],1)],1)],1)],2),a("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t.pdfEform?a("span",[t._v("Bản khai trực tuyến")]):a("span",[t._v("File đính kèm")])]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a("v-icon",[t._v("clear")])],1),t.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},de=[],ue={data:function(){return{}}},me=ue,he=a("4ca6"),fe=a("cd55"),ve=a("49e2"),ge=Object(d["a"])(me,pe,de,!1,null,null,null),ye=ge.exports;m()(ge,{VBadge:he["a"],VBtn:at["a"],VCard:f["a"],VCardActions:it["a"],VCardText:it["b"],VCardTitle:v["a"],VDialog:ut["a"],VExpansionPanel:fe["a"],VExpansionPanelContent:ve["a"],VFlex:y["a"],VForm:mt["a"],VIcon:nt["a"],VLayout:b["a"],VProgressCircular:P["a"],VProgressLinear:ht["a"],VSelect:Y["a"],VSpacer:ft["a"],VTextField:ot["a"],VTooltip:yt["a"]});var xe={props:["index","id"],components:{"thanh-phan-ho-so":ye},data:function(){return{}}},be=xe,we=a("8860"),Ce=a("ba95"),Te=a("5d23"),Se=a("71a3"),_e=a("c671"),Ne=a("fe57"),De=a("aac8"),Ie=a("9a96"),ke=Object(d["a"])(be,se,re,!1,null,null,null),Pe=ke.exports;m()(ke,{VBtn:at["a"],VExpansionPanel:fe["a"],VExpansionPanelContent:ve["a"],VIcon:nt["a"],VList:we["a"],VListTile:Ce["a"],VListTileTitle:Te["b"],VMenu:Bt["a"],VTab:Se["a"],VTabItem:_e["a"],VTabs:Ne["a"],VTabsItems:De["a"],VTabsSlider:Ie["a"]});var Ae={props:["id","formCode"],components:{"xem-chi-tiet-ho-so-detail-can-bo":Pe},data:function(){return{initData:null,step:""}}},Fe=Ae,Ee=Object(d["a"])(Fe,le,ce,!1,null,null,null),Ve=Ee.exports,Le=[{path:"/",name:"SoHoaGiayTo",component:bt,props:!0},{path:"/kho-tai-lieu",name:"KhoTaiLieu",component:Nt,props:!0},{path:"/danh-muc-giay-to",name:"DanhMucGiayTo",component:Et,props:!0},{path:"/du-lieu-cong-dan",name:"DuLieuCongDan",component:Yt,props:!0},{path:"/bao-cao",name:"BaoCao",component:te,props:!0},{path:"/danh-sach-ho-so/:index",name:"Landing",component:function(){return a.e("Landing").then(a.bind(null,"306c"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/tiep-nhan-ho-so/:id/:formCode",name:"TiepNhanHoSoDetail",component:function(){return a.e("TiepNhanHoSoDetail").then(a.bind(null,"d129"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/bo-sung-ho-so/:id",name:"HoanThienBoSungHoSoDetail",component:function(){return a.e("HoanThienBoSungHoSoDetail").then(a.bind(null,"a35c"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/ho-so/:id/:formCode",name:"DetailForward",component:Ve,props:!0},{path:"*",name:"NotFound",component:F}];i["a"].use(S["a"]);var Oe=new S["a"]({routes:Le}),$e=Oe,Ge=a("2f62");i["a"].use(Ge["a"]);var He=new Ge["a"].Store({state:{initData:{},endPoint:"/o/rest/v2",loading:!1,isMobile:!1,userLogin:"",submissionNote:"",thongTinChiTietHoSo:null},actions:{loadInitResource:function(t){t.commit;var e=t.state;return new Promise((function(t,a){null!==window.themeDisplay&&void 0!==window.themeDisplay?(e.initData["groupId"]=window.themeDisplay.getScopeGroupId(),e.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(e.initData["groupId"]=0,e.initData["user"]={userName:"",userEmail:"",userId:20103}),t(e.initData)}))},getFileItems:function(t,e){t.commit,t.state;return new Promise((function(t,a){He.dispatch("loadInitResource").then((function(i){var n={headers:{groupId:window.themeDisplay.getScopeGroupId()},params:{start:e.start?e.start:0,end:e.end?e.end:15,status:e.status?e.status:"",fileTemplateNo:e.fileTemplateNo?e.fileTemplateNo:"",name:e.name?e.name:""}};s.a.get("/o/rest/v2/fileitems",n).then((function(e){t(e.data)}),(function(t){a(t)}))})).catch((function(){}))}))},loadDictItems:function(t,e){t.commit,t.state;return new Promise((function(t,a){He.dispatch("loadInitResource").then((function(i){var n={headers:{groupId:window.themeDisplay.getScopeGroupId()},params:{parent:e.parent}};s.a.get("/o/rest/v2/dictcollections/"+e.collectionCode+"/dictitems",n).then((function(e){t(e.data)}),(function(t){a(t)}))})).catch((function(){}))}))},getFileItemsFromDvc:function(t,e){t.commit,t.state;return new Promise((function(t,a){He.dispatch("loadInitResource").then((function(i){var n={headers:{groupId:window.themeDisplay.getScopeGroupId()}},o={status:e.status?e.status:""},l=new URLSearchParams,c=o;l.append("method","GET"),l.append("url","/fileitems"),l.append("data",JSON.stringify(c)),s.a.post("/o/rest/v2/proxy",l,n).then((function(e){t(e.data)}),(function(t){a(t)}))})).catch((function(){}))}))},getApplicantDocument:function(t,e){t.commit,t.state;return new Promise((function(t,a){He.dispatch("loadInitResource").then((function(i){var n={headers:{groupId:window.themeDisplay.getScopeGroupId()},params:{start:e.start?e.start:0,end:e.end?e.end:15,applicantIdNo:e.applicantIdNo?e.applicantIdNo:"",fileTemplateNo:e.fileTemplateNo?e.fileTemplateNo:"",status:e.status,keyword:e.keywordSearch?e.keywordSearch:"",applicantDataType:e.applicantDataType?e.applicantDataType:"",fileNo:e.fileNoSearch}};s.a.get("/o/rest/v2/applicantdatas",n).then((function(e){e["data"].hasOwnProperty("data")?Array.isArray(e["data"]["data"])?t(e.data):t({data:[e["data"]["data"]],total:e["data"]["total"]}):a(e)}),(function(t){a(t)}))})).catch((function(){}))}))},getApplicantDocumentFromDvc:function(t,e){t.commit,t.state;return new Promise((function(t,a){He.dispatch("loadInitResource").then((function(i){var n={headers:{groupId:window.themeDisplay.getScopeGroupId()}},o={start:e.start?e.start:0,end:e.end?e.end:15,applicantIdNo:e.applicantIdNo?e.applicantIdNo:"",fileTemplateNo:e.fileTemplateNo?e.fileTemplateNo:"",status:e.status,applicantName:e.applicantName?e.applicantName:"",fileNo:e.fileNoSearch},l=new URLSearchParams,c=o;l.append("method","GET"),l.append("url","/applicantdatas"),l.append("data",JSON.stringify(c)),s.a.post("/o/rest/v2/proxy",l,n).then((function(e){e["data"].hasOwnProperty("data")?Array.isArray(e["data"]["data"])?t(e.data):t({data:[e["data"]["data"]],total:e["data"]["total"]}):a(e)}),(function(t){a(t)}))})).catch((function(){}))}))},getFileAttachProxy:function(t,e){t.commit,t.state;return new Promise((function(t,a){var i={headers:{groupId:window.themeDisplay.getScopeGroupId()},responseType:"blob"},n=new URLSearchParams;n.append("method","GET"),n.append("url","/applicantdatas/"+e.applicantDataId+"/preview"),n.append("dataType","binary"),n.append("data",""),s.a.post("/o/rest/v2/proxy",n,i).then((function(e){var a=window.URL.createObjectURL(e.data);t(a)})).catch((function(t){a(t)}))}))},getFileAttach:function(t,e){t.commit,t.state;return new Promise((function(t,a){var i={headers:{groupId:window.themeDisplay.getScopeGroupId()},responseType:"blob"};s.a.get("/o/rest/v2/applicantdatas/"+e.applicantDataId+"/preview",i).then((function(e){var a=window.URL.createObjectURL(e.data);t(a)})).catch((function(t){a(t)}))}))},deleteUser:function(t,e){t.commit,t.state;return new Promise((function(t,a){var i={headers:{groupId:window.themeDisplay.getScopeGroupId()}},n="/o/rest/v2/applicants/"+e["applicantId"];s.a.delete(n,i).then((function(e){t(e)})).catch((function(t){a(t)}))}))},addUser:function(t,e){t.commit,t.state;return new Promise((function(t,a){var i={headers:{groupId:window.themeDisplay.getScopeGroupId()}},n=new URLSearchParams,o="/o/rest/v2/applicants";n.append("applicantName",e["applicantName"]),n.append("applicantIdNo",e["applicantIdNo"]),n.append("applicantIdDate",e["applicantIdDate"]),n.append("applicantIdType",e["applicantIdType"]),n.append("contactTelNo",e["contactTelNo"]),n.append("address",e["address"]),n.append("contactEmail",e["contactEmail"]),n.append("cityCode",e["cityCode"]),n.append("cityName",e["cityName"]),n.append("districtCode",e["districtCode"]),n.append("districtName",e["districtName"]),n.append("wardCode",e["wardCode"]),n.append("wardName",e["wardName"]),s.a.post(o,n,i).then((function(e){t(e)})).catch((function(t){a(t)}))}))},putUser:function(t,e){t.commit,t.state;return new Promise((function(t,a){var i={headers:{groupId:window.themeDisplay.getScopeGroupId()}},n=new URLSearchParams,o="";o="/o/rest/v2/applicants/"+e["applicantId"],n.append("applicantName",e["applicantName"]),n.append("applicantIdType",e["applicantIdType"]),n.append("contactTelNo",e["contactTelNo"]),n.append("address",e["address"]),n.append("contactEmail",e["contactEmail"]),n.append("cityCode",e["cityCode"]),n.append("cityName",e["cityName"]),n.append("districtCode",e["districtCode"]),n.append("districtName",e["districtName"]),n.append("wardCode",e["wardCode"]),n.append("wardName",e["wardName"]),n.append("applicantIdDate",e["applicantIdDate"]),s.a.put(o,n,i).then((function(e){t(e)})).catch((function(t){a(t)}))}))},putVerification:function(t,e){t.commit,t.state;return new Promise((function(t,a){var i={headers:{groupId:window.themeDisplay.getScopeGroupId()}},n=new URLSearchParams,o="";o="/o/rest/v2/applicants/"+e["applicantId"]+"/verify/"+e["verification"],s.a.put(o,n,i).then((function(e){t(e)})).catch((function(t){a(t)}))}))},makeImageCapLogin:function(t){t.commit;var e=t.state;return new Promise((function(t,a){var i={headers:{groupId:e.initData.groupId?e.initData.groupId:"",Accept:"application/json"},responseType:"blob"},n="/o/v1/opencps/users/login/jcaptcha";s.a.get(n,i).then((function(e){var a=window.URL.createObjectURL(e.data);t(a)})).catch((function(t){a(t)}))}))},goToDangNhap:function(t,e){t.commit,t.state;return new Promise((function(t,a){He.dispatch("loadInitResource").then((function(i){var n={headers:{Authorization:"BASIC "+window.btoa(e["npmreactlogin_login"]+":"+e["npmreactlogin_password"])}},o=new URLSearchParams;e.j_captcha_response&&o.append("j_captcha_response",e.j_captcha_response),s.a.post("/o/v1/opencps/login",o,n).then((function(a){console.log(a.data),"ok"===a.data||""!==a.data&&"ok"!==a.data&&"captcha"!==a.data&&"lockout"!==a.data?setTimeout((function(){window.location.href=window.location.origin+"/web/kho-dien-tu#/so-hoa-giay-to"}),200):"captcha"===a.data?(e.j_captcha_response&&void 0!==a["status"]&&203===a["status"]&&O.a.error("Mã captcha không chính xác"),t("captcha")):"lockout"===a.data?(t("lockout"),O.a.error("Bạn đã đăng nhập sai quá 5 lần. Tài khoản bị tạm khóa trong 10 phút.")):(t("fail"),O.a.error("Tên đăng nhập hoặc mật khẩu không chính xác.",{autoClose:2e3}))})).catch((function(t){a(t),O.a.error("Tên đăng nhập hoặc mật khẩu không chính xác.",{autoClose:2e3})}))}))}))}},mutations:{setLoading:function(t,e){t.loading=e},setSubmissionNote:function(t,e){t.submissionNote=e},setThongTinChiTietHoSo:function(t,e){t.thongTinChiTietHoSo=e}},getters:{loading:function(t){return t.loading},submissionNote:function(t){return t.submissionNote},thongTinChiTietHoSo:function(t){return t.thongTinChiTietHoSo}}}),ze=a("967d");i["a"].use(ze["default"]);var Ue=void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0;s.a.defaults.withCredentials=!0,s.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",s.a.defaults.headers.common["groupId"]=Ue,i["a"].config.productionTip=!0,i["a"].mixin({methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new i["a"]({router:$e,store:He,created:function(){var t=this;t.$nextTick((function(){}))},render:function(t){return t(T)}}).$mount("#khodientu")},"74ef":function(t,e,a){}});