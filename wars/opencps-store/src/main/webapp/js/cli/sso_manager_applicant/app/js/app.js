(function(t){function a(a){for(var e,s,c=a[0],r=a[1],l=a[2],u=0,d=[];u<c.length;u++)s=c[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);h&&h(a);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,a=0;a<o.length;a++){for(var n=o[a],e=!0,c=1;c<n.length;c++){var r=n[c];0!==i[r]&&(e=!1)}e&&(o.splice(a--,1),t=s(s.s=n[0]))}return t}var e={},i={app:0},o=[];function s(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,a,n){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var e in t)s.d(n,e,function(a){return t[a]}.bind(null,e));return n},s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=a,c=c.slice();for(var l=0;l<c.length;l++)a(c[l]);var h=r;o.push([0,"chunk-vendors"]),n()})({0:function(t,a,n){t.exports=n("56d7")},"56d7":function(t,a,n){"use strict";n.r(a);n("0f18");var e=n("a026"),i=n("bb71");n("74ef");e["default"].use(i["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var o=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("v-app",{staticStyle:{"max-width":"1300px",margin:"0 auto"},attrs:{id:"app_sso_manager_applicant"}},[n("v-navigation-drawer",{attrs:{app:"",clipped:"",floating:"",width:"0"}}),n("v-content",[n("router-view")],1)],1)},s=[],c=n("bc3a"),r=n.n(c),l={data:function(){return{}},components:{},computed:{},beforeDestroy:function(){},mounted:function(){},beforeCreate:function(){},created:function(){},watch:{$route:function(t,a){t.params,t.query}},methods:{}},h=l,u=n("2877"),d=n("6544"),p=n.n(d),g=n("7496"),m=n("549c"),v=n("f774"),f=Object(u["a"])(h,o,s,!1,null,null,null),T=f.exports;p()(f,{VApp:g["a"],VContent:m["a"],VNavigationDrawer:v["a"]});var C=n("8c4f"),y=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[n("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1)],1)},x=[],b={},D=b,_=n("a523"),S=n("0e8f"),k=n("a722"),N=n("490a"),w=Object(u["a"])(D,y,x,!1,null,null,null),A=w.exports;p()(w,{VContainer:_["a"],VFlex:S["a"],VLayout:k["a"],VProgressCircular:N["a"]});var L=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("v-card",{attrs:{flat:""}},[n("div",{staticClass:"row-header no__hidden_class"},[n("div",{staticClass:"background-triangle-big"},[n("span",[t._v("QUẢN LÝ THÔNG TIN CÔNG DÂN, CƠ QUAN TỔ CHỨC, DOANH NGHIỆP")])]),n("div",{staticClass:"layout row wrap header_tools row-blue mx-1"},[n("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}})])]),n("v-card-text",{staticClass:"px-0 pt-0"},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticClass:"pr-0 mt-3",attrs:{xs12:""}},[n("div",{staticClass:"text-bold d-inline-block mr-3",staticStyle:{color:"#903938","line-height":"24px","vertical-align":"top"}},[t._v("Đối tượng người dùng: ")]),n("v-radio-group",{staticClass:"pt-0 d-inline-block ml-3 mt-0",attrs:{row:""},model:{value:t.typeSearch,callback:function(a){t.typeSearch=a},expression:"typeSearch"}},[n("v-radio",{attrs:{label:"Công dân",value:"citizen"}}),n("v-radio",{attrs:{label:"Tổ chức, doanh nghiệp",value:"business"}})],1),n("div",{staticClass:"right",staticStyle:{"text-align":"right"}},[n("v-btn",{attrs:{color:"blue darken-3 mx-0 mt-0",dark:""},on:{click:t.showAdvanceSearch}},[n("v-icon",{style:t.advanceSearch?"transform: rotate(180deg)":"",attrs:{size:"16"}},[t._v("filter_list")]),t._v("\n               Tìm kiếm nâng cao\n            ")],1)],1)],1),t.advanceSearch?t._e():n("v-flex",{staticClass:"pr-2 input-group--text-field-box mt-1",attrs:{xs12:"",md4:""}},[n("v-text-field",{attrs:{label:"Tìm theo từ khóa","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.getDanhMuc()},"click:clear":function(a){return t.clearKeyword()},"click:append":function(a){return t.getDanhMuc()}},model:{value:t.keywordSearch,callback:function(a){t.keywordSearch=a},expression:"keywordSearch"}})],1),t.advanceSearch?n("v-flex",{staticClass:"pr-2 input-group--text-field-box mt-1",attrs:{xs12:"",md4:""}},[n("v-text-field",{attrs:{label:"citizen"===t.typeSearch?"Họ tên công dân":"Tên tổ chức, doanh nghiệp",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.getDanhMuc()}},model:{value:t.applicantNameSearch,callback:function(a){t.applicantNameSearch=a},expression:"applicantNameSearch"}})],1):t._e(),n("v-flex",{staticClass:"input-group--text-field-box mt-1 px-2",attrs:{xs12:"",md4:""}},[n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",box:"",label:"Trạng thái thông tin",items:t.itemsTrangThai,"item-text":"tenMuc","item-value":"maMuc","hide-details":"auto",clearable:""},on:{change:function(a){return t.getDanhMuc()}},model:{value:t.trangThaiSearch,callback:function(a){t.trangThaiSearch=a},expression:"trangThaiSearch"}})],1),n("v-flex",{staticClass:"input-group--text-field-box mt-1 pl-2",attrs:{xs12:"",md4:""}},[n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",box:"",label:"Tình trạng tài khoản",items:t.itemsTinhTrang,"item-text":"tenMuc","item-value":"maMuc","hide-details":"auto",clearable:""},on:{change:function(a){return t.getDanhMuc()}},model:{value:t.tinhTrangSearch,callback:function(a){t.tinhTrangSearch=a},expression:"tinhTrangSearch"}})],1),t.advanceSearch?n("v-flex",{attrs:{xs12:""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticClass:"pr-2 input-group--text-field-box mt-1",attrs:{xs12:"",md4:""}},[n("v-text-field",{attrs:{label:"citizen"===t.typeSearch?"Số CMND/CCCD":"Mã tổ chức, mã số thuế doanh nghiệp",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.getDanhMuc()}},model:{value:t.applicantIdSearch,callback:function(a){t.applicantIdSearch=a},expression:"applicantIdSearch"}})],1),n("v-flex",{staticClass:"px-2 input-group--text-field-box mt-1",attrs:{xs12:"",md4:""}},[n("v-text-field",{attrs:{label:"Số điện thoại",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.getDanhMuc()}},model:{value:t.contactSearch,callback:function(a){t.contactSearch=a},expression:"contactSearch"}})],1),n("v-flex",{staticClass:"pr-0 pl-2 input-group--text-field-box mt-1",attrs:{xs12:"",md4:""}},[n("v-text-field",{attrs:{label:"Email",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.getDanhMuc()}},model:{value:t.emailSearch,callback:function(a){t.emailSearch=a},expression:"emailSearch"}})],1),n("v-flex",{staticClass:"pr-0 input-group--text-field-box mt-1 pr-2",attrs:{xs12:"",md4:""}},[n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",box:"",label:"citizen"===t.typeSearch?"Địa chỉ thường trú: Tỉnh/ thành":"Địa chỉ hoạt động: Tỉnh/ thành",items:t.itemsTinhThanh,"item-text":"tenMuc","item-value":"maMuc","hide-details":"auto",clearable:"","return-object":""},on:{change:function(a){return t.getDanhMuc()}},model:{value:t.thuongTruTinhThanh,callback:function(a){t.thuongTruTinhThanh=a},expression:"thuongTruTinhThanh"}})],1),n("v-flex",{staticClass:"pr-0 input-group--text-field-box mt-1 px-2",attrs:{xs12:"",md4:""}},[n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",box:"",label:"Quận/ huyện",items:t.itemsThuongTruQuanHuyen,"item-text":"tenMuc","item-value":"maMuc","hide-details":"auto",clearable:"","return-object":""},on:{change:function(a){return t.getDanhMuc()}},model:{value:t.thuongTruQuanHuyen,callback:function(a){t.thuongTruQuanHuyen=a},expression:"thuongTruQuanHuyen"}})],1),n("v-flex",{staticClass:"pr-0 input-group--text-field-box mt-1 pl-2",attrs:{xs12:"",md4:""}},[n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",box:"",label:"Phường/ xã",items:t.itemsThuongTruPhuongXa,"item-text":"tenMuc","item-value":"maMuc","hide-details":"auto",clearable:"","return-object":""},on:{change:function(a){return t.getDanhMuc()}},model:{value:t.thuongTruPhuongXa,callback:function(a){t.thuongTruPhuongXa=a},expression:"thuongTruPhuongXa"}})],1)],1)],1):t._e()],1),n("div",{staticStyle:{"text-align":"right"}},[t.advanceSearch?n("v-btn",{attrs:{color:"blue darken-3 mr-3",dark:""},on:{click:function(a){return t.getDanhMuc()}}},[n("v-icon",{attrs:{size:"16"}},[t._v("search")]),t._v(" Tìm kiếm\n        ")],1):t._e(),n("v-btn",{attrs:{color:"blue darken-3 mx-0",dark:""},on:{click:t.addApplicant}},[n("v-icon",{attrs:{size:"16"}},[t._v("add")]),t._v(" Thêm mới\n        ")],1)],1),t.delayLoad?n("div",{staticClass:"text-xs-center",staticStyle:{height:"250px","padding-top":"120px"}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):n("div",["citizen"===t.typeSearch?n("v-data-table",{staticClass:"table-landing table-bordered mt-3",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.applicantListHeaderCongDan,items:t.itemsApplicant,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(a){return[n("tr",{class:{active:a.index%2==1},staticStyle:{cursor:"pointer"}},[n("td",{staticClass:"text-xs-center",staticStyle:{width:"50px",height:"36px"},on:{click:function(n){return t.showEditApplicant(a.item)}}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[n("span",[t._v(t._s((t.page+1)*t.itemsPerPage-t.itemsPerPage+a.index+1))])])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"},on:{click:function(n){return t.showEditApplicant(a.item)}}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[n("span",[t._v(t._s(a.item.hoVaTen))])])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"},on:{click:function(n){return t.showEditApplicant(a.item)}}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[n("span",[t._v(t._s(a.item.maSoCaNhan))])])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"},on:{click:function(n){return t.showEditApplicant(a.item)}}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[n("div",[n("v-icon",{attrs:{size:"16"}},[t._v("phone_in_talk")]),t._v("  "+t._s(a.item.danhBaLienLac["soDienThoai"])+"\n                  ")],1),n("div",[n("v-icon",{attrs:{size:"16"}},[t._v("mail_outline")]),t._v("  "+t._s(a.item.danhBaLienLac["thuDienTu"])+"\n                  ")],1)])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px","min-width":"200px"},on:{click:function(n){return t.showEditApplicant(a.item)}}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[t.total&&a.item.noiOHienTai["soNhaChiTiet"]?n("span",[t._v(t._s(a.item.noiOHienTai["soNhaChiTiet"])+", ")]):t._e(),t.total&&a.item.noiOHienTai["phuongXa"]["tenMuc"]?n("span",[t._v(t._s(a.item.noiOHienTai["phuongXa"]["tenMuc"])+" - ")]):t._e(),t.total&&a.item.noiOHienTai["quanHuyen"]["tenMuc"]?n("span",[t._v(t._s(a.item.noiOHienTai["quanHuyen"]["tenMuc"])+" - ")]):t._e(),t.total&&a.item.noiOHienTai["tinhThanh"]["tenMuc"]?n("span",[t._v(t._s(a.item.noiOHienTai["tinhThanh"]["tenMuc"]))]):t._e()])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"},on:{click:function(n){return t.showEditApplicant(a.item)}}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",{style:2==a.item.trangThaiDuLieu.maMuc?"color: green":"color: red"},[t._v("\n                  "+t._s(a.item.trangThaiDuLieu.tenMuc)+"\n                ")])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"},on:{click:function(n){return t.showEditApplicant(a.item)}}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",{style:t.getColor(a.item.danhTinhDienTu)},[t._v("\n                  "+t._s(t.getStatus(a.item.danhTinhDienTu))+"\n                ")])],1),n("td",{staticClass:"text-xs-center",staticStyle:{height:"36px",width:"90px"}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loadingData?t._e():n("v-tooltip",{attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 mr-3 my-0",attrs:{slot:"activator",color:"green",flat:"",icon:""},on:{click:function(n){return t.showEditApplicant(a.item)}},slot:"activator"},[n("v-icon",{attrs:{size:"22"}},[t._v("edit")])],1),n("span",[t._v("Cập nhật thông tin")])],1)],1)])]}}],null,!1,1515135046)},[n("template",{slot:"no-data"},[n("div",{staticClass:"text-xs-center mt-2"},[t._v("\n              Không có công dân\n            ")])])],2):t._e(),"business"===t.typeSearch?n("v-data-table",{staticClass:"table-landing table-bordered mt-3",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.applicantListHeaderDoanhNghiep,items:t.itemsApplicant,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(a){return[n("tr",{class:{active:a.index%2==1},staticStyle:{cursor:"pointer"}},[n("td",{staticClass:"text-xs-center",staticStyle:{width:"50px",height:"36px"},on:{click:function(n){return t.showEditApplicant(a.item)}}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[n("span",[t._v(t._s((t.page+1)*t.itemsPerPage-t.itemsPerPage+a.index+1))])])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"},on:{click:function(n){return t.showEditApplicant(a.item)}}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[n("span",[t._v(t._s(a.item.tenGoi))])])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"},on:{click:function(n){return t.showEditApplicant(a.item)}}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[n("span",[t._v(t._s(a.item.maSoDoanhNghiep))])])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"},on:{click:function(n){return t.showEditApplicant(a.item)}}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[n("div",[n("v-icon",{attrs:{size:"16"}},[t._v("phone_in_talk")]),t._v("  "+t._s(a.item.danhBaLienLac["soDienThoai"])+"\n                  ")],1),n("div",[n("v-icon",{attrs:{size:"16"}},[t._v("mail_outline")]),t._v("  "+t._s(a.item.danhBaLienLac["thuDienTu"])+"\n                  ")],1)])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px","min-width":"200px"},on:{click:function(n){return t.showEditApplicant(a.item)}}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[t.total&&a.item.diaChiHoatDong["soNhaChiTiet"]?n("span",[t._v(t._s(a.item.diaChiHoatDong["soNhaChiTiet"])+", ")]):t._e(),t.total&&a.item.diaChiHoatDong["phuongXa"]["tenMuc"]?n("span",[t._v(t._s(a.item.diaChiHoatDong["phuongXa"]["tenMuc"])+" - ")]):t._e(),t.total&&a.item.diaChiHoatDong["quanHuyen"]["tenMuc"]?n("span",[t._v(t._s(a.item.diaChiHoatDong["quanHuyen"]["tenMuc"])+" - ")]):t._e(),t.total&&a.item.diaChiHoatDong["tinhThanh"]["tenMuc"]?n("span",[t._v(t._s(a.item.diaChiHoatDong["tinhThanh"]["tenMuc"]))]):t._e()])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"},on:{click:function(n){return t.showEditApplicant(a.item)}}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",{style:2==a.item.trangThaiDuLieu.maMuc?"color: green":"color: red"},[t._v("\n                  "+t._s(a.item.trangThaiDuLieu.tenMuc)+"\n                ")])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"},on:{click:function(n){return t.showEditApplicant(a.item)}}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",{style:t.getColor(a.item.danhTinhDienTu)},[t._v("\n                  "+t._s(t.getStatus(a.item.danhTinhDienTu))+"\n                ")])],1),n("td",{staticClass:"text-xs-center",staticStyle:{height:"36px",width:"90px"}},[t.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loadingData?t._e():n("v-tooltip",{attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 mr-3 my-0",attrs:{slot:"activator",color:"green",flat:"",icon:""},on:{click:function(n){return t.showEditApplicant(a.item)}},slot:"activator"},[n("v-icon",{attrs:{size:"22"}},[t._v("edit")])],1),n("span",[t._v("Cập nhật thông tin")])],1)],1)])]}}],null,!1,3000069805)},[n("template",{slot:"no-data"},[n("div",{staticClass:"text-xs-center mt-2"},[t._v("\n              Không có tổ chức, doanh nghiệp\n            ")])])],2):t._e()],1),t.pageCount?n("div",{staticClass:"my-2"},[n("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[n("div",{staticClass:"flex pagging-table"},[n("tiny-pagination",{attrs:{total:t.total,page:t.page+1,currentLimit:t.itemsPerPage,nameRecord:"","custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.changePage}})],1)])]):t._e()],1)],1)],1)},M=[],P=n("854a"),I=n.n(P),H=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[t.isMobile?t._e():n("div",{staticStyle:{"text-align":"left",position:"absolute","line-height":"46px"}},[t._v("Tổng số "),n("span",{staticClass:"text-bold primary--text"},[t._v(t._s(t.total))]),t._v(" "+t._s(t.nameRecord)+" ")]),t.total>0?n("div",{staticClass:"vue-tiny-pagination pagination layout",style:t.isMobile?"":"justify-content: flex-end; -webkit-justify-content: flex-end;"},[n("div",{class:t.isMobile?"pr-3 xs4 flex":"px-3 xs4 flex"},[n("v-select",{attrs:{items:t.totalPagesData,"item-text":"text","item-value":"value",autocomplete:""},on:{input:t.goToPage},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}})],1),n("ul",{staticClass:"tiny-pagination",class:t.customClass},[n("li",{staticClass:"page-item",class:t.classFirstPage},[n("button",{staticClass:"pagination__navigation",class:t.classFirstPage,on:{click:function(a){return a.preventDefault(),t.lastPageLast(a)}}},[n("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("first_page")])])]),n("li",{staticClass:"page-item",class:t.classFirstPage},[n("button",{staticClass:"pagination__navigation",class:t.classFirstPage,staticStyle:{"border-left":"0"},on:{click:function(a){return a.preventDefault(),t.lastPage(a)}}},[n("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("chevron_left")])])]),n("li",{staticClass:"page-item",staticStyle:{"margin-right":"0"}},[n("button",{staticClass:"pagination__navigation pagination__navigation--disabled text-bold primary--text",staticStyle:{"border-right":"0","border-left":"0"}},[t._v("\n          "+t._s(t.titlePage)+"\n        ")])]),n("li",{staticClass:"page-item",class:t.classLastPage,staticStyle:{"margin-right":"0"}},[n("button",{staticClass:"pagination__navigation",class:t.classLastPage,staticStyle:{"border-left":"0"},on:{click:function(a){return a.preventDefault(),t.nextPage(a)}}},[n("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("chevron_right")])])]),n("li",{staticClass:"page-item",class:t.classLastPage},[n("button",{staticClass:"pagination__navigation",class:t.classLastPage,on:{click:function(a){return a.preventDefault(),t.nextPageLast(a)}}},[n("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("last_page")])])])])]):t._e()])},F=[],O="TinyPagination",V={name:O,props:{total:{type:Number,required:!0},page:{type:Number,default:1},lang:{type:String,default:"en"},customClass:{type:String},currentLimit:{type:Number,default:15},limits:{type:Array,default:function(){return[10,15,20,50,100]}},showLimit:{type:Boolean,default:!0},nameRecord:{type:String,default:"bản ghi"}},data:function(){return{version:"0.2.1",currentPage:1,translations:{en:{prev:"Previous",title:"Page",next:"Next"}},availableLanguages:["en"]}},created:function(){this.currentPage=this.page},watch:{page:function(t){this.currentPage=parseInt(t)}},computed:{translation:function(){return this.availableLanguages.includes(this.lang)?this.translations[this.lang]:this.translations["en"]},totalPages:function(){return Math.ceil(this.total/this.currentLimit)},totalPagesData:function(){for(var t=[],a={},n=1;n<=this.totalPages;++n)a={value:n,text:"Trang "+n},t.push(a);return t},titlePage:function(){return"".concat(this.currentPage)},classFirstPage:function(){return{"c-not-allowed pagination__navigation--disabled":1===this.currentPage}},classLastPage:function(){return{"c-not-allowed pagination__navigation--disabled":this.currentPage===this.totalPages}},isMobile:function(){return this.$store.getters.getIsMobile}},methods:{nextPage:function(){this.currentPage!==this.totalPages&&(this.currentPage+=1,this.$emit("tiny:change-page",{page:this.currentPage}))},lastPage:function(){this.currentPage>1&&(this.currentPage-=1,this.$emit("tiny:change-page",{page:this.currentPage}))},nextPageLast:function(){this.currentPage=this.totalPages,this.$emit("tiny:change-page",{page:this.totalPages})},lastPageLast:function(){this.currentPage=1,this.$emit("tiny:change-page",{page:1})},goToPage:function(){this.$emit("tiny:change-page",{page:this.currentPage})},onLimitChange:function(){this.currentPage=1}}},E=V,z=n("b56d"),K=Object(u["a"])(E,H,F,!1,null,null,null),B=K.exports;p()(K,{VSelect:z["a"]}),e["default"].use(I.a);var j={props:[],components:{"tiny-pagination":B},data:function(){return{delayLoad:!1,hasVerification:!1,verificationApplicant:!1,typeUpdateApplicant:"update",keySearch:"",idNoSearch:"",typeSearch:"citizen",applicantListHeaderCongDan:[{text:"STT",align:"center",sortable:!1},{text:"Họ tên",align:"center",sortable:!1},{text:"Số CMND/ CCCD",align:"center",sortable:!1},{text:"Điện thoại/ Email",align:"center",sortable:!1},{text:"Địa chỉ",align:"center",sortable:!1},{text:"Trạng thái thông tin",align:"center",sortable:!1},{text:"Tình trạng tài khoản",align:"center",sortable:!1},{text:"Thao tác",align:"center",sortable:!1}],applicantListHeaderDoanhNghiep:[{text:"STT",align:"center",sortable:!1},{text:"Tên tổ chức, doanh nghiệp",align:"center",sortable:!1},{text:"Mã tổ chức, doanh nghiệp",align:"center",sortable:!1},{text:"Điện thoại/ Email",align:"center",sortable:!1},{text:"Địa chỉ",align:"center",sortable:!1},{text:"Trạng thái thông tin",align:"center",sortable:!1},{text:"Tình trạng tài khoản",align:"center",sortable:!1},{text:"Thao tác",align:"center",sortable:!1}],applicantLists:"",applicantTypeLists:[{text:"Công dân",value:"citizen"},{text:"Doanh nghiệp",value:"business"},{text:"Cơ quan, tổ chức",value:"organization"}],loadingTable:!1,numberPerPage:30,applicantPage:1,totalApplicantSearch:0,menuBirthDate:!1,toDateFormatted:null,dialog_editApplicant:!1,urlFileHdsdKhoDienTu:"",dialogHDSD:!1,valid:!0,applicantEdit:"",ngayCap:null,cityItems:[],districtItems:[],wardItems:[],rolesUser:[],rules:{email:function(t){var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(t)||"Địa chỉ Email không hợp lệ"}},selected:[],keywordSearch:"",loadingData:!1,itemsTinhTrang:[],itemsTrangThai:[{tenMuc:"Đang sử dụng",maMuc:"2"},{tenMuc:"Đánh dấu xóa",maMuc:"1"}],tinhTrangSearch:"",trangThaiSearch:"",itemsApplicant:[],page:0,itemsPerPage:20,total:0,chuaCapTaiKhoan:!1,daCapTaiKhoan:!1,pageCount:0,advanceSearch:!1,applicantNameSearch:"",applicantIdSearch:"",contactSearch:"",emailSearch:"",itemsTinhThanh:[],diaChiThuongTruCuThe:"",thuongTruTinhThanh:"",itemsThuongTruQuanHuyen:[],thuongTruQuanHuyen:"",itemsThuongTruPhuongXa:[],thuongTruPhuongXa:""}},computed:{},created:function(){var t=this;t.$nextTick((function(){var a=t.$router.history.current;a.query;t.delayLoad=!0,setTimeout((function(){t.getDanhMuc("reset"),t.getDanhMucSearch("tinhtrangsudungtaikhoan"),t.getDanhMucTinhThanh(),t.delayLoad=!1}),2e3)}))},updated:function(){var t=this;t.$nextTick((function(){}))},mounted:function(){},watch:{$route:function(t,a){t.params,t.query},typeSearch:function(t){var a=this;a.getDanhMuc("reset"),a.thuongTruTinhThanh="",a.itemsThuongTruQuanHuyen=[],a.thuongTruQuanHuyen="",a.itemsThuongTruPhuongXa=[],a.thuongTruPhuongXa=""},thuongTruTinhThanh:function(){var t=this;t.changeTinhThanh("thuongtru")},thuongTruQuanHuyen:function(){var t=this;t.changeQuanHuyen("thuongtru")}},methods:{huongDanSuDung:function(){var t=this;try{t.urlFileHdsdKhoDienTu=urlFileHdsdKhoDienTu}catch(a){}t.dialogHDSD=!0},addApplicant:function(){var t=this;"citizen"===t.typeSearch?t.$router.push({path:"/cong-dan/0"}):t.$router.push({path:"/doanh-nghiep/0"})},getDanhMuc:function(t){var a=this;if("reset"===t&&(a.keywordSearch="",a.total=0,a.pageCount=0,a.page=0,a.applicantNameSearch="",a.applicantIdSearch="",a.contactSearch="",a.emailSearch=""),!a.loadingData){a.loadingData=!0;var n={collectionName:"citizen"===a.typeSearch?"canhan":"donvikinhdoanh",data:{keyword:a.keywordSearch,page:a.page,size:a.itemsPerPage,orderTypes:"asc",danhTinhDienTu_tinhTrangSuDungTaiKhoan_maMuc:a.tinhTrangSearch,trangThaiDuLieu_maMuc:a.trangThaiSearch}},e={};"citizen"===a.typeSearch&&(e={orderFields:"hoVaTen",hoVaTen:a.applicantNameSearch,maSoCaNhan:a.applicantIdSearch,danhBaLienLac_soDienThoai:a.contactSearch,danhBaLienLac_thuDienTu:a.emailSearch,diaChiThuongTru_phuongXa_maMuc:a.thuongTruPhuongXa?a.thuongTruPhuongXa["maMuc"]:"",diaChiThuongTru_quanHuyen_maMuc:a.thuongTruQuanHuyen?a.thuongTruQuanHuyen["maMuc"]:"",diaChiThuongTru_tinhThanh_maMuc:a.thuongTruTinhThanh?a.thuongTruTinhThanh["maMuc"]:""}),"business"===a.typeSearch&&(e={orderFields:"tenGoi",tenGoi:a.applicantNameSearch,maSoDoanhNghiep:a.applicantIdSearch,danhBaLienLac_soDienThoai:a.contactSearch,danhBaLienLac_thuDienTu:a.emailSearch,diaChiHoatDong_phuongXa_maMuc:a.thuongTruPhuongXa?a.thuongTruPhuongXa["maMuc"]:"",diaChiHoatDong_quanHuyen_maMuc:a.thuongTruQuanHuyen?a.thuongTruQuanHuyen["maMuc"]:"",diaChiHoatDong_tinhThanh_maMuc:a.thuongTruTinhThanh?a.thuongTruTinhThanh["maMuc"]:""}),n.data=Object.assign(n.data,e),a.$store.dispatch("collectionFilter",n).then((function(t){a.loadingData=!1,a.itemsApplicant=t.content,a.total=t.totalElements,a.pageCount=t.totalPages})).catch((function(){a.loadingData=!1,a.itemsApplicant=[],a.total=0,a.pageCount=0}))}},getDanhMucSearch:function(t){var a=this,n={collectionName:t,data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};a.$store.dispatch("collectionFilter",n).then((function(t){a.itemsTinhTrang=t.content})).catch((function(){}))},getStatus:function(t){return t[0]?t[0].tinhTrangSuDungTaiKhoan["tenMuc"]:"Chưa tạo tài khoản"},getColor:function(t){var a=t[0]?String(t[0].tinhTrangSuDungTaiKhoan["maMuc"]):"0";switch(a){case"1":return"color: blue";case"2":return"color: green";case"3":return"color: orange";case"4":return"color: red";default:return"color: black"}},dateLocale:function(t){var a=new Date(t);return"".concat(a.getDate().toString().padStart(2,"0"),"/").concat((a.getMonth()+1).toString().padStart(2,"0"),"/").concat(a.getFullYear())},goBack:function(){window.history.back()},clearKeyword:function(){var t=this;t.keywordSearch="",t.getDanhMuc()},changePage:function(t){var a=this;a.page=t.page-1,a.getDanhMuc()},showEditApplicant:function(t){var a=this;"citizen"===a.typeSearch?a.$router.push({path:"/thong-tin-ca-nhan/"+t.primKey}):a.$router.push({path:"/thong-tin-doanh-nghiep/"+t.primKey})},showAdvanceSearch:function(){var t=this;t.advanceSearch=!t.advanceSearch,t.advanceSearch?t.keywordSearch="":(t.applicantNameSearch="",t.applicantIdSearch="",t.contactSearch="",t.emailSearch="",t.thuongTruPhuongXa="",t.thuongTruQuanHuyen="",t.thuongTruTinhThanh="")},getDanhMucTinhThanh:function(){var t=this,a={collectionName:"tinhthanh",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",a).then((function(a){t.itemsTinhThanh=a.content})).catch((function(){}))},changeTinhThanh:function(t){var a=this,n="";if(a.thuongTruTinhThanh){"thuongtru"===t&&(n=a.thuongTruTinhThanh["maMuc"]),"noiohientai"===t&&(n=a.noiOHienTaiTinhThanh["maMuc"]);var e={collectionName:"quanhuyen",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:n}};a.$store.dispatch("collectionFilter",e).then((function(n){"thuongtru"===t&&(a.itemsThuongTruQuanHuyen=n.content),"noiohientai"===t&&(a.itemsNoiOHienTaiQuanHuyen=n.content)})).catch((function(){}))}},changeQuanHuyen:function(t){var a=this,n="";if(a.thuongTruQuanHuyen){"thuongtru"===t&&(n=a.thuongTruQuanHuyen["maMuc"]),"noiohientai"===t&&(n=a.noiOHienTaiQuanHuyen["maMuc"]);var e={collectionName:"phuongxa",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:n}};a.$store.dispatch("collectionFilter",e).then((function(n){"thuongtru"===t&&(a.itemsThuongTruPhuongXa=n.content),"noiohientai"===t&&(a.itemsNoiOHienTaiPhuongXa=n.content)})).catch((function(){}))}}}},q=j,X=n("c6a6"),Q=n("8336"),G=n("b0af"),U=n("99d9"),R=n("8fea"),J=n("132d"),Y=n("67b6"),Z=n("43a6"),W=n("2677"),tt=n("3a2f"),at=Object(u["a"])(q,L,M,!1,null,null,null),nt=at.exports;p()(at,{VAutocomplete:X["a"],VBtn:Q["a"],VCard:G["a"],VCardText:U["b"],VDataTable:R["a"],VFlex:S["a"],VIcon:J["a"],VLayout:k["a"],VProgressCircular:N["a"],VRadio:Y["a"],VRadioGroup:Z["a"],VTextField:W["a"],VTooltip:tt["a"]});var et,it=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("v-card",[n("div",{staticClass:"row-header no__hidden_class",attrs:{id:"top-header"}},[n("div",{staticClass:"background-triangle-big"},[t.showDetail?n("span",["create"===t.typeCreate?n("span",[t._v("THÊM MỚI, SỐ HÓA TÀI LIỆU")]):n("span",[t._v("CẬP NHẬT, SỐ HÓA TÀI LIỆU")])]):n("span",[t._v("QUẢN LÝ TÀI LIỆU CÔNG DÂN, CƠ QUAN TỔ CHỨC, DOANH NGHIỆP")])]),n("div",{staticClass:"layout row wrap header_tools row-blue"},[n("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[n("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:t.goBack}},[n("v-icon",{attrs:{size:"18"}},[t._v("reply")]),t._v("  \n            Quay lại\n          ")],1)],1)])]),t.showDetail?n("v-card-text",{staticClass:"py-1 px-0"},[n("v-form",{ref:"form",staticClass:"px-0 grid-list",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(a){t.valid=a},expression:"valid"}},[n("v-layout",{staticClass:"px-0 py-3",attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"px-0 pr-3",attrs:{xs12:"",md6:""}},[n("v-autocomplete",{attrs:{items:t.serviceInfoList,label:"Chọn thủ tục hành chính","item-text":"serviceName","item-value":"serviceCode","return-object":"","hide-selected":!0,box:"",clearable:""},on:{change:function(a){return t.changeService("create")}},model:{value:t.serviceInfoCreate,callback:function(a){t.serviceInfoCreate=a},expression:"serviceInfoCreate"}})],1),n("v-flex",{staticClass:"px-0",attrs:{xs12:"",md6:""}},[n("v-autocomplete",{attrs:{items:t.optionList,label:"Chọn trường hợp","item-text":"optionName","item-value":"templateNo","return-object":"","hide-selected":!0,box:"",clearable:""},on:{change:t.changeOption},model:{value:t.optionCreate,callback:function(a){t.optionCreate=a},expression:"optionCreate"}})],1),n("v-flex",{staticClass:"px-0",attrs:{xs12:""}},[n("v-autocomplete",{attrs:{items:t.fileTemplateList,label:"Chọn loại giấy tờ","item-text":"partName","item-value":"fileTemplateNo","return-object":"","hide-selected":!0,box:"",rules:[function(t){return!!t||"Loại giấy tờ là bắt buộc"}],required:""},model:{value:t.fileTemplateNoCreate,callback:function(a){t.fileTemplateNoCreate=a},expression:"fileTemplateNoCreate"}})],1),n("v-flex",{staticClass:"px-0",attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Tên giấy tờ",box:"",clearable:"",rules:[function(t){return!!t||"Tên giấy tờ là bắt buộc"}],required:""},model:{value:t.fileName,callback:function(a){t.fileName=a},expression:"fileName"}})],1),n("v-flex",{staticClass:"px-0 pr-3",attrs:{xs12:"",sm3:""}},[n("v-text-field",{attrs:{label:"Số hiệu giấy tờ",box:"",clearable:"",rules:[function(t){return!!t||"Số hiệu giấy tờ là bắt buộc"}],required:""},model:{value:t.fileNo,callback:function(a){t.fileNo=a},expression:"fileNo"}})],1),n("v-flex",{staticClass:"px-0 pr-3",attrs:{xs12:"",sm3:""}},[n("v-text-field",{attrs:{label:"Ngày cấp",placeholder:"dd/mm/yyyy, ddmmyyyy",box:"",clearable:"",rules:[function(t){return!!t||"Ngày cấp là bắt buộc"}],required:""},on:{blur:t.formatDate},model:{value:t.createDate,callback:function(a){t.createDate=a},expression:"createDate"}})],1),n("v-flex",{staticClass:"px-0 pr-3",attrs:{xs12:"",sm3:""}},[n("v-text-field",{attrs:{label:"Ngày hết hạn",placeholder:"dd/mm/yyyy, ddmmyyyy",box:"",clearable:""},on:{blur:t.formatExpireDate},model:{value:t.expireDate,callback:function(a){t.expireDate=a},expression:"expireDate"}})],1),n("v-flex",{staticClass:"px-0",attrs:{xs12:"",sm3:""}},[n("v-autocomplete",{attrs:{items:t.statusList,label:"Tình trạng","item-text":"text","item-value":"value","hide-selected":!0,box:"",rules:[function(t){return""!==t&&null!==t||"Tình trạng là bắt buộc"}],required:""},model:{value:t.statusCreate,callback:function(a){t.statusCreate=a},expression:"statusCreate"}})],1),n("v-flex",{staticClass:"px-0",attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Đơn vị cấp",box:"",clearable:"",rules:[function(t){return!!t||"Đơn vị cấp là bắt buộc"}],required:""},model:{value:t.govAgencyCreate,callback:function(a){t.govAgencyCreate=a},expression:"govAgencyCreate"}})],1),n("v-flex",{staticClass:"px-0 pr-3",attrs:{xs12:"",sm6:""}},[n("v-text-field",{attrs:{label:"Số cmnd/cccd, MST doanh nghiệp, tổ chức",box:"",clearable:"",rules:[function(t){return!!t||"Thông tin bắt buộc"}],required:""},model:{value:t.applicantIdNoCreate,callback:function(a){t.applicantIdNoCreate=a},expression:"applicantIdNoCreate"}})],1),n("v-flex",{staticClass:"px-0",attrs:{xs12:"",sm6:""}},[n("v-text-field",{attrs:{label:"Chủ sở hữu",box:"",clearable:"",rules:[function(t){return!!t||"Chủ sở hữu giấy tờ là bắt buộc"}],required:""},model:{value:t.applicantNameCreate,callback:function(a){t.applicantNameCreate=a},expression:"applicantNameCreate"}})],1),n("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[t.fileNameView?n("div",{staticClass:"pb-3",on:{click:function(a){return t.viewDocument(t.documentSelect)}}},[n("v-icon",{attrs:{size:"18",color:"red"}},[t._v("fa fa-file-pdf-o")]),n("a",{staticClass:"ml-2",staticStyle:{"font-style":"italic","font-size":"14px","text-decoration":"underline"}},[t._v(t._s(t.fileNameView))])],1):t._e(),n("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"documentFile"},on:{input:function(a){return t.uploadDocumentFile(a)}}}),n("v-btn",{staticClass:"mx-0 px-0 mr-4 d-inline-block",staticStyle:{width:"175px"},attrs:{block:"",color:"primary",dark:""},nativeOn:{click:function(a){return t.uploadFile()}}},[n("v-icon",{attrs:{size:"16"}},[t._v("fas fa fa-upload")]),t._v("    \n              Tải lên giấy tờ\n            ")],1),n("v-btn",{staticClass:"mx-0 px-0 d-inline-block",staticStyle:{width:"230px"},attrs:{block:"",color:"primary",dark:""},nativeOn:{click:function(a){return t.vgsignCopy("https://kiemthu-mt-gov-vn-9001.fds.vn")}}},[n("v-icon",{attrs:{size:"16"}},[t._v("border_color")]),t._v("    \n              Tải lên và ký duyệt giấy tờ\n            ")],1),t.fileTemplateNoCreate&&t.fileTemplateNoCreate.fileType?n("div",[n("span",{staticStyle:{color:"red"}},[t._v("(*) ")]),n("span",[t._v("File tải lên chấp nhận các định dạng: "+t._s(t.fileTemplateNoCreate.fileType)+" .")])]):t._e()],1)],1)],1),n("v-flex",{staticClass:"text-right"},[n("v-btn",{staticClass:"mr-2 white--text",attrs:{color:"red",disabled:t.loadingAction},nativeOn:{click:function(a){t.showDetail=!1}}},[n("v-icon",[t._v("clear")]),t._v("  \n          Thoát\n        ")],1),"create"===t.typeCreate?n("v-btn",{staticClass:"mr-0",attrs:{color:"primary",disabled:t.loadingAction},nativeOn:{click:function(a){return t.createDocument(a)}}},[n("v-icon",[t._v("save")]),t._v("  \n          "),n("span",[t._v("Thêm giấy tờ")])],1):n("v-btn",{staticClass:"mr-0",attrs:{disabled:t.loadingAction,color:"primary"},nativeOn:{click:function(a){return t.updateDocument(a)}}},[n("v-icon",[t._v("save")]),t._v("  \n          "),n("span",[t._v("Cập nhật giấy tờ")])],1)],1)],1):n("v-card-text",{staticClass:"px-0 pt-0"},[n("v-card-text",{staticClass:"py-0 px-0"},[n("v-layout",{staticClass:"px-0 py-3",attrs:{wrap:""}},[n("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm5:""}},[n("div",{staticClass:"xs12 sm12 pb-1 mb-1"},[n("span",{staticClass:"pr-2"},[t._v(t._s(t.nameTitle)+": ")]),n("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.applicantInfos.applicantName))])])]),n("v-flex",{staticClass:"mb-1",attrs:{xs12:"",sm7:""}},[n("div",{staticClass:"xs12 sm12 pb-1"},[n("span",{staticClass:"pr-2"},[t._v(t._s(t.creditTitle)+": ")]),n("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.applicantInfos.applicantIdNo))])])]),n("v-flex",{staticClass:"pr-2 mb-1",attrs:{xs12:"",sm5:""}},[n("div",{staticClass:"xs12 sm12 pb-1"},[n("span",{staticClass:"pr-2"},[t._v("Điện thoại: ")]),n("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.applicantInfos.contactTelNo)+" ")])])]),n("v-flex",{staticClass:"mb-1",attrs:{xs12:"",sm7:""}},[n("div",{staticClass:"xs12 sm12 pb-1"},[n("span",{staticClass:"pl-0"},[t._v("Thư điện tử: ")]),n("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.applicantInfos.contactEmail)+" ")])])]),n("v-flex",{attrs:{xs12:""}},[n("div",{staticClass:"xs12 sm12 pb-1"},[n("span",{staticClass:"pr-2"},[t._v("Địa chỉ: ")]),n("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(String(t.applicantInfos.address).replace(/\./g,""))+" "+t._s(t.applicantInfos.wardName)),t.applicantInfos.wardName?n("span",[t._v(", "+t._s(t.applicantInfos.districtName)+", "+t._s(t.applicantInfos.cityName))]):t._e()])])])],1)],1),n("v-layout",{staticClass:"mt-0",attrs:{wrap:""}},[n("v-flex",{staticClass:"px-0 pr-3",attrs:{xs12:"",md6:""}},[n("v-autocomplete",{attrs:{items:t.serviceInfoList,label:"Chọn thủ tục hành chính","item-text":"serviceName","item-value":"serviceCode","return-object":"","hide-selected":!0,box:"",clearable:""},on:{change:function(a){return t.changeService("search")}},model:{value:t.serviceInfoSearch,callback:function(a){t.serviceInfoSearch=a},expression:"serviceInfoSearch"}})],1),n("v-flex",{staticClass:"px-0",attrs:{xs12:"",md6:""}},[n("v-autocomplete",{attrs:{items:t.optionListSearch,label:"Chọn trường hợp","item-text":"optionName","item-value":"templateNo","return-object":"","hide-selected":!0,box:"",clearable:""},model:{value:t.optionSearch,callback:function(a){t.optionSearch=a},expression:"optionSearch"}})],1),n("v-flex",{staticClass:"px-0 pr-3",attrs:{xs12:"",sm6:""}},[n("v-autocomplete",{attrs:{items:t.fileTemplateListSeach,label:"Chọn loại giấy tờ","item-text":"partName","item-value":"fileTemplateNo","hide-selected":!0,clearable:"",box:""},on:{change:t.changeFilterSearch},model:{value:t.fileTemplateNo,callback:function(a){t.fileTemplateNo=a},expression:"fileTemplateNo"}})],1),n("v-flex",{staticClass:"px-0",attrs:{xs12:"",sm6:""}},[n("v-autocomplete",{attrs:{items:t.statusList,label:"Chọn tình trạng","item-text":"text","item-value":"value","hide-selected":!0,box:""},on:{change:t.changeFilterSearch},model:{value:t.status,callback:function(a){t.status=a},expression:"status"}})],1),n("v-flex",{staticClass:"px-0 pr-3",attrs:{xs12:"",sm6:""}},[n("v-text-field",{attrs:{label:"Tìm theo tên giấy tờ","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.changeFilterSearch(a)},"click:clear":t.changeFilterSearch,"click:append":t.changeFilterSearch},model:{value:t.keySearch,callback:function(a){t.keySearch=a},expression:"keySearch"}})],1),n("v-flex",{attrs:{xs12:"",sm6:""}},[n("v-text-field",{attrs:{label:"Tìm theo mã giấy tờ","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.changeFilterSearch(a)},"click:clear":t.changeFilterSearch,"click:append":t.changeFilterSearch},model:{value:t.fileNoSearch,callback:function(a){t.fileNoSearch=a},expression:"fileNoSearch"}})],1)],1),n("v-flex",{staticStyle:{width:"100%",height:"32px"}},[n("v-btn",{staticClass:"mx-0 my-0 right",attrs:{color:"primary",dark:""},nativeOn:{click:function(a){return t.showCreatedocument(a)}}},[n("v-icon",{attrs:{size:"18"}},[t._v("add")]),t._v("   Thêm giấy tờ\n        ")],1)],1),n("v-data-table",{staticClass:"table-landing table-bordered mt-2",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.documentListHeader,items:t.documentApplicantList,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(a){return[n("tr",{class:{active:a.index%2==1},staticStyle:{cursor:"pointer"}},[n("td",{staticClass:"text-xs-center",staticStyle:{width:"50px",height:"36px"}},[t.loadingTable?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[n("span",[t._v(t._s(t.documentPage*t.numberPerPage-t.numberPerPage+a.index+1))])])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px","min-width":"450px"}},[t.loadingTable?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[n("span",[t._v(t._s(a.item.hasOwnProperty("fileName")?a.item.fileName:""))])])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px","min-width":"150px"}},[t.loadingTable?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[n("span",[t._v(t._s(a.item.hasOwnProperty("fileNo")?a.item.fileNo:""))])])],1),n("td",{staticClass:"text-xs-left",staticStyle:{height:"36px","min-width":"150px"}},[t.loadingTable?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[n("span",[t._v(t._s(a.item.hasOwnProperty("createDate")?a.item.createDate:""))])])],1),n("td",{staticClass:"text-xs-center",staticStyle:{height:"36px",width:"135px"}},[t.loadingTable?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[n("span",{style:1===a.item.status?"color: green":2===a.item.status?"color: red":"color: orange"},[t._v("\n                  "+t._s(a.item.hasOwnProperty("status")?t.getStatus(a.item.status):"")+"\n                ")])])],1),n("td",{staticClass:"text-right",staticStyle:{height:"36px",width:"150px"}},[t.loadingTable?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),!t.loadingTable&&a.item.fileEntryId?n("v-tooltip",{staticClass:"mr-2",attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"blue",flat:"",icon:""},on:{click:function(n){return t.viewDocument(a.item)}},slot:"activator"},[n("v-icon",{attrs:{size:"22"}},[t._v("visibility")])],1),n("span",[t._v("Xem giấy tờ")])],1):t._e(),!t.loadingTable&&a.item.fileEntryId?n("v-tooltip",{staticClass:"mr-2",attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"blue",flat:"",icon:""},on:{click:function(n){return t.downloadDocument(a.item)}},slot:"activator"},[n("v-icon",{attrs:{size:"22"}},[t._v("fas fa fa-download")])],1),n("span",[t._v("Tải xuống")])],1):t._e(),t.loadingTable?t._e():n("v-tooltip",{staticClass:"mr-2",attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"green",flat:"",icon:""},on:{click:function(n){return t.showEditDocument(a.item)}},slot:"activator"},[n("v-icon",{attrs:{size:"22"}},[t._v("edit")])],1),n("span",[t._v("Số hóa, cập nhật giấy tờ")])],1)],1)])]}}],null,!1,149747622)},[n("template",{slot:"no-data"},[n("div",{staticClass:"text-xs-center mt-2"},[t._v("\n            Không có giấy tờ\n          ")])])],2),t.totalDocument>t.numberPerPage?n("div",{staticClass:"my-2"},[n("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[n("div",{staticClass:"flex pagging-table"},[n("tiny-pagination",{attrs:{total:t.totalDocument,page:t.documentPage,numberPerPage:t.numberPerPage,nameRecord:"giấy tờ","custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.changePage}})],1)])]):t._e()],1)],1),n("v-dialog",{attrs:{"max-width":"1200",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(a){t.dialogPDF=a},expression:"dialogPDF"}},[n("v-card",[n("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Giấy tờ đính kèm")]),n("v-spacer"),n("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(a){t.dialogPDF=!1}}},[n("v-icon",[t._v("close")])],1)],1),n("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),n("v-dialog",{attrs:{"max-width":"1200",transition:"fade-transition"},model:{value:t.dialogViewFileSign,callback:function(a){t.dialogViewFileSign=a},expression:"dialogViewFileSign"}},[n("v-card",[n("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[n("v-toolbar-title"),n("v-spacer"),n("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(a){t.dialogViewFileSign=!1}}},[n("v-icon",[t._v("close")])],1)],1),n("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogEsignPreview",src:t.pathNameFileESign,type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),n("div",{staticStyle:{display:"none"}},[n("a",{attrs:{id:"downloadFile",href:t.srcDownload,download:""}})])],1)},ot=[],st=n("1157"),ct=n.n(st);function rt(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}e["default"].use(I.a);var lt=(et={props:["index"],components:{"tiny-pagination":B},data:function(){return{isDvc:!1,applicantInfos:"",nameTitle:"",creditTitle:"",documentApplicantList:"",totalDocument:0,documentPage:1,numberPerPage:15,statusList:[{text:"Yêu cầu số hóa",value:0},{text:"Có hiệu lực",value:1},{text:"Hết hiệu lực",value:2},{text:"Hủy",value:3}],status:1,statusCreate:"",serviceInfoList:[],serviceInfoCreate:"",serviceInfoSearch:"",optionList:[],optionListSearch:[],optionSearch:"",optionCreate:"",fileTemplateNoCreate:"",fileTemplateList:[],fileTemplateListSeach:[],fileTemplateNo:"",fileName:"",fileNo:"",createDate:"",expireDate:"",govAgencyCreate:"",applicantIdNoCreate:"",applicantNameCreate:"",fileUpdate:"",fileNameUpdate:"",fileNoSearch:"",keySearch:"",dialog_createDocument:!1,showDetail:!1,updateFile:!1,loadingAction:!1,loadingTable:!1,dialogPDF:!1,dialogViewFileSign:!1,valid:!1,documentListHeader:[{text:"STT",align:"center",sortable:!1},{text:"Tên giấy tờ",align:"center",sortable:!1},{text:"Số hiệu giấy tờ",align:"center",sortable:!1},{text:"Ngày tạo",align:"center",sortable:!1},{text:"Tình trạng",align:"center",sortable:!1},{text:"Thao tác",align:"center",sortable:!1}],maxFileSize:100,typeCreate:"create",documentSelect:"",fileNameView:"",srcDownload:"",fileEntryESign:"",pathNameFileESign:"",hasEsign:!1}},computed:{},watch:{$route:function(t,a){t.params,t.query}},created:function(){var t=this;t.$nextTick((function(){try{t.isDvc=isDvc}catch(n){}t.$router.history.current,t.$router.history.current.query;var a=t.$store.getters.getApplicantInfos;a?(t.applicantInfos=a,t.getApplicantType(t.applicantInfos),t.getApplicantDocument()):t.getApplicantList(),t.getServiceInfoItems()}))},mounted:function(){}},rt(et,"watch",{fileTemplateNoCreate:function(t){var a=this;t&&"create"===a.typeCreate&&(a.fileName=t.partName)}}),rt(et,"methods",{vgsignCopy:function(){var t=this;t.hasEsign=!0;var a={};a["FileUploadHandler"]=window.themeDisplay.getPortalURL()+"/o/rest/v2/vgca/fileupload",a["SessionId"]="",a["FileName"]="";var n=function(a){var n=JSON.parse(a);if(console.log("received_msg",n),0===n.Status){var e;try{e=JSON.parse(n.FileServer),t.fileEntryESign=e.fileEntryId,"https:"===window.top.location.protocol&&(e.url=e.url.replace("http:","https:")),e.url=e.url.replace(":80/","/"),t.pathNameFileESign=e.url,t.fileNameView=e.url}catch(i){}console.log("dataSigned",e),I.a.clear(),I.a.success("Giấy tờ đã được ký duyệt"),t.dialogViewFileSign=!0}else n.Message?(I.a.clear(),I.a.error(n.Message)):(I.a.clear(),I.a.error("Ký duyệt không thành công"))},e=JSON.stringify(a);vgca_sign_approved(e,n)},getApplicantInfos:function(){var t=this,a={applicantId:t.index};t.$store.dispatch("getApplicantInfos",a).then((function(a){t.applicantInfos=a,t.getApplicantType(t.applicantInfos)})).catch((function(){}))},getApplicantList:function(){var t=this,a="/o/rest/v2/applicants",n={headers:{},params:{start:0,end:1,idNo:t.index}};r.a.get(a,n).then((function(a){a.data.hasOwnProperty("data")&&(t.applicantInfos=a.data.data[0],t.getApplicantType(t.applicantInfos),t.getApplicantDocument())})).catch((function(){}))},getApplicantDocument:function(){var t=this,a={start:t.documentPage*t.numberPerPage-t.numberPerPage,end:t.documentPage*t.numberPerPage,applicantIdNo:t.applicantInfos.applicantIdNo,fileTemplateNo:t.fileTemplateNo,status:t.status,keywordSearch:t.keySearch,fileNoSearch:t.fileNoSearch,applicantDataType:""};t.loadingTable=!0,t.isDvc?t.$store.dispatch("getApplicantDocumentFromDvc",a).then((function(a){a.hasOwnProperty("data")?t.documentApplicantList=a.data:t.documentApplicantList=[],t.totalDocument=a["total"],t.loadingTable=!1})).catch((function(){t.loadingTable=!1,t.documentApplicantList=[],t.totalDocument=0})):t.$store.dispatch("getApplicantDocument",a).then((function(a){a.hasOwnProperty("data")?t.documentApplicantList=a.data:t.documentApplicantList=[],t.totalDocument=a["total"],t.loadingTable=!1})).catch((function(){t.loadingTable=!1,t.documentApplicantList=[],t.totalDocument=0}))},uploadFile:function(){var t=this;t.hasEsign=!1,document.getElementById("documentFile").value="",document.getElementById("documentFile").click()},uploadDocumentFile:function(t){var a=this,n=ct()("#documentFile")[0].files,e=n[0],i="",o=a.validFileUpload(e);o&&(a.updateFile=!0,e["name"]&&(i=e["name"].replace(/\%/g,""),i=i.replace(/\//g,""),i=i.replace(/\\/g,""),i=i.replace(/\s/g,"")),a.fileUpdate=e,a.fileNameUpdate=i,a.fileNameView=i)},getFileItems:function(){var t=this,a={status:1};t.isDvc?t.$store.dispatch("getFileItemsFromDvc",a).then((function(a){a.hasOwnProperty("data")?t.fileTemplateList=a.data:t.fileTemplateList=[]})).catch((function(){})):t.$store.dispatch("getFileItems",a).then((function(a){a.hasOwnProperty("data")?t.fileTemplateList=a.data:t.fileTemplateList=[]})).catch((function(){}))},getServiceInfoItems:function(){var t=this,a={};t.$store.dispatch("getServiceInfoItems",a).then((function(a){a.hasOwnProperty("data")?t.serviceInfoList=a.data:t.serviceInfoList=[],t.optionList=[],t.optionCreate="",t.fileTemplateList=[],t.fileTemplateNoCreate=""})).catch((function(){}))},changeService:function(t){var a=this;setTimeout((function(){if("create"===t){if(a.serviceInfoCreate?a.optionList=a.serviceInfoCreate.options:a.optionList=[],a.optionCreate="",a.fileTemplateList=[],a.fileTemplateNoCreate="",a.optionList&&1===a.optionList.length)if(a.optionCreate=a.optionList[0],a.optionCreate){var n={dossierTemplateNo:a.optionCreate.templateNo};a.$store.dispatch("getDossierPart",n).then((function(t){t.hasOwnProperty("dossierParts")?(a.fileTemplateList=t.dossierParts,a.fileTemplateNoCreate=""):a.fileTemplateList=[],a.fileTemplateList&&1===a.fileTemplateList.length&&(a.fileTemplateNoCreate=a.fileTemplateList[0])})).catch((function(){}))}else a.fileTemplateList=[],a.fileTemplateNoCreate=""}else if(a.serviceInfoSearch?a.optionListSearch=a.serviceInfoSearch.options:a.optionListSearch=[],a.optionSearch="",a.fileTemplateListSeach=[],a.fileTemplateNo="",a.optionListSearch&&1===a.optionListSearch.length&&(a.optionSearch=a.optionListSearch[0]),a.optionSearch){var e={dossierTemplateNo:a.optionSearch.templateNo};a.$store.dispatch("getDossierPart",e).then((function(t){t.hasOwnProperty("dossierParts")?(a.fileTemplateListSeach=t.dossierParts,a.fileTemplateNo=""):a.fileTemplateListSeach=[],a.fileTemplateListSeach&&1===a.fileTemplateListSeach.length&&(a.fileTemplateNo=a.fileTemplateListSeach[0])})).catch((function(){}))}else a.fileTemplateListSeach=[],a.fileTemplateNo=""}),200)},changeOption:function(){var t=this;setTimeout((function(){if(t.optionCreate){var a={dossierTemplateNo:t.optionCreate.templateNo};t.$store.dispatch("getDossierPart",a).then((function(a){a.hasOwnProperty("dossierParts")?(t.fileTemplateList=a.dossierParts,t.fileTemplateNoCreate=""):t.fileTemplateList=[],t.fileTemplateList&&1===t.fileTemplateList.length&&(t.fileTemplateNoCreate=t.fileTemplateList[0])})).catch((function(){}))}else t.fileTemplateList=[],t.fileTemplateNoCreate=""}),200)},showCreatedocument:function(){var t=this;t.showDetail=!0,t.typeCreate="create",t.pathNameFileESign="",t.fileNameView="",t.statusCreate=1,t.fileName="",t.fileNo="",t.applicantIdNoCreate=t.applicantInfos.applicantIdNo,t.applicantNameCreate=t.applicantInfos.applicantName},createDocument:function(){var t=this;if(t.hasEsign)t.createDocumentKySo();else{var a=!0;if(t.updateFile){var n=ct()("#documentFile")[0].files,e=n[0];a=t.validFileUpload(e)}if(!a)return;if(t.$refs.form.validate())if(t.fileNameView){t.loadingAction=!0;t.fileTemplateNoCreate.fileTemplateNo,t.statusCreate&&t.statusCreate,t.fileNo,t.fileName,t.applicantInfos.applicantIdNo;var i={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},o=new FormData,s="/o/rest/v2/applicantdatas";o.append("fileTemplateNo",t.fileTemplateNoCreate.fileTemplateNo),o.append("status",t.statusCreate?t.statusCreate:1),o.append("fileNo",t.fileNo),o.append("fileName",t.fileName),o.append("applicantIdNo",t.applicantInfos.applicantIdNo),o.append("applicantName",t.applicantInfos.applicantName),o.append("file",t.fileUpdate),o.append("govAgencyName",t.govAgencyCreate),o.append("issueDate",t.createDate),o.append("expireDate",t.expireDate),o.append("desciption",""),o.append("serviceCode",t.serviceInfoCreate["serviceCode"]),o.append("templateNo",t.optionCreate["templateNo"]),o.append("dossierNo",""),r.a.post(s,o,i).then((function(a){t.loadingAction=!1,I.a.success("Thêm mới giấy tờ thành công"),t.dialog_createDocument=!1,t.showDetail=!1,setTimeout((function(){t.getApplicantDocument()}),200)})).catch((function(a){t.loadingAction=!1,I.a.error("Thêm mới thất bại. Vui lòng thử lại.")}))}else I.a.clear(),I.a.error("Vui lòng đính kèm giấy tờ")}},createDocumentKySo:function(){var t=this;if(t.$refs.form.validate())if(t.fileNameView){t.loadingAction=!0;t.fileTemplateNoCreate.fileTemplateNo,t.statusCreate&&t.statusCreate,t.fileNo,t.fileName,t.applicantInfos.applicantIdNo;var a={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},n=new FormData,e="/o/rest/v2/applicantdatas";n.append("fileTemplateNo",t.fileTemplateNoCreate.fileTemplateNo),n.append("status",t.statusCreate?t.statusCreate:1),n.append("fileNo",t.fileNo),n.append("fileName",t.fileName),n.append("applicantIdNo",t.applicantInfos.applicantIdNo),n.append("applicantName",t.applicantInfos.applicantName),n.append("fileEntryId",t.fileEntryESign),n.append("govAgencyName",t.govAgencyCreate),n.append("issueDate",t.createDate),n.append("expireDate",t.expireDate),n.append("desciption",""),n.append("serviceCode",t.serviceInfoCreate["serviceCode"]),n.append("templateNo",t.optionCreate["templateNo"]),n.append("dossierNo",""),r.a.post(e,n,a).then((function(a){t.loadingAction=!1,I.a.success("Thêm mới giấy tờ thành công"),t.dialog_createDocument=!1,t.showDetail=!1,setTimeout((function(){t.getApplicantDocument()}),200)})).catch((function(a){t.loadingAction=!1,I.a.error("Thêm mới thất bại. Vui lòng thử lại.")}))}else I.a.clear(),I.a.error("Vui lòng đính kèm giấy tờ")},updateDocument:function(){var t=this;if(t.hasEsign)t.updateDocumentKySo();else{var a=!0;if(t.updateFile){var n=ct()("#documentFile")[0].files,e=n[0];a=t.validFileUpload(e)}if(!a)return;if(t.$refs.form.validate()){t.loadingAction=!0;t.fileTemplateNoCreate.fileTemplateNo,t.statusCreate&&t.statusCreate,t.fileNo,t.fileName,t.applicantInfos.applicantIdNo;var i={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},o=new FormData,s="/o/rest/v2/applicantdatas/"+t.documentSelect.applicantDataId;o.append("fileTemplateNo",t.fileTemplateNoCreate.fileTemplateNo),o.append("status",t.statusCreate?t.statusCreate:1),o.append("fileNo",t.fileNo),o.append("fileName",t.fileName),o.append("applicantIdNo",t.applicantInfos.applicantIdNo),o.append("applicantName",t.applicantInfos.applicantName),o.append("govAgencyName",t.govAgencyCreate),o.append("issueDate",t.createDate),o.append("expireDate",t.expireDate),o.append("desciption",""),o.append("serviceCode",t.serviceInfoCreate["serviceCode"]),o.append("templateNo",t.optionCreate["templateNo"]),o.append("dossierNo",""),t.updateFile?o.append("file",t.fileUpdate):o.append("file",""),r.a.put(s,o,i).then((function(a){t.loadingAction=!1,I.a.success("Cập nhật giấy tờ thành công"),t.dialog_createDocument=!1,t.showDetail=!1,setTimeout((function(){t.getApplicantDocument()}),200)})).catch((function(a){t.loadingAction=!1,I.a.error("Cập nhật thất bại. Vui lòng thử lại.")}))}}},updateDocumentKySo:function(){var t=this;if(t.$refs.form.validate()){t.loadingAction=!0;t.fileTemplateNoCreate.fileTemplateNo,t.statusCreate&&t.statusCreate,t.fileNo,t.fileName,t.applicantInfos.applicantIdNo;var a={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},n=new FormData,e="/o/rest/v2/applicantdatas/"+t.documentSelect.applicantDataId;n.append("fileTemplateNo",t.fileTemplateNoCreate.fileTemplateNo),n.append("status",t.statusCreate?t.statusCreate:1),n.append("fileNo",t.fileNo),n.append("fileName",t.fileName),n.append("applicantIdNo",t.applicantInfos.applicantIdNo),n.append("applicantName",t.applicantInfos.applicantName),n.append("fileEntryId",t.fileEntryESign),n.append("govAgencyName",""),n.append("issueDate",""),n.append("expireDate",""),n.append("desciption",""),n.append("serviceCode",t.serviceInfoCreate["serviceCode"]),n.append("templateNo",t.optionCreate["templateNo"]),n.append("dossierNo",""),r.a.put(e,n,a).then((function(a){t.loadingAction=!1,I.a.success("Cập nhật giấy tờ thành công"),t.dialog_createDocument=!1,t.showDetail=!1,setTimeout((function(){t.getApplicantDocument()}),200)})).catch((function(a){t.loadingAction=!1,I.a.error("Cập nhật thất bại. Vui lòng thử lại.")}))}},getDocumentTypeIcon:function(t){var a="doc,docx",n="xls,xlsx",e="png,jpg,jpeg";return t?a.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-word-o",color:"blue",size:14}:n.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-excel-o",color:"green",size:14}:"pdf"===t.toLowerCase()?{icon:"fa fa-file-pdf-o",color:"red",size:14}:e.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-image-o",color:"primary",size:14}:{icon:"fas fa fa-paperclip",color:"",size:14}:""},changeFilterSearch:function(){var t=this;t.documentPage=1,setTimeout((function(){t.getApplicantDocument()}),200)},changePage:function(t){var a=this;a.documentPage=t.page,a.getApplicantDocument()},showEditDocument:function(t){var a=this;ct()("html, body").animate({scrollTop:ct()("#top-header").offset().top},100,"linear"),a.documentSelect=t,a.typeCreate="update",a.fileNameView=t.fileEntryId?t.fileName:"",a.fileTemplateList&&0!=a.fileTemplateList.length||(a.fileTemplateList=[{partName:t.fileName,fileTemplateNo:t.fileTemplateNo}]),a.fileTemplateNoCreate=a.fileTemplateList.filter((function(a){return a.fileTemplateNo===t.fileTemplateNo}))[0],a.statusCreate=t.status,a.fileName=t.fileName,a.fileNo=t.fileNo,a.applicantIdNoCreate=a.applicantInfos.applicantIdNo,a.applicantNameCreate=a.applicantInfos.applicantName,a.createDate=t.issueDate?t.issueDate:"",a.expireDate=t.expireDate?t.expireDate:"",a.govAgencyCreate=t.govAgencyName?t.govAgencyName:"";try{a.serviceInfoCreate=a.serviceInfoList.filter((function(a){return a.serviceCode===t.serviceCode}))[0],a.serviceInfoCreate?a.optionList=a.serviceInfoCreate.options:a.optionList=[]}catch(n){}try{a.optionCreate=a.optionList.filter((function(a){return a.templateNo===t.templateNo}))[0]}catch(n){}a.showDetail=!0},validFileUpload:function(t){var a=this,n=!0,e=t.name?t.name.split("."):"",i=e?e[e.length-1]:"",o=a.fileTemplateNoCreate&&a.fileTemplateNoCreate.fileType?a.fileTemplateNoCreate.fileType.toUpperCase().split(","):"",s=a.fileTemplateNoCreate&&a.fileTemplateNoCreate.size?a.fileTemplateNoCreate.size:a.maxFileSize,c=o?o.filter((function(t){return t===i.toUpperCase()})):"";return c&&c.length>0||!o?Number(t.size)<=1048576*s||!s?n=!0:(n=!1,I.a.clear(),I.a.error("Giấy tờ tải lên dung lượng tối đa là "+s+"MB")):(n=!1,I.a.clear(),I.a.error("Giấy tờ tải lên chỉ chấp nhận các định dạng "+a.fileTemplateNoCreate.fileType)),n},downloadDocument:function(t){var a=this;a.srcDownload="";t.filePath;var n={applicantDataId:t.applicantDataId};a.isDvc?a.$store.dispatch("getFileAttachProxy",n).then((function(t){a.srcDownload=t,setTimeout((function(){document.getElementById("downloadFile").click()}),100)})).catch((function(){})):a.$store.dispatch("getFileAttach",n).then((function(t){a.srcDownload=t,setTimeout((function(){document.getElementById("downloadFile").click()}),100)})).catch((function(){}))},viewDocument:function(t){var a=this;if(a.pathNameFileESign)a.dialogViewFileSign=!0;else{a.srcDownload="";var n={applicantDataId:t.applicantDataId};a.isDvc?a.$store.dispatch("getFileAttachProxy",n).then((function(n){var e=t.fileExtension.toLowerCase();"png"===e||"jpg"===e||"jpeg"===e||"pdf"===e||"gif"===e||"tif"===e||"tiff"===e?(a.dialogPDF=!0,document.getElementById("dialogPDFPreview").src=n):(a.srcDownload=n,setTimeout((function(){document.getElementById("downloadFile").click()}),100))})).catch((function(){})):a.$store.dispatch("getFileAttach",n).then((function(n){var e=t.fileExtension.toLowerCase();"png"===e||"jpg"===e||"jpeg"===e||"pdf"===e||"gif"===e||"tif"===e||"tiff"===e?(a.dialogPDF=!0,document.getElementById("dialogPDFPreview").src=n):(a.srcDownload=n,setTimeout((function(){document.getElementById("downloadFile").click()}),100))})).catch((function(){}))}},getApplicantType:function(t){var a=this;""===t.applicantIdType?(a.nameTitle="Tên công dân, tổ chức, doanh nghiệp",a.creditTitle="Số CMND/ căn cước, mã số thuế doanh nghiệp"):"citizen"===t.applicantIdType?(a.nameTitle="Tên công dân",a.creditTitle="Số CMND/ căn cước"):"business"===t.applicantIdType?(a.nameTitle="Tên doanh nghiệp",a.creditTitle="Mã số thuế doanh nghiệp"):(a.nameTitle="Tên cơ quan, tổ chức",a.creditTitle="Mã cơ quan, tổ chức")},getStatus:function(t){return"0"===String(t)?"Yêu cầu số hóa":"1"===String(t)?"Có hiệu lực":"2"===String(t)?"Hết hiệu lực":"3"===String(t)?"Hủy":void 0},formatDate:function(){var t=this,a=String(t.createDate).trim().length,n=String(t.createDate).split("/");if(a&&a>4&&3===n.length&&n[2])t.createDate=t.translateDate(t.createDate);else if(a&&8===a){var e=String(t.createDate);t.createDate=e.slice(0,2)+"/"+e.slice(2,4)+"/"+e.slice(4,8)}else t.createDate=""},formatExpireDate:function(){var t=this,a=String(t.expireDate).trim().length,n=String(t.expireDate).split("/");if(a&&a>4&&3===n.length&&n[2])t.expireDate=t.translateDate(t.expireDate);else if(a&&8===a){var e=String(t.expireDate);t.expireDate=e.slice(0,2)+"/"+e.slice(2,4)+"/"+e.slice(4,8)}else t.expireDate=""},goBack:function(){var t=this;t.showDetail?t.showDetail=!1:window.history.back()}}),et),ht=lt,ut=n("169a"),dt=n("4bd4"),pt=n("9910"),gt=n("71d9"),mt=n("2a7f"),vt=Object(u["a"])(ht,it,ot,!1,null,null,null),ft=vt.exports;p()(vt,{VAutocomplete:X["a"],VBtn:Q["a"],VCard:G["a"],VCardText:U["b"],VDataTable:R["a"],VDialog:ut["a"],VFlex:S["a"],VForm:dt["a"],VIcon:J["a"],VLayout:k["a"],VSpacer:pt["a"],VTextField:W["a"],VToolbar:gt["a"],VToolbarTitle:mt["b"],VTooltip:tt["a"]});var Tt,Ct=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("vue-confirm-dialog"),n("v-layout",{staticStyle:{background:"#fff"},attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",md8:""}},[n("div",{staticClass:"row-header no__hidden_class"},[n("div",{staticClass:"background-triangle-big"},[n("span",[t._v("THÔNG TIN CÔNG DÂN")])]),n("div",{staticClass:"layout row wrap header_tools row-blue mx-1"},[n("div",{staticClass:"flex text-right",staticStyle:{"margin-left":"auto"}},[n("v-btn",{staticClass:"mx-0 mr-2",attrs:{small:"",color:"primary"},on:{click:function(a){return t.goBack()}}},[n("v-icon",{attrs:{size:"18"}},[t._v("reply")]),t._v(" \n                    "),n("span",[t._v("Quay lại")])],1),1==t.quyenTraCuuLgsp||2==t.quyenTraCuuLgsp?n("v-btn",{staticClass:"mx-0 mr-2",attrs:{small:"",color:"primary",loading:t.loadingSearchLgsp,disabled:t.loadingSearchLgsp},on:{click:function(a){return t.checkCsdldc()}}},[n("v-icon",{attrs:{size:"18"}},[t._v("check")]),t._v(" \n                    "),n("span",[t._v("Kiểm tra thông tin CSDL dân cư")])],1):t._e(),n("v-btn",{staticClass:"mx-0",attrs:{small:"",color:"primary"},on:{click:function(a){return t.editCongDan(t.thongTinCongDan["primKey"])}}},[n("v-icon",{attrs:{size:"18"}},[t._v("edit")]),t._v(" \n                    "),n("span",[t._v("Cập nhật thông tin")])],1)],1)])]),n("div",[2==t.thongTinCongDan["trangThaiDuLieu"]["maMuc"]?n("div",{staticClass:"my-3"},[n("v-icon",{attrs:{color:"green darken-2"}},[t._v("\n                verified\n              ")]),n("span",{staticClass:"ml-2",staticStyle:{color:"#388E3C","text-transform":"uppercase","font-weight":"bold"}},[t._v(t._s(t.thongTinCongDan["trangThaiDuLieu"]["tenMuc"]))])],1):t._e(),1==t.thongTinCongDan["trangThaiDuLieu"]["maMuc"]?n("div",{staticClass:"my-3"},[n("v-icon",{attrs:{color:"red darken-2"}},[t._v("\n                do_disturb\n              ")]),n("span",{staticClass:"ml-2",staticStyle:{color:"#D32F2F","text-transform":"uppercase","font-weight":"bold"}},[t._v(t._s(t.thongTinCongDan["trangThaiDuLieu"]["tenMuc"]))])],1):t._e(),n("table",{staticClass:"cong-dan-info",staticStyle:{"border-bottom":"thin solid rgba(0, 0, 0, 0.12)"},attrs:{dense:!0}},[[n("tbody",t._l(t.thongTin,(function(a,e){return n("tr",{key:e,class:{"td-highlight":e%2===0}},[n("td",{staticClass:"py-2 px-2",staticStyle:{width:"200px","border-right":"1px solid #dedede"}},[n("strong",[t._v(t._s(a.lable))])]),"action"!==a.value?n("td",{staticClass:"py-2 px-2"},[a.type&&"date"===a.type?n("span",[t._v(t._s(t.dateLocale(t.thongTinCongDan[a.value])))]):"danhmuc"===a.type?n("span",[t._v(t._s(t.thongTinCongDan[a.value]?t.thongTinCongDan[a.value]["tenMuc"]:""))]):"address"===a.type?n("span",[t.thongTinCongDan[a.value]?n("span",[t._v("\n                              "+t._s(t.thongTinCongDan[a.value]["soNhaChiTiet"])+", "+t._s(t.thongTinCongDan[a.value]["phuongXa"]["tenMuc"])+" - \n                              "+t._s(t.thongTinCongDan[a.value]["quanHuyen"]["tenMuc"])+" - "+t._s(t.thongTinCongDan[a.value]["tinhThanh"]["tenMuc"])+"\n                            ")]):n("span")]):"sdt"===a.value?n("span",[t._v(t._s(t.thongTinCongDan["danhBaLienLac"]?t.thongTinCongDan["danhBaLienLac"]["soDienThoai"]:""))]):"email"===a.value?n("span",[t._v(t._s(t.thongTinCongDan["danhBaLienLac"]?t.thongTinCongDan["danhBaLienLac"]["thuDienTu"]:""))]):n("span",[t._v(t._s(t.thongTinCongDan[a.value]))])]):n("td",{staticClass:"py-2 px-2"},[n("v-btn",{attrs:{dark:"",text:"",color:"primary"}},[n("v-icon",{attrs:{dark:""}},[t._v("\n                                  mdi-plus\n                              ")])],1)],1)])})),0)]],2)])]),n("v-flex",{staticClass:"mt-0",attrs:{xs12:"",md4:""}},[n("v-card",{staticClass:"pt-4",staticStyle:{border:"1px solid rgb(222, 222, 222)","border-bottom-left-radius":"5px","border-bottom-right-radius":"5px","border-top":"none"},attrs:{flat:""}},[n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticClass:"mb-4",staticStyle:{width:"226px",height:"226px"},attrs:{src:"/o/hau-giang-theme/images/avt.png?t=98312312323"}}),n("h4",{staticClass:"title-page",staticStyle:{"font-size":"16px","font-weight":"bold",color:"#903938"}},[t._v(t._s(t.thongTinCongDan["hoVaTen"]))]),n("v-layout",{staticClass:"mt-4",staticStyle:{width:"350px"},attrs:{wrap:""}},[n("v-flex",{attrs:{xs5:""}},[t._v("Số CMND/ CCCD:")]),n("v-flex",{staticClass:"mb-2",attrs:{xs7:""}},[n("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.thongTinCongDan["maSoCaNhan"]))])]),n("v-flex",{staticClass:"pt-2",staticStyle:{"max-width":"100px"}},[t._v("Trạng thái: ")]),n("v-flex",[n("span",{staticClass:"font-weight-bold"},[t._v("\n                          "+t._s(t.thongTinCongDan&&t.thongTinCongDan["danhTinhDienTu"][0]&&t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["tenMuc"]?t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["tenMuc"]:"Chưa tạo tài khoản")+"\n                        ")]),n("v-tooltip",{attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 ml-2",attrs:{slot:"activator",color:"primary",flat:"",icon:""},on:{click:function(a){return t.viewLog()}},slot:"activator"},[n("v-icon",{attrs:{size:"22"}},[t._v("history")])],1),n("span",[t._v("Lịch sử thay đổi")])],1)],1)],1),t.thongTinCongDan?n("div",{staticClass:"d-flex justify-space-between w-full pb-2"},[t.thongTinCongDan["danhTinhDienTu"][0]&&2==t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["maMuc"]?n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:""},on:{click:function(a){return t.showChangePass()}}},[t._v("\n                        Đổi mật khẩu\n                      ")]):t._e(),t.thongTinCongDan["danhTinhDienTu"][0]?t._e():n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:"",loading:t.loadingSearchLgsp,disabled:t.loadingSearchLgsp},on:{click:function(a){return t.showCreateAcc()}}},[t._v("\n                          Tạo tài khoản\n                      ")]),t.thongTinCongDan["danhTinhDienTu"][0]&&1==t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["maMuc"]?n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:""},on:{click:function(a){return t.showChangeStatusAcc("active")}}},[t._v("\n                          Kích hoạt tài khoản\n                      ")]):t._e(),t.thongTinCongDan["danhTinhDienTu"][0]&&2==t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["maMuc"]?n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:""},on:{click:function(a){return t.showChangeStatusAcc("block")}}},[t._v("\n                          Khóa tài khoản\n                      ")]):t._e(),t.thongTinCongDan["danhTinhDienTu"][0]&&3==t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["maMuc"]?n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:""},on:{click:function(a){return t.showChangeStatusAcc("unlock")}}},[t._v("\n                          Mở khóa tài khoản\n                      ")]):t._e(),t.thongTinCongDan["danhTinhDienTu"][0]&&4==t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["maMuc"]?n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:""},on:{click:function(a){return t.showChangeStatusAcc("restore")}}},[t._v("\n                          Khôi phục tài khoản\n                      ")]):t._e(),t.thongTinCongDan["danhTinhDienTu"][0]&&3==t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["maMuc"]?n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:""},on:{click:function(a){return t.showChangeStatusAcc("delete")}}},[t._v("\n                        Xóa tài khoản\n                      ")]):t._e()],1):t._e(),t.thongTinCongDan&&t.thongTinCongDan["danhTinhDienTu"][0]?n("div",{staticClass:"d-flex justify-space-between w-full pb-2 "},[n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:""},on:{click:function(a){return t.printPhieu()}}},[t._v("\n                        In phiếu cấp tài khoản\n                    ")])],1):t._e()],1)])],1)],1),n("v-dialog",{attrs:{"max-width":"450",persistent:""},model:{value:t.dialogCreateAcc,callback:function(a){t.dialogCreateAcc=a},expression:"dialogCreateAcc"}},[n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Tạo tài khoản")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){t.dialogCreateAcc=!1}}},[n("v-icon",[t._v("clear")])],1)],1)],1),n("v-card-text",{staticClass:"mt-2"},[n("v-form",{ref:"formCreateAcc",attrs:{"lazy-validation":""},model:{value:t.validFormAdd,callback:function(a){t.validFormAdd=a},expression:"validFormAdd"}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[n("div",{staticClass:"text-label mb-2"},[n("span",[t._v("Mật khẩu tài khoản")]),n("span",{staticClass:"red--text"},[t._v(" (*)")])]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",rules:t.required,required:"","hide-details":"auto"},model:{value:t.passwordCreate,callback:function(a){t.passwordCreate=a},expression:"passwordCreate"}})],1)],1)],1)],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{staticClass:"white--text mr-2",attrs:{color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(a){t.dialogCreateAcc=!1}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              clear\n            ")]),t._v("\n            Thoát\n          ")],1),n("v-btn",{staticClass:"mr-2",attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(a){return t.createAccount(a)}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              save\n            ")]),n("span",[t._v("Tạo tài khoản")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"450",persistent:""},model:{value:t.dialogChangePass,callback:function(a){t.dialogChangePass=a},expression:"dialogChangePass"}},[n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Đổi mật khẩu")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){t.dialogChangePass=!1}}},[n("v-icon",[t._v("clear")])],1)],1)],1),n("v-card-text",{staticClass:"mt-2"},[n("v-form",{ref:"formChangePass",attrs:{"lazy-validation":""},model:{value:t.validFormChangePass,callback:function(a){t.validFormChangePass=a},expression:"validFormChangePass"}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[n("div",{staticClass:"text-label mb-2"},[n("span",[t._v("Mật khẩu mới")]),n("span",{staticClass:"red--text"},[t._v(" (*)")])]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",rules:t.required,required:"","hide-details":"auto"},model:{value:t.passwordChange,callback:function(a){t.passwordChange=a},expression:"passwordChange"}})],1)],1)],1)],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{staticClass:"white--text mr-2",attrs:{color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(a){t.dialogChangePass=!1}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              clear\n            ")]),t._v("\n            Thoát\n          ")],1),n("v-btn",{staticClass:"mr-2",attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(a){return t.submitChangePass(a)}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              save\n            ")]),n("span",[t._v("Xác nhận")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"650",persistent:""},model:{value:t.dialogNoteAction,callback:function(a){t.dialogNoteAction=a},expression:"dialogNoteAction"}},[n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v(t._s(t.titleAction))]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){t.dialogNoteAction=!1}}},[n("v-icon",[t._v("clear")])],1)],1)],1),n("v-card-text",{staticClass:"mt-2"},[n("v-form",{ref:"formActionAccount",attrs:{"lazy-validation":""},model:{value:t.validFormActionAccount,callback:function(a){t.validFormActionAccount=a},expression:"validFormActionAccount"}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[n("div",{staticClass:"text-label mb-2"},[n("span",[t._v("Nhập nội dung")])]),n("v-textarea",{staticClass:"input-form",attrs:{solo:"",dense:"","hide-details":"auto"},model:{value:t.noteAction,callback:function(a){t.noteAction=a},expression:"noteAction"}})],1)],1)],1)],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{staticClass:"white--text mr-2",attrs:{color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(a){t.dialogNoteAction=!1}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              clear\n            ")]),t._v("\n            Thoát\n          ")],1),n("v-btn",{staticClass:"mr-2",attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(a){return t.submitChangeStatusAcc(a)}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              save\n            ")]),n("span",[t._v("Xác nhận")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"900",persistent:""},model:{value:t.dialogStatusAccLog,callback:function(a){t.dialogStatusAccLog=a},expression:"dialogStatusAccLog"}},[n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Lịch sử thay đổi trạng thái tài khoản")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){t.dialogStatusAccLog=!1}}},[n("v-icon",[t._v("clear")])],1)],1)],1),n("v-card-text",{staticClass:"mt-2"},[n("v-data-table",{staticClass:"table-landing table-bordered mt-2",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.headersLog,items:t.logItems,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(a){return[n("tr",{class:{active:a.index%2==1},staticStyle:{cursor:"pointer"}},[n("td",{staticClass:"text-xs-center",staticStyle:{width:"50px",height:"36px"}},[n("div",[n("span",[t._v(t._s(a.index+1))])])]),n("td",{staticClass:"text-xs-left"},[n("div",{style:t.getLogActionName(a.item.activityCode)["color"]},[t._v("\n                      "+t._s(t.getLogActionName(a.item.activityCode)["name"])+"\n                  ")])]),n("td",{staticClass:"text-xs-left"},[n("div",[n("span",[t._v(t._s(a.item.activityNote))])])]),n("td",{staticClass:"text-xs-left"},[n("div",{staticClass:"font-weight-bold"},[t._v("\n                    "+t._s(a.item.createdBy.fullName)+"\n                  ")]),a.item.createdBy.email?n("div",[t._v("\n                    "+t._s(a.item.createdBy.email)+"\n                  ")]):t._e()]),n("td",{staticClass:"text-xs-left"},[n("div",[n("span",[t._v(t._s(t.dateLocaleTime(a.item.createdDate)))])])]),n("td",{staticClass:"text-xs-center",staticStyle:{height:"36px",width:"90px"}},[n("v-tooltip",{attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 mr-3 my-0",attrs:{slot:"activator",color:"green",flat:"",icon:""},on:{click:function(n){return t.editLog(a.item)}},slot:"activator"},[n("v-icon",{attrs:{size:"22"}},[t._v("edit")])],1),n("span",[t._v("Sửa nội dung")])],1)],1)])]}}])},[n("template",{slot:"no-data"},[n("div",{staticClass:"text-xs-center mt-2"},[t._v("\n                Không có lịch sử\n              ")])])],2)],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{staticClass:"white--text mr-2",attrs:{color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(a){t.dialogStatusAccLog=!1}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              clear\n            ")]),t._v("\n            Thoát\n          ")],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"650",persistent:""},model:{value:t.dialogChangeLog,callback:function(a){t.dialogChangeLog=a},expression:"dialogChangeLog"}},[n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Cập nhật nội dung")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){t.dialogChangeLog=!1}}},[n("v-icon",[t._v("clear")])],1)],1)],1),n("v-card-text",{staticClass:"mt-2"},[n("v-form",{ref:"formChangeLog",attrs:{"lazy-validation":""},model:{value:t.validFormChangeLog,callback:function(a){t.validFormChangeLog=a},expression:"validFormChangeLog"}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[n("v-textarea",{staticClass:"input-form",attrs:{solo:"",dense:"","hide-details":"auto"},model:{value:t.logChange,callback:function(a){t.logChange=a},expression:"logChange"}})],1)],1)],1)],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{staticClass:"mr-2",attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(a){return t.submitChangeLog(a)}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              save\n            ")]),n("span",[t._v("Xác nhận")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"900",persistent:""},model:{value:t.dialogPrint,callback:function(a){t.dialogPrint=a},expression:"dialogPrint"}},[n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Phiếu cấp tài khoản")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){t.dialogPrint=!1}}},[n("v-icon",[t._v("clear")])],1)],1)],1),n("v-card-text",{staticClass:"mt-2"},[n("div",{attrs:{id:"printPhieu_1"},domProps:{innerHTML:t._s(t.contentPrint)}})]),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{staticClass:"white--text mr-2",attrs:{color:"red"},on:{click:function(a){t.dialogPrint=!1}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              clear\n            ")]),t._v("\n            Thoát\n          ")],1),n("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},nativeOn:{click:function(a){return t.submitPrint(a)}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              mdi-printer\n            ")]),n("span",[t._v("In phiếu")])],1)],1)],1)],1),n("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:t.dialog_searchLgsp,callback:function(a){t.dialog_searchLgsp=a},expression:"dialog_searchLgsp"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Thông tin công dân trên CSDL Quốc gia")]),n("v-spacer"),n("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(a){t.dialog_searchLgsp=!1}}},[n("v-icon",[t._v("close")])],1)],1),n("v-card-text",{staticClass:"py-1"},[n("div",[t.applicantLgspInfomation?n("table",{staticClass:"datatable table my-3",staticStyle:{"border-top":"1px solid #dedede"}},[n("tbody",[n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Họ và tên công dân")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.HoVaTen["Ten"]))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Số căn cước công dân")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.SoDinhDanh))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Số chứng minh nhân dân")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.SoCMND))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Ngày sinh")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.dateLocale(t.thongTinCongDan.ngaySinh)))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Giới tính")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s("1"==t.applicantLgspInfomation.GioiTinh?"Nam":"2"==t.applicantLgspInfomation.GioiTinh?"Nữ":"Chưa có thông tin"))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Tình trạng hôn nhân")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s("2"==t.applicantLgspInfomation.TinhTrangHonNhan?"Đã kết hôn":"Độc thân"))])])])])]):n("div",{staticClass:"mx-1 flex my-4"},[n("v-alert",{attrs:{outline:"",color:"red",icon:"warning",value:!0}},[t._v("\n                Thông tin công dân không có trên CSDL quốc gia về dân cư\n              ")])],1),n("v-flex",{staticClass:"text-right my-2",attrs:{xs12:""}},[n("v-btn",{staticClass:"mx-0 my-0 white--text",attrs:{color:"primary"},on:{click:function(a){t.dialog_searchLgsp=!1}}},[n("v-icon",{staticClass:"white--text",attrs:{size:"20"}},[t._v("clear")]),t._v("\n                 \n                Đóng\n              ")],1)],1)],1)])],1)],1)],1)},yt=[],xt=n("d30b"),bt=n.n(xt);function Dt(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}I.a.options={closeButton:!0,timeOut:"5000",positionClass:"toast-top-center"},e["default"].use(bt.a),e["default"].component("vue-confirm-dialog",bt.a.default);var _t={props:["id"],components:{},data:function(){return{selected:[],passwordCreate:"",loadingAction:!1,loadingData:!1,headers:[{sortable:!1,text:"STT",align:"center",value:"index"},{sortable:!1,text:"Loại giấy tờ",align:"left",value:"cmnd"},{sortable:!1,text:"Số giấy tờ",align:"left",value:"fullname"},{sortable:!1,text:"Ngày cấp",align:"left",value:"contact"},{sortable:!1,text:"Nơi cấp",align:"left",value:"status"},{sortable:!1,text:"Thao tác",align:"center",value:"action"}],items:[{cmnd:"CMND",fullname:"029922398",contact:"11/12/2020",status:"Hà Nội"},{cmnd:"CMND",fullname:"029922398",contact:"11/12/2020",status:"Hà Nội"}],page:0,itemsPerPage:10,total:2,chuaCapTaiKhoan:!1,daCapTaiKhoan:!1,pageCount:10,thongTin:[{lable:"Họ tên",value:"hoVaTen"},{lable:"Ngày sinh",value:"ngaySinh",type:"date"},{lable:"Giới tính",value:"gioiTinh",type:"danhmuc"},{lable:"Dân tộc",value:"danToc",type:"danhmuc"},{lable:"Quốc gia",value:"quocTich",type:"danhmuc"},{lable:"CMND/CCCD",value:"maSoCaNhan"},{lable:"Số điện thoại",value:"sdt"},{lable:"Email",value:"email"},{lable:"Địa chỉ thường trú",value:"diaChiThuongTru",type:"address"},{lable:"Nơi ở hiện tại",value:"noiOHienTai",type:"address"}],thongTinCongDan:"",validFormAdd:!0,dialogCreateAcc:!1,dialogChangePass:!1,validFormChangePass:!0,passwordChange:"",required:[function(t){return""!==t&&null!==t&&void 0!==t||"Thông tin bắt buộc"}],validFormActionAccount:!0,dialogNoteAction:!1,titleAction:"",noteAction:"",actionStatusAcc:"",dialogStatusAccLog:!1,headersLog:[{sortable:!1,text:"STT",align:"center"},{sortable:!1,text:"Thao tác",align:"left"},{sortable:!1,text:"Nội dung",align:"left"},{sortable:!1,text:"Người thao tác",align:"left"},{sortable:!1,text:"Thời gian thao tác",align:"left"},{sortable:!1,text:"Thao tác",align:"center"}],logItems:[],logUpdate:"",dialogChangeLog:!1,logChange:"",validFormChangeLog:!0,dialogPrint:!1,contentPrint:"",daCapChungThu:!1,loadingSearchLgsp:!1,dialog_searchLgsp:!1,applicantLgspInfomation:"",quyenTraCuuLgsp:!1,userLoginInfomation:""}},watch:{dialogNoteAction:function(t){this.noteAction=""}},created:function(){var t=this;t.$store.commit("SET_INDEXTAB",1),t.getThongTinCongDan();var a={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Token:window.Liferay?window.Liferay.authToken:""}},n="/o/rest/v2/qldc/role/employee";r.a.get(n,a).then((function(a){var n=a.data;t.quyenTraCuuLgsp=n.hasOwnProperty("status")?n.status:""})).catch((function(){t.quyenTraCuuLgsp=""})),r.a.get("/o/v1/opencps/users/"+window.themeDisplay.getUserId(),a).then((function(a){t.userLoginInfomation=a.data})).catch((function(t){}))},methods:(Tt={getStatus:function(t){switch(t){case 1:return"Hoạt động";case 0:return"Đã khóa";default:return""}},editCongDan:function(t){this.$router.push({path:"/cong-dan/"+t})},getThongTinCongDan:function(){var t=this,a={collectionName:"canhan",id:t.id};t.$store.dispatch("collectionDetail",a).then((function(a){t.thongTinCongDan=a.resp})).catch((function(){t.loadingData=!1}))},checkCsdldc:function(){var t=this,a={applicantIdNo:String(t.thongTinCongDan.maSoCaNhan).trim(),applicantName:t.convertString(String(t.thongTinCongDan.hoVaTen).trim()).toUpperCase(),birthDate:t.dateTraCuuLgsp(t.thongTinCongDan.ngaySinh),StaffEmail:t.userLoginInfomation&&t.userLoginInfomation.hasOwnProperty("employeeEmail")?t.userLoginInfomation.employeeEmail:""};t.loadingSearchLgsp=!0,t.$store.dispatch("searchLgspCongDan",a).then((function(a){t.dialog_searchLgsp=!0,t.loadingSearchLgsp=!1,t.applicantLgspInfomation=a})).catch((function(a){t.dialog_searchLgsp=!0,t.applicantLgspInfomation="",t.loadingSearchLgsp=!1}))},showCreateAcc:function(){var t=this,a=function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="abcdefghijklmnopqrstuvwxyz",e="0123456789",i="@$!%*#?&",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s="";s+=a.charAt(Math.floor(Math.random()*a.length)),s+=n.charAt(Math.floor(Math.random()*n.length)),s+=e.charAt(Math.floor(Math.random()*e.length)),s+=i.charAt(Math.floor(Math.random()*i.length));for(var c=0;c<4;c++)s+=o.charAt(Math.floor(Math.random()*o.length));s=s.split("").sort((function(){return.5-Math.random()})).join(""),t.passwordCreate=t.thongTinCongDan["danhBaLienLac"]["soDienThoai"]?String(t.thongTinCongDan["danhBaLienLac"]["soDienThoai"]).trim():s,t.dialogCreateAcc=!0};if(1==t.quyenTraCuuLgsp||2==t.quyenTraCuuLgsp){var n={applicantIdNo:String(t.thongTinCongDan.maSoCaNhan).trim(),applicantName:t.convertString(String(t.thongTinCongDan.hoVaTen).trim()).toUpperCase(),birthDate:t.dateTraCuuLgsp(t.thongTinCongDan.ngaySinh),StaffEmail:t.userLoginInfomation&&t.userLoginInfomation.hasOwnProperty("employeeEmail")?t.userLoginInfomation.employeeEmail:""};t.loadingSearchLgsp=!0,t.$store.dispatch("searchLgspCongDan",n).then((function(n){t.loadingSearchLgsp=!1,""==n?t.$confirm({title:"Thông tin công dân không có trên CSDL dân cư",message:"Bạn có tiếp tục tạo tài khoản?",button:{yes:"Có",no:"Không"},callback:function(t){1==t&&a()}}):a()})).catch((function(n){t.loadingSearchLgsp=!1,t.$confirm({title:"Thông tin công dân không có trên CSDL dân cư",message:"Bạn có tiếp tục tạo tài khoản?",button:{yes:"Có",no:"Không"},callback:function(t){1==t&&a()}})}))}else a()},showChangePass:function(){var t=this;t.passwordChange="",t.dialogChangePass=!0},submitChangePass:function(){var t=this;if(t.$refs.formChangePass.validate()){var a={data:{tenDinhDanh:t.thongTinCongDan["danhTinhDienTu"][0]["tenDinhDanh"],matKhauMoi:t.passwordChange,type:"canhan"}};t.loadingAction=!0,t.$store.dispatch("changePass",a).then((function(a){t.loadingAction=!1,t.dialogChangePass=!1,I.a.remove(),I.a.success("Đổi mật khẩu thành công")})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Đổi mật khẩu thất bại")}))}},showChangeStatusAcc:function(t){var a=this;a.actionStatusAcc=t,"block"===t?a.titleAction="LÝ DO KHÓA TÀI KHOẢN":"active"===t?a.titleAction="NỘI DUNG KÍCH HOẠT TÀI KHOẢN":"unlock"===t?a.titleAction="NỘI DUNG MỞ KHÓA TÀI KHOẢN":"delete"===t?a.titleAction="LÝ DO XÓA TÀI KHOẢN":"restore"===t&&(a.titleAction="NỘI DUNG KHÔI PHỤC TÀI KHOẢN"),a.noteAction="",a.dialogNoteAction=!0,a.$refs.validFormActionAccount.resetValidation()},submitChangeStatusAcc:function(){var t=this;t.$refs.formActionAccount.validate()&&("block"===t.actionStatusAcc?t.blockAccount():"delete"===t.actionStatusAcc?t.deleteAccount():"active"===t.actionStatusAcc?t.activeAccount():"unlock"===t.actionStatusAcc?t.unLockAccount():"restore"===t.actionStatusAcc&&t.restoreAccount())},createAccount:function(){var t=this;if(t.$refs.formCreateAcc.validate()){var a={data:{maDinhDanh:t.thongTinCongDan.maDinhDanh,password:t.passwordCreate,type:"canhan"}};t.loadingAction=!0,t.$store.dispatch("createAccountCaNhan",a).then((function(a){t.loadingAction=!1,t.dialogCreateAcc=!1,I.a.remove(),I.a.success("Tạo tài khoản thành công"),t.getThongTinCongDan()})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Tạo tài khoản không thành công")}))}},activeAccount:function(){var t=this,a={data:{tenDinhDanh:t.thongTinCongDan["danhTinhDienTu"][0]["tenDinhDanh"],type:"canhan",activityNote:t.noteAction}};t.loadingAction=!0,t.$store.dispatch("activeCaNhan",a).then((function(a){t.loadingAction=!1,t.dialogCreateAcc=!1,I.a.remove(),I.a.success("Kích hoạt tài khoản thành công"),t.getThongTinCongDan(),t.dialogNoteAction=!1})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Kích hoạt tài khoản không thành công")}))},blockAccount:function(){var t=this,a={data:{tenDinhDanh:t.thongTinCongDan["danhTinhDienTu"][0]["tenDinhDanh"],type:"canhan",activityNote:t.noteAction}};t.loadingAction=!0,t.$store.dispatch("blockCaNhan",a).then((function(a){t.loadingAction=!1,t.dialogCreateAcc=!1,I.a.remove(),I.a.success("Khóa tài khoản thành công"),t.getThongTinCongDan(),t.dialogNoteAction=!1})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Khóa tài khoản không thành công")}))},unBlockAccount:function(){var t=this,a={data:{tenDinhDanh:t.thongTinCongDan["danhTinhDienTu"][0]["tenDinhDanh"],type:"canhan",activityNote:t.noteAction}};t.loadingAction=!0,t.$store.dispatch("unBlockCaNhan",a).then((function(a){t.loadingAction=!1,I.a.remove(),I.a.success("Mở khóa tài khoản thành công"),t.getThongTinCongDan(),t.dialogNoteAction=!1})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Mở khóa tài khoản không thành công")}))},restoreAccount:function(){var t=this,a={data:{tenDinhDanh:t.thongTinCongDan["danhTinhDienTu"][0]["tenDinhDanh"],type:"canhan",activityNote:t.noteAction}};t.loadingAction=!0,t.$store.dispatch("restoreCaNhan",a).then((function(a){t.loadingAction=!1,I.a.remove(),I.a.success("Khôi phục tài khoản thành công"),t.getThongTinCongDan(),t.dialogNoteAction=!1})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Khôi phục tài khoản không thành công")}))},deleteAccount:function(){var t=this;t.$confirm({title:"Xác nhận xóa dữ liệu",message:"Bạn có chắc chắn xóa tài khoản này?",button:{yes:"Có",no:"Không"},callback:function(a){if(1==a){var n={data:{tenDinhDanh:t.thongTinCongDan["danhTinhDienTu"][0]["tenDinhDanh"],type:"canhan",activityNote:t.noteAction}};t.loadingAction=!0,t.$store.dispatch("deleteCaNhan",n).then((function(a){t.loadingAction=!1,t.dialogCreateAcc=!1,I.a.remove(),I.a.success("Xóa tài khoản thành công"),t.getThongTinCongDan(),t.dialogNoteAction=!1})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Xóa tài khoản không thành công")}))}}})},dateLocale:function(t){var a=new Date(t);return"".concat(a.getDate().toString().padStart(2,"0"),"/").concat((a.getMonth()+1).toString().padStart(2,"0"),"/").concat(a.getFullYear())},dateTraCuuLgsp:function(t){var a=new Date(t);return"".concat(a.getFullYear(),"-").concat((a.getMonth()+1).toString().padStart(2,"0"),"-").concat(a.getDate().toString().padStart(2,"0"))},goBack:function(){window.history.back()},dateLocaleTime:function(t){var a=new Date(t);return"".concat(a.getDate().toString().padStart(2,"0"),"/").concat((a.getMonth()+1).toString().padStart(2,"0"),"/").concat(a.getFullYear()," ").concat(a.getHours().toString().padStart(2,"0"),":").concat(a.getMinutes().toString().padStart(2,"0")," ")}},Dt(Tt,"goBack",(function(){window.history.back()})),Dt(Tt,"viewLog",(function(){var t=this;if(!t.loadingData){t.loadingData=!0;var a={data:{className:"com.fds.flex.core.data.entity.T_Model.DanhTinhDienTu",classPK:t.thongTinCongDan["danhTinhDienTu"][0]["maDinhDanh"],page:0,size:100}};t.$store.dispatch("getLogChangeStatusAcc",a).then((function(a){t.loadingData=!1,t.logItems=a.content.reverse(),t.dialogStatusAccLog=!0})).catch((function(){t.loadingData=!1}))}})),Dt(Tt,"editLog",(function(t){var a=this;a.logUpdate=t,a.logChange=t.activityNote,a.dialogChangeLog=!0})),Dt(Tt,"getLogActionName",(function(t){switch(t){case"LOCK_ACCOUNT":return{name:"Khóa tài khoản",color:"color: red"};case"DELETE_ACCOUNT":return{name:"Xóa tài khoản",color:"color: red"};case"UNLOCK_ACCOUNT":return{name:"Mở khóa tài khoản",color:"color: green"};case"ACTIVE_ACCOUNT":return{name:"Kích hoạt tài khoản",color:"color: green"};case"RESTORE_ACCOUNT":return{name:"Khôi phục tài khoản",color:"color: green"};case"CREATE_ACCOUNT":return{name:"Tạo tài khoản",color:"color: green"};default:return{name:t,color:"color: black"}}})),Dt(Tt,"submitChangeLog",(function(){var t=this,a={uuid:t.logUpdate["uuid"],data:{activityNote:t.logChange}};t.loadingAction=!0,t.$store.dispatch("updateLog",a).then((function(a){t.loadingAction=!1,I.a.remove(),I.a.success("Cập nhật thành công"),t.viewLog(),t.dialogChangeLog=!1})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Cập nhật không thành công")}))})),Dt(Tt,"printPhieu",(function(){var t=this,a={madinhdanh:t.thongTinCongDan["danhTinhDienTu"][0]["maDinhDanh"]};t.loadingAction=!0,t.$store.dispatch("printPhieu",a).then((function(a){t.contentPrint=a.content,t.loadingAction=!1,t.contentPrint?t.dialogPrint=!0:(I.a.remove(),I.a.error("Không có phiếu in"))})).catch((function(){t.loadingAction=!1}))})),Dt(Tt,"submitPrint",(function(){var t=document.getElementById("printPhieu_1").innerHTML,a=window.open();a.document.write(t),a.document.close(),a.print()})),Dt(Tt,"createChungThuSo",(function(){var t=this,a="",n=String(t.thongTinCongDan.maSoCaNhan);try{var e=new Date(t.thongTinCongDan.ngaySinh).getMonth()+1;a=new Date(t.thongTinCongDan.ngaySinh).getDate()+"-"+e+"-"+new Date(t.thongTinCongDan.ngaySinh).getFullYear()}catch(o){}var i={data:{fullName:t.thongTinCongDan.hoVaTen,dob:a,identityNo:9==n.length?"CMND:"+n:"CCCD:"+n,issueDate:"",issuePlace:"",permanentAddress:"",nation:"VN",state:"",email:t.thongTinCongDan["danhBaLienLac"]["thuDienTu"],phone:t.thongTinCongDan["danhBaLienLac"]["soDienThoai"],organization:"TrustCA"}};t.$store.dispatch("createChungThuSo",i).then((function(t){})).catch((function(t){}))})),Dt(Tt,"convertString",(function(t){return t=t.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),t=t.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),t=t.replace(/ì|í|ị|ỉ|ĩ/g,"i"),t=t.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),t=t.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),t=t.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),t=t.replace(/đ/g,"d"),t=t.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g,"A"),t=t.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g,"E"),t=t.replace(/Ì|Í|Ị|Ỉ|Ĩ/g,"I"),t=t.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g,"O"),t=t.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g,"U"),t=t.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g,"Y"),t=t.replace(/Đ/g,"D"),t=t.toLocaleLowerCase().replace(/\s/g,""),t})),Tt)},St=_t,kt=(n("bdc4"),n("0798")),Nt=n("a844"),wt=Object(u["a"])(St,Ct,yt,!1,null,"73c768c9",null),At=wt.exports;p()(wt,{VAlert:kt["a"],VBtn:Q["a"],VCard:G["a"],VCardActions:U["a"],VCardText:U["b"],VDataTable:R["a"],VDialog:ut["a"],VFlex:S["a"],VForm:dt["a"],VIcon:J["a"],VLayout:k["a"],VSpacer:pt["a"],VTextField:W["a"],VTextarea:Nt["a"],VToolbar:gt["a"],VToolbarItems:mt["a"],VToolbarTitle:mt["b"],VTooltip:tt["a"]});var Lt=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("div",{staticClass:"row-header no__hidden_class"},[n("div",{staticClass:"background-triangle-big"},["update"==t.typeAction?n("span",[t._v("CẬP NHẬT THÔNG TIN CÔNG DÂN")]):t._e(),"add"==t.typeAction?n("span",[t._v("THÊM MỚI CÔNG DÂN")]):t._e()]),t._m(0)]),n("v-form",{ref:"formAddCaNhan",staticClass:"px-2",attrs:{"lazy-validation":""},model:{value:t.validFormAdd,callback:function(a){t.validFormAdd=a},expression:"validFormAdd"}},[n("v-layout",{staticClass:"py-2",attrs:{wrap:""}},[n("v-flex",{staticClass:"py-0 mb-2 pr-3",attrs:{xs12:""}},[n("label",[t._v("Trạng thái thông tin "),n("span",{staticClass:"red--text"},[t._v("(*)")])]),n("v-switch",{staticClass:"mt-0 ml-3 d-inline-block",attrs:{color:"primary"},model:{value:t.trangThaiDuLieu,callback:function(a){t.trangThaiDuLieu=a},expression:"trangThaiDuLieu"}},[n("template",{slot:"label"},[n("span",{staticClass:"ml-2",staticStyle:{color:"black"}},[t._v(t._s(t.trangThaiDuLieu?"ĐANG SỬ DỤNG":"ĐÁNH DẤU XÓA"))])])],2)],1),1==t.quyenTraCuuLgsp||2==t.quyenTraCuuLgsp?n("v-flex",{staticClass:"py-0 mb-2 pr-3",attrs:{xs12:""}},[n("v-btn",{staticClass:"mx-0 mr-2",attrs:{small:"",color:"primary",loading:t.loadingSearchLgsp,disabled:t.loadingSearchLgsp},on:{click:function(a){return t.checkCsdldc()}}},[n("v-icon",{attrs:{size:"18"}},[t._v("check")]),t._v(" \n            "),n("span",[t._v("Kiểm tra thông tin CSDL dân cư")])],1)],1):t._e(),n("v-flex",{staticClass:"py-0 mb-2 pr-3",attrs:{xs12:"",md6:""}},[n("label",[t._v("Họ tên "),n("span",{staticClass:"red--text"},[t._v("(*)")])]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto",rules:t.required,required:""},model:{value:t.thongTinCongDan.hoVaTen,callback:function(a){t.$set(t.thongTinCongDan,"hoVaTen",a)},expression:"thongTinCongDan.hoVaTen"}})],1),n("v-flex",{staticClass:"py-0",attrs:{xs12:"",md6:""}},[n("label",[t._v("CMND/CCCD "),n("span",{staticClass:"red--text"},[t._v("(*)")])]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto",rules:t.required,required:""},model:{value:t.thongTinCongDan.maSoCaNhan,callback:function(a){t.$set(t.thongTinCongDan,"maSoCaNhan",a)},expression:"thongTinCongDan.maSoCaNhan"}})],1),n("v-flex",{staticClass:"py-0 mb-2 pr-3",attrs:{xs12:"",md3:""}},[n("label",[t._v("Ngày sinh "),n("span",{staticClass:"red--text"},[t._v("(*)")])]),n("v-text-field",{staticClass:"input-form",attrs:{placeholder:"dd/mm/yyyy, ddmmyyyy",solo:"",dense:"",clearable:"",max:"","hide-details":"auto",rules:t.required,required:""},on:{blur:t.formatBirthDate},model:{value:t.ngaySinhCreate,callback:function(a){t.ngaySinhCreate=a},expression:"ngaySinhCreate"}})],1),n("v-flex",{staticClass:"py-0 pr-3",attrs:{xs12:"",md3:""}},[n("label",[t._v("Giới tính ")]),n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsGioiTinh,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto",placeholder:"Chọn giới tính","return-object":"",clearable:""},model:{value:t.gioiTinhCreate,callback:function(a){t.gioiTinhCreate=a},expression:"gioiTinhCreate"}})],1),n("v-flex",{staticClass:"py-0 pr-3",attrs:{xs12:"",md3:""}},[n("label",[t._v("Điện thoại "),n("span",{staticClass:"red--text"},[t._v("(*)")])]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto",rules:t.required,required:""},model:{value:t.thongTinCongDan.danhBaLienLac["soDienThoai"],callback:function(a){t.$set(t.thongTinCongDan.danhBaLienLac,"soDienThoai",a)},expression:"thongTinCongDan.danhBaLienLac['soDienThoai']"}})],1),n("v-flex",{staticClass:"py-0 mb-2",attrs:{xs12:"",md3:""}},[n("label",[t._v("Email")]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto"},model:{value:t.thongTinCongDan.danhBaLienLac["thuDienTu"],callback:function(a){t.$set(t.thongTinCongDan.danhBaLienLac,"thuDienTu",a)},expression:"thongTinCongDan.danhBaLienLac['thuDienTu']"}})],1),n("v-flex",{staticClass:"py-0 pr-3",attrs:{xs12:"",md6:""}},[n("label",[t._v("Quốc tịch ")]),n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsQuocTich,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto",placeholder:"Chọn quốc tịch","return-object":"",clearable:""},model:{value:t.quocTichCreate,callback:function(a){t.quocTichCreate=a},expression:"quocTichCreate"}})],1),n("v-flex",{staticClass:"py-0 pr-3",attrs:{xs12:"",md3:""}},[n("label",[t._v("Dân tộc ")]),n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsDanToc,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto",placeholder:"Chọn dân tộc","return-object":"",clearable:""},model:{value:t.danTocCreate,callback:function(a){t.danTocCreate=a},expression:"danTocCreate"}})],1),n("v-flex",{staticClass:"py-0",attrs:{xs12:"",md3:""}},[n("label",[t._v("Tôn giáo")]),n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsTonGiao,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto",placeholder:"Chọn tôn giáo","return-object":"",clearable:""},model:{value:t.tonGiaoCreate,callback:function(a){t.tonGiaoCreate=a},expression:"tonGiaoCreate"}})],1),n("v-flex",{staticClass:"py-0 mb-2",attrs:{xs12:""}},[n("label",[t._v("Địa chỉ thường trú")]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto",placeholder:"Số nhà, đường, phố, xóm..."},model:{value:t.diaChiThuongTruCuThe,callback:function(a){t.diaChiThuongTruCuThe=a},expression:"diaChiThuongTruCuThe"}})],1),n("v-flex",{staticClass:"py-0 mb-2 pr-3",attrs:{xs12:"",md4:""}},[n("label",[t._v("Tỉnh/ thành")]),n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsTinhThanh,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto","return-object":""},model:{value:t.thuongTruTinhThanh,callback:function(a){t.thuongTruTinhThanh=a},expression:"thuongTruTinhThanh"}})],1),n("v-flex",{staticClass:"py-0 pr-3",attrs:{xs12:"",md4:""}},[n("label",[t._v("Quận / Huyện")]),n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsThuongTruQuanHuyen,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto","return-object":""},model:{value:t.thuongTruQuanHuyen,callback:function(a){t.thuongTruQuanHuyen=a},expression:"thuongTruQuanHuyen"}})],1),n("v-flex",{staticClass:"py-0",attrs:{xs12:"",md4:""}},[n("label",[t._v("Phường / Xã")]),n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsThuongTruPhuongXa,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto","return-object":""},model:{value:t.thuongTruPhuongXa,callback:function(a){t.thuongTruPhuongXa=a},expression:"thuongTruPhuongXa"}})],1),n("v-flex",{staticClass:"py-0 mb-2",attrs:{xs12:""}},[n("label",[t._v("Nơi ở hiện tại")]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto",placeholder:"Số nhà, đường, phố, xóm..."},model:{value:t.noiOHienTaiCuThe,callback:function(a){t.noiOHienTaiCuThe=a},expression:"noiOHienTaiCuThe"}})],1),n("v-flex",{staticClass:"py-0 pr-3",attrs:{xs12:"",md4:""}},[n("label",[t._v("Tỉnh thành")]),n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsTinhThanh,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto","return-object":""},model:{value:t.noiOHienTaiTinhThanh,callback:function(a){t.noiOHienTaiTinhThanh=a},expression:"noiOHienTaiTinhThanh"}})],1),n("v-flex",{staticClass:"py-0 pr-3",attrs:{xs12:"",md4:""}},[n("label",[t._v("Quận / Huyện")]),n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsNoiOHienTaiQuanHuyen,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto","return-object":""},model:{value:t.noiOHienTaiQuanHuyen,callback:function(a){t.noiOHienTaiQuanHuyen=a},expression:"noiOHienTaiQuanHuyen"}})],1),n("v-flex",{staticClass:"py-0",attrs:{xs12:"",md4:""}},[n("label",[t._v("Phường / Xã")]),n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsNoiOHienTaiPhuongXa,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto","return-object":""},model:{value:t.noiOHienTaiPhuongXa,callback:function(a){t.noiOHienTaiPhuongXa=a},expression:"noiOHienTaiPhuongXa"}})],1),n("v-flex",{staticClass:"text-center",attrs:{xs12:""}},[n("v-btn",{staticClass:"mt-3 mx-2  text-white",attrs:{color:"primary",outlined:"",loading:t.loading,disabled:t.loading},on:{click:function(a){return t.goBack()}}},[n("v-icon",{attrs:{left:"",dark:"",size:"20"}},[t._v("\n                    reply\n                ")]),t._v("\n                Quay lại\n            ")],1),"add"===t.typeAction?n("v-btn",{staticClass:"mt-3 mx-2  text-white",attrs:{color:"primary",loading:t.loading,disabled:t.loading},nativeOn:{click:function(a){return t.submitAddCongDan()}}},[n("v-icon",{attrs:{left:"",dark:"",size:"20"}},[t._v("\n                  save\n                ")]),t._v("\n                Thêm mới\n            ")],1):n("v-btn",{staticClass:"mt-3 mx-2  text-white",attrs:{color:"primary",loading:t.loading,disabled:t.loading},nativeOn:{click:function(a){return t.submitUpdateCongDan()}}},[n("v-icon",{attrs:{left:"",dark:"",size:"20"}},[t._v("\n                    save\n                ")]),t._v("\n                Cập nhật\n            ")],1)],1)],1)],1),n("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:t.dialog_searchLgsp,callback:function(a){t.dialog_searchLgsp=a},expression:"dialog_searchLgsp"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Thông tin công dân trên CSDL Quốc gia")]),n("v-spacer"),n("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(a){t.dialog_searchLgsp=!1}}},[n("v-icon",[t._v("close")])],1)],1),n("v-card-text",{staticClass:"py-1"},[n("div",[t.applicantLgspInfomation?n("table",{staticClass:"datatable table my-3",staticStyle:{"border-top":"1px solid #dedede"}},[n("tbody",[n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Họ và tên công dân")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.HoVaTen["Ten"]))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Số căn cước công dân")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.SoDinhDanh))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Số chứng minh nhân dân")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.SoCMND))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Ngày sinh")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.ngaySinhCreate))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Giới tính")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s("1"==t.applicantLgspInfomation.GioiTinh?"Nam":"2"==t.applicantLgspInfomation.GioiTinh?"Nữ":"Chưa có thông tin"))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Tình trạng hôn nhân")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s("2"==t.applicantLgspInfomation.TinhTrangHonNhan?"Đã kết hôn":"Độc thân"))])])])])]):n("div",{staticClass:"mx-1 flex my-4"},[n("v-alert",{attrs:{outline:"",color:"red",icon:"warning",value:!0}},[t._v("\n              Thông tin công dân không có trên CSDL quốc gia về dân cư\n            ")])],1),n("v-flex",{staticClass:"text-right my-2",attrs:{xs12:""}},[t.applicantLgspInfomation?n("v-btn",{staticClass:"mx-0 my-0 mr-2",attrs:{color:"primary"},on:{click:t.addApplicantLgsp}},[n("v-icon",{attrs:{size:"20"}},[t._v("save_alt")]),t._v("\n               \n              Lấy thông tin\n            ")],1):t._e(),n("v-btn",{staticClass:"mx-0 my-0 white--text",attrs:{color:"primary"},on:{click:function(a){t.dialog_searchLgsp=!1}}},[n("v-icon",{staticClass:"white--text",attrs:{size:"20"}},[t._v("clear")]),t._v("\n               \n              Đóng\n            ")],1)],1)],1)])],1)],1)],1)},Mt=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"layout row wrap header_tools row-blue mx-1"},[n("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}})])}];function Pt(t,a){return Vt(t)||Ot(t,a)||Ht(t,a)||It()}function It(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ht(t,a){if(t){if("string"===typeof t)return Ft(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(t,a):void 0}}function Ft(t,a){(null==a||a>t.length)&&(a=t.length);for(var n=0,e=new Array(a);n<a;n++)e[n]=t[n];return e}function Ot(t,a){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],e=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(e=(s=c.next()).done);e=!0)if(n.push(s.value),a&&n.length===a)break}catch(r){i=!0,o=r}finally{try{e||null==c["return"]||c["return"]()}finally{if(i)throw o}}return n}}function Vt(t){if(Array.isArray(t))return t}e["default"].use(bt.a),e["default"].component("vue-confirm-dialog",bt.a.default),I.a.options={closeButton:!0,timeOut:"5000",positionClass:"toast-top-center"};var Et={props:["id"],data:function(){return{applicantLgspInfomation:"",quyenTraCuuLgsp:!1,userLoginInfomation:"",loadingSearchLgsp:!1,dialog_searchLgsp:!1,loading:!1,validFormAdd:!1,typeAction:"add",congDanDetail:"",itemsGioiTinh:[],ngaySinhCreate:"",gioiTinhCreate:"",tonGiaoCreate:"",quocTichCreate:"",danTocCreate:"",itemsDanToc:[],itemsQuocTich:[],itemsTonGiao:[],itemsTinhThanh:[],diaChiThuongTruCuThe:"",thuongTruTinhThanh:"",itemsThuongTruQuanHuyen:[],thuongTruQuanHuyen:"",itemsThuongTruPhuongXa:[],thuongTruPhuongXa:"",noiOHienTaiTinhThanh:"",itemsNoiOHienTaiQuanHuyen:[],noiOHienTaiQuanHuyen:"",itemsNoiOHienTaiPhuongXa:[],noiOHienTaiPhuongXa:"",noiOHienTaiCuThe:"",thongTinCongDan:{hoVaTen:"",maSoCaNhan:"",ngayChetMatTich:"",ngaySinh:"",gioiTinh:{maMuc:"",tenMuc:""},noiOHienTai:{phuongXa:{maMuc:"",tenMuc:""},quanHuyen:{maMuc:"",tenMuc:""},soNhaChiTiet:"",tinhThanh:{maMuc:"",tenMuc:""}},diaChiThuongTru:{phuongXa:{maMuc:"",tenMuc:""},quanHuyen:{maMuc:"",tenMuc:""},soNhaChiTiet:"",tinhThanh:{maMuc:"",tenMuc:""}},noiSinh:{phuongXa:{maMuc:"",tenMuc:""},quanHuyen:{maMuc:"",tenMuc:""},soNhaChiTiet:"",tinhThanh:{maMuc:"",tenMuc:""}},queQuan:{phuongXa:{maMuc:"",tenMuc:""},quanHuyen:{maMuc:"",tenMuc:""},soNhaChiTiet:"",tinhThanh:{maMuc:"",tenMuc:""}},quocTich:{maMuc:"",tenMuc:""},danToc:{maMuc:"",tenMuc:""},tonGiao:{maMuc:"",tenMuc:"",type:""},danhBaLienLac:{soDienThoai:"",soFax:"",thuDienTu:""},giayToTuyThan:[],tinhTrangHonNhan:{maMuc:"",tenMuc:""},tinhTrangSinhSong:{maMuc:"",tenMuc:""},trangThaiDuLieu:{maMuc:"",tenMuc:""},vaiTroSuDung:[{maMuc:"",tenMuc:""}],anhCaNhan:{chuKySo:"",dinhDang:"",duLieu:"",kichThuoc:"",ngayGioSua:"",ngayGioTao:"",ngayKySo:"",tenTep:""},nguoiTaoLap:{maSoID:"",tenDinhDanh:""},nhaCungCapDinhDanh:{maPhamVi:"",maSoDinhDanh:"",tenNhaCungCap:"",tinhTrang:""}},required:[function(t){return""!==t&&null!==t&&void 0!==t||"Thông tin bắt buộc"}],trangThaiDuLieu:!0}},created:function(){var t=this;t.$store.commit("SET_INDEXTAB",1),t.getDanhMucTinhThanh(),t.getDanhMuc(),0!=t.id?(t.typeAction="update",t.getThongTinCongDan()):t.typeAction="add";var a={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Token:window.Liferay?window.Liferay.authToken:""}},n="/o/rest/v2/qldc/role/employee";r.a.get(n,a).then((function(a){var n=a.data;t.quyenTraCuuLgsp=n.hasOwnProperty("status")?n.status:""})).catch((function(){t.quyenTraCuuLgsp=""})),r.a.get("/o/v1/opencps/users/"+window.themeDisplay.getUserId(),a).then((function(a){t.userLoginInfomation=a.data})).catch((function(t){}))},watch:{$route:function(t,a){var n=this;n.$store.commit("SET_INDEXTAB",1),n.getDanhMucTinhThanh(),n.getDanhMuc(),0!=n.id?(n.typeAction="update",n.getThongTinCongDan()):n.typeAction="add"},thuongTruTinhThanh:function(){var t=this;t.changeTinhThanh("thuongtru")},thuongTruQuanHuyen:function(){var t=this;t.changeQuanHuyen("thuongtru")},noiOHienTaiTinhThanh:function(){var t=this;t.changeTinhThanh("noiohientai")},noiOHienTaiQuanHuyen:function(){var t=this;t.changeQuanHuyen("noiohientai")}},methods:{checkCsdldc:function(){var t=this;if(String(t.thongTinCongDan.maSoCaNhan).trim()&&String(t.thongTinCongDan.hoVaTen).trim()&&String(t.ngaySinhCreate).trim()){var a={applicantIdNo:String(t.thongTinCongDan.maSoCaNhan).trim(),applicantName:t.convertString(String(t.thongTinCongDan.hoVaTen).trim()).toUpperCase(),birthDate:t.convertDateLgsp(t.ngaySinhCreate),StaffEmail:t.userLoginInfomation&&t.userLoginInfomation.hasOwnProperty("employeeEmail")?t.userLoginInfomation.employeeEmail:""};t.loadingSearchLgsp=!0,t.$store.dispatch("searchLgspCongDan",a).then((function(a){t.dialog_searchLgsp=!0,t.loadingSearchLgsp=!1,t.applicantLgspInfomation=a})).catch((function(a){t.dialog_searchLgsp=!0,t.applicantLgspInfomation="",t.loadingSearchLgsp=!1}))}else I.a.remove(),I.a.error("Vui lòng nhập đầy đủ Họ tên, Số CMND/CCCD và Ngày sinh để tra cứu")},addApplicantLgsp:function(){var t=this;if(t.thongTinCongDan.hoVaTen=t.applicantLgspInfomation.HoVaTen.Ten,t.thongTinCongDan.maSoCaNhan=t.applicantLgspInfomation.SoDinhDanh?t.applicantLgspInfomation.SoDinhDanh:t.applicantLgspInfomation.SoCMND,t.diaChiThuongTruCuThe=t.applicantLgspInfomation.ThuongTru.ChiTiet,t.noiOHienTaiCuThe=t.applicantLgspInfomation.NoiOHienTai.ChiTiet,t.dialog_searchLgsp=!1,t.applicantLgspInfomation.GioiTinh)try{t.gioiTinhCreate=t.itemsGioiTinh.filter((function(a){return a.maMuc==t.applicantLgspInfomation.GioiTinh}))[0]}catch(e){}if(t.applicantLgspInfomation.TonGiao)try{t.tonGiaoCreate=t.itemsTonGiao.filter((function(a){return a.maMuc==t.applicantLgspInfomation.TonGiao}))[0]}catch(e){}if(t.applicantLgspInfomation.DanToc)try{t.danTocCreate=t.itemsDanToc.filter((function(a){return a.maMuc==t.applicantLgspInfomation.DanToc}))[0]}catch(e){}if(t.applicantLgspInfomation.ThuongTru.MaTinhThanh){try{t.thuongTruTinhThanh=t.itemsTinhThanh.filter((function(a){return a.maMuc==t.applicantLgspInfomation.ThuongTru.MaTinhThanh}))[0]}catch(e){}if(!t.thuongTruTinhThanh)return;var a={collectionName:"quanhuyen",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:t.applicantLgspInfomation.ThuongTru.MaTinhThanh}};t.$store.dispatch("collectionFilter",a).then((function(a){if(t.itemsThuongTruQuanHuyen=a.content,t.applicantLgspInfomation.ThuongTru.MaQuanHuyen){try{t.thuongTruQuanHuyen=t.itemsThuongTruQuanHuyen.filter((function(a){return a.maMuc==t.applicantLgspInfomation.ThuongTru.MaQuanHuyen}))[0]}catch(e){}if(!t.thuongTruQuanHuyen)return;var n={collectionName:"phuongxa",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:t.applicantLgspInfomation.ThuongTru.MaQuanHuyen}};t.$store.dispatch("collectionFilter",n).then((function(a){if(t.itemsThuongTruPhuongXa=a.content,t.applicantLgspInfomation.ThuongTru.MaPhuongXa)try{t.thuongTruPhuongXa=t.itemsThuongTruPhuongXa.filter((function(a){return a.maMuc==t.applicantLgspInfomation.ThuongTru.MaPhuongXa}))[0]}catch(e){}})).catch((function(){}))}})).catch((function(){}))}if(t.applicantLgspInfomation.NoiOHienTai.MaTinhThanh){try{t.noiOHienTaiTinhThanh=t.itemsTinhThanh.filter((function(a){return a.maMuc==t.applicantLgspInfomation.NoiOHienTai.MaTinhThanh}))[0]}catch(e){}if(!t.noiOHienTaiTinhThanh)return;var n={collectionName:"quanhuyen",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:t.applicantLgspInfomation.NoiOHienTai.MaTinhThanh}};t.$store.dispatch("collectionFilter",n).then((function(a){if(t.itemsNoiOHienTaiQuanHuyen=a.content,t.applicantLgspInfomation.NoiOHienTai.MaQuanHuyen){try{t.noiOHienTaiQuanHuyen=t.itemsNoiOHienTaiQuanHuyen.filter((function(a){return a.maMuc==t.applicantLgspInfomation.NoiOHienTai.MaQuanHuyen}))[0]}catch(e){}if(!t.noiOHienTaiQuanHuyen)return;var n={collectionName:"phuongxa",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:t.applicantLgspInfomation.NoiOHienTai.MaQuanHuyen}};t.$store.dispatch("collectionFilter",n).then((function(a){if(t.itemsNoiOHienTaiPhuongXa=a.content,t.applicantLgspInfomation.NoiOHienTai.MaPhuongXa)try{t.noiOHienTaiPhuongXa=t.itemsNoiOHienTaiPhuongXa.filter((function(a){return a.maMuc==t.applicantLgspInfomation.NoiOHienTai.MaPhuongXa}))[0]}catch(e){}})).catch((function(){}))}})).catch((function(){}))}},dateTraCuuLgsp:function(t){var a=new Date(t);return"".concat(a.getFullYear(),"-").concat((a.getMonth()+1).toString().padStart(2,"0"),"-").concat(a.getDate().toString().padStart(2,"0"))},getThongTinCongDan:function(){var t=this,a={collectionName:"canhan",id:t.id};t.$store.dispatch("collectionDetail",a).then((function(a){var n=a.resp;if(n)for(var e in t.thongTinCongDan)n.hasOwnProperty(e)&&(t.thongTinCongDan[e]=n[e]);t.formatInputData(),console.log("dataCongDan",t.thongTinCongDan)})).catch((function(){t.loadingData=!1}))},submitAddCongDan:function(){var t=this;if(t.formatOutputData(),!t.loading)if(t.$refs.formAddCaNhan.validate()){t.loading=!0;var a={collectionName:"canhan",data:t.thongTinCongDan};t.$store.dispatch("collectionCreate",a).then((function(a){t.loading=!1,I.a.remove(),I.a.success("Thêm mới thành công");var n=a.resp;t.$router.push({path:"/thong-tin-ca-nhan/"+n.primKey})})).catch((function(a){t.loading=!1,I.a.remove();var n="Thêm mới thất bại";try{409==a&&(n="Thêm mới thất bại. Số CMND/CCCD đã được sử dụng.")}catch(e){}I.a.error(n)}))}else t.loading=!1},submitUpdateCongDan:function(){var t=this;if(t.formatOutputData(),!t.loading)if(t.loading=!0,t.$refs.formAddCaNhan.validate()){var a={collectionName:"canhan",id:t.id,data:t.thongTinCongDan};t.$store.dispatch("collectionUpdate",a).then((function(a){t.loading=!1,I.a.remove(),I.a.success("Cập nhật thông tin thành công"),t.updateApplicantDvc(),window.history.back()})).catch((function(a){t.loading=!1,I.a.remove();var n="Cập nhật thông tin thất bại";try{409==a&&(n="Cập nhật thông tin thất bại. Số CMND/CCCD đã được sử dụng.")}catch(e){}I.a.error(n)}))}else t.loading=!1},updateApplicantDvc:function(){var t=this,a={groupId:35417,applicantName:t.thongTinCongDan.HoVaTen,address:t.thongTinCongDan.diaChiThuongTru.soNhaChiTiet,cityCode:t.thongTinCongDan.diaChiThuongTru.tinhThanh.maMuc,cityName:t.thongTinCongDan.diaChiThuongTru.tinhThanh.tenMuc,districtCode:t.thongTinCongDan.diaChiThuongTru.quanHuyen.maMuc,districtName:t.thongTinCongDan.diaChiThuongTru.quanHuyen.tenMuc,wardCode:t.thongTinCongDan.diaChiThuongTru.phuongXa.maMuc,wardName:t.thongTinCongDan.diaChiThuongTru.phuongXa.tenMuc,contactTelNo:t.thongTinCongDan.danhBaLienLac.soDienThoai,profile:{gioiTinh:t.thongTinCongDan.gioiTinh,noiOHienTai:t.thongTinCongDan.noiOHienTai,diaChiThuongTru:t.thongTinCongDan.diaChiThuongTru,quocTich:t.thongTinCongDan.quocTich,danToc:t.thongTinCongDan.danToc,tonGiao:t.thongTinCongDan.tonGiao,thuDienTu:t.thongTinCongDan.danhBaLienLac.thuDienTu,soDienThoai:t.thongTinCongDan.danhBaLienLac.soDienThoai,ngaySinh:t.ngaySinhCreate}},n={applicantIdNo:String(t.thongTinCongDan.maSoCaNhan).trim()};t.$store.dispatch("searchApplicantCongDvc",n).then((function(n){if(n){var e={applicantId:n.applicantId,data:a};t.$store.dispatch("updateApplicantCongDvc",e).then((function(){})).catch((function(){}))}})).catch((function(){}))},getDanhMucTinhThanh:function(){var t=this,a={collectionName:"tinhthanh",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",a).then((function(a){t.itemsTinhThanh=a.content})).catch((function(){}))},getDanhMuc:function(){var t=this,a={collectionName:"tongiao",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",a).then((function(a){t.itemsTonGiao=a.content})).catch((function(){}));var n={collectionName:"dantoc",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",n).then((function(a){t.itemsDanToc=a.content})).catch((function(){}));var e={collectionName:"quocgia",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",e).then((function(a){t.itemsQuocTich=a.content})).catch((function(){}));var i={collectionName:"gioitinh",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",i).then((function(a){t.itemsGioiTinh=a.content})).catch((function(){}))},changeTinhThanh:function(t){var a=this,n="";"thuongtru"===t&&(n=a.thuongTruTinhThanh["maMuc"]),"noiohientai"===t&&(n=a.noiOHienTaiTinhThanh["maMuc"]);var e={collectionName:"quanhuyen",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:n}};a.$store.dispatch("collectionFilter",e).then((function(n){"thuongtru"===t&&(a.itemsThuongTruQuanHuyen=n.content),"noiohientai"===t&&(a.itemsNoiOHienTaiQuanHuyen=n.content)})).catch((function(){}))},changeQuanHuyen:function(t){var a=this,n="";"thuongtru"===t&&(n=a.thuongTruQuanHuyen["maMuc"]),"noiohientai"===t&&(n=a.noiOHienTaiQuanHuyen["maMuc"]);var e={collectionName:"phuongxa",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:n}};a.$store.dispatch("collectionFilter",e).then((function(n){"thuongtru"===t&&(a.itemsThuongTruPhuongXa=n.content),"noiohientai"===t&&(a.itemsNoiOHienTaiPhuongXa=n.content)})).catch((function(){}))},formatOutputData:function(){var t=this;t.thongTinCongDan.ngaySinh=t.convertDate(t.ngaySinhCreate),t.thongTinCongDan.diaChiThuongTru={phuongXa:{maMuc:t.thuongTruPhuongXa?t.thuongTruPhuongXa.maMuc:"",tenMuc:t.thuongTruPhuongXa?t.thuongTruPhuongXa.tenMuc:""},quanHuyen:{maMuc:t.thuongTruQuanHuyen?t.thuongTruQuanHuyen.maMuc:"",tenMuc:t.thuongTruQuanHuyen?t.thuongTruQuanHuyen.tenMuc:""},tinhThanh:{maMuc:t.thuongTruTinhThanh?t.thuongTruTinhThanh.maMuc:"",tenMuc:t.thuongTruTinhThanh?t.thuongTruTinhThanh.tenMuc:""},soNhaChiTiet:t.diaChiThuongTruCuThe},t.thongTinCongDan.noiOHienTai={phuongXa:{maMuc:t.noiOHienTaiPhuongXa?t.noiOHienTaiPhuongXa.maMuc:"",tenMuc:t.noiOHienTaiPhuongXa?t.noiOHienTaiPhuongXa.tenMuc:""},quanHuyen:{maMuc:t.noiOHienTaiQuanHuyen?t.noiOHienTaiQuanHuyen.maMuc:"",tenMuc:t.noiOHienTaiQuanHuyen?t.noiOHienTaiQuanHuyen.tenMuc:""},tinhThanh:{maMuc:t.noiOHienTaiTinhThanh?t.noiOHienTaiTinhThanh.maMuc:"",tenMuc:t.noiOHienTaiTinhThanh?t.noiOHienTaiTinhThanh.tenMuc:""},soNhaChiTiet:t.noiOHienTaiCuThe},t.thongTinCongDan.gioiTinh={maMuc:t.gioiTinhCreate?t.gioiTinhCreate.maMuc:"",tenMuc:t.gioiTinhCreate?t.gioiTinhCreate.tenMuc:""},t.thongTinCongDan.quocTich={maMuc:t.quocTichCreate?t.quocTichCreate.maMuc:"",tenMuc:t.quocTichCreate?t.quocTichCreate.tenMuc:""},t.thongTinCongDan.danToc={maMuc:t.danTocCreate?t.danTocCreate.maMuc:"",tenMuc:t.danTocCreate?t.danTocCreate.tenMuc:""},t.thongTinCongDan.tonGiao={maMuc:t.tonGiaoCreate?t.tonGiaoCreate.maMuc:"",tenMuc:t.tonGiaoCreate?t.tonGiaoCreate.tenMuc:""},t.thongTinCongDan.trangThaiDuLieu={maMuc:t.trangThaiDuLieu?"2":"1",tenMuc:t.trangThaiDuLieu?"Đang sử dụng":"Đánh dấu xóa"},console.log("thongTinCongDanOutput",t.thongTinCongDan)},formatInputData:function(){var t=this;t.ngaySinhCreate=t.dateLocale(t.thongTinCongDan.ngaySinh),t.gioiTinhCreate=t.thongTinCongDan.gioiTinh,t.tonGiaoCreate=t.thongTinCongDan.tonGiao,t.quocTichCreate=t.thongTinCongDan.quocTich,t.danTocCreate=t.thongTinCongDan.danToc,t.trangThaiDuLieu="2"==t.thongTinCongDan.trangThaiDuLieu.maMuc,t.noiOHienTaiCuThe=t.thongTinCongDan.noiOHienTai.soNhaChiTiet,t.diaChiThuongTruCuThe=t.thongTinCongDan.diaChiThuongTru.soNhaChiTiet,t.thuongTruTinhThanh=t.thongTinCongDan.diaChiThuongTru.tinhThanh,t.thuongTruQuanHuyen=t.thongTinCongDan.diaChiThuongTru.quanHuyen,t.thuongTruPhuongXa=t.thongTinCongDan.diaChiThuongTru.phuongXa,t.noiOHienTaiTinhThanh=t.thongTinCongDan.noiOHienTai.tinhThanh,t.noiOHienTaiQuanHuyen=t.thongTinCongDan.noiOHienTai.quanHuyen,t.noiOHienTaiPhuongXa=t.thongTinCongDan.noiOHienTai.phuongXa},formatBirthDate:function(){var t=this,a=String(t.ngaySinhCreate).trim().length,n=String(t.ngaySinhCreate).split("/");if(a&&a>4&&3===n.length&&n[2])t.ngaySinhCreate=t.translateDate(t.ngaySinhCreate);else if(a&&8===a){var e=String(t.ngaySinhCreate);t.ngaySinhCreate=e.slice(0,2)+"/"+e.slice(2,4)+"/"+e.slice(4,8)}else t.ngaySinhCreate=""},translateDate:function(t){if(!t)return null;var a=t.split("/"),n=Pt(a,3),e=n[0],i=n[1],o=n[2];return"".concat(e.padStart(2,"0"),"/").concat(i.padStart(2,"0"),"/").concat(o)},dateLocale:function(t){var a=new Date(t);return"".concat(a.getDate().toString().padStart(2,"0"),"/").concat((a.getMonth()+1).toString().padStart(2,"0"),"/").concat(a.getFullYear())},convertDate:function(t){if(!t)return"";var a=t.split("/"),n=Pt(a,3),e=n[0],i=n[1],o=n[2],s="".concat(o,"-").concat(i.padStart(2,"0"),"-").concat(e.padStart(2,"0"));return new Date(s).toISOString()},convertDateLgsp:function(t){if(!t)return"";var a=t.split("/"),n=Pt(a,3),e=n[0],i=n[1],o=n[2],s="".concat(o,"-").concat(i.padStart(2,"0"),"-").concat(e.padStart(2,"0"));return s},goBack:function(){window.history.back()},convertString:function(t){return t=t.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),t=t.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),t=t.replace(/ì|í|ị|ỉ|ĩ/g,"i"),t=t.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),t=t.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),t=t.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),t=t.replace(/đ/g,"d"),t=t.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g,"A"),t=t.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g,"E"),t=t.replace(/Ì|Í|Ị|Ỉ|Ĩ/g,"I"),t=t.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g,"O"),t=t.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g,"U"),t=t.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g,"Y"),t=t.replace(/Đ/g,"D"),t=t.toLocaleLowerCase().replace(/\s/g,""),t}}},$t=Et,zt=n("b73d"),Kt=Object(u["a"])($t,Lt,Mt,!1,null,null,null),Bt=Kt.exports;p()(Kt,{VAlert:kt["a"],VAutocomplete:X["a"],VBtn:Q["a"],VCard:G["a"],VCardText:U["b"],VDialog:ut["a"],VFlex:S["a"],VForm:dt["a"],VIcon:J["a"],VLayout:k["a"],VSpacer:pt["a"],VSwitch:zt["a"],VTextField:W["a"],VToolbar:gt["a"],VToolbarTitle:mt["b"]});var jt=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("vue-confirm-dialog"),n("v-layout",{staticStyle:{background:"#fff"},attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",md8:""}},[n("div",{staticClass:"row-header no__hidden_class"},[n("div",{staticClass:"background-triangle-big"},[n("span",[t._v("THÔNG TIN TỔ CHỨC, DOANH NGHIỆP")])]),n("div",{staticClass:"layout row wrap header_tools row-blue mx-1"},[n("div",{staticClass:"flex text-right",staticStyle:{"margin-left":"auto"}},[n("v-btn",{staticClass:"mx-0 mr-2",attrs:{small:"",color:"primary"},on:{click:function(a){return t.goBack()}}},[n("v-icon",{attrs:{size:"18"}},[t._v("reply")]),t._v(" \n                      "),n("span",[t._v("Quay lại")])],1),n("v-btn",{staticClass:"mx-0 mr-2",attrs:{small:"",color:"primary",loading:t.loadingSearchLgsp,disabled:t.loadingSearchLgsp},on:{click:function(a){return t.checkCsdlDoanhNghiep()}}},[n("v-icon",{attrs:{size:"18"}},[t._v("check")]),t._v(" \n                      "),n("span",[t._v("Kiểm tra thông tin CSDL doanh nghiệp")])],1),n("v-btn",{staticClass:"mx-0",attrs:{small:"",color:"primary"},on:{click:function(a){return t.editCongDan(t.thongTinCongDan["primKey"])}}},[n("v-icon",{attrs:{size:"18"}},[t._v("edit")]),t._v(" \n                      "),n("span",[t._v("Cập nhật thông tin")])],1)],1)])]),n("div",[2==t.thongTinCongDan["trangThaiDuLieu"]["maMuc"]?n("div",{staticClass:"my-3"},[n("v-icon",{attrs:{color:"green darken-2"}},[t._v("\n                    verified\n                  ")]),n("span",{staticClass:"ml-2",staticStyle:{color:"#388E3C","text-transform":"uppercase","font-weight":"bold"}},[t._v(t._s(t.thongTinCongDan["trangThaiDuLieu"]["tenMuc"]))])],1):t._e(),1==t.thongTinCongDan["trangThaiDuLieu"]["maMuc"]?n("div",{staticClass:"my-3"},[n("v-icon",{attrs:{color:"red darken-2"}},[t._v("\n                    do_disturb\n                  ")]),n("span",{staticClass:"ml-2",staticStyle:{color:"#D32F2F","text-transform":"uppercase","font-weight":"bold"}},[t._v(t._s(t.thongTinCongDan["trangThaiDuLieu"]["tenMuc"]))])],1):t._e(),n("table",{staticClass:"cong-dan-info",staticStyle:{"border-bottom":"thin solid rgba(0, 0, 0, 0.12)"},attrs:{dense:!0}},[n("tbody",t._l(t.thongTin,(function(a,e){return n("tr",{key:e,class:{"td-highlight":e%2===0}},[n("td",{staticClass:"py-2 px-2",staticStyle:{width:"200px","border-right":"1px solid #dedede"}},[n("strong",[t._v(t._s(a.lable))])]),"action"!==a.value?n("td",{staticClass:"py-2 px-2"},[a.type&&"date"===a.type?n("span",[t._v(t._s(t.dateLocale(t.thongTinCongDan[a.value])))]):"danhmuc"===a.type?n("span",[t._v(t._s(t.thongTinCongDan[a.value]?t.thongTinCongDan[a.value]["tenMuc"]:""))]):"address"===a.type?n("span",[t.thongTinCongDan[a.value]?n("span",[t._v("\n                                  "+t._s(t.thongTinCongDan[a.value]["soNhaChiTiet"])+", "+t._s(t.thongTinCongDan[a.value]["phuongXa"]["tenMuc"])+" - \n                                  "+t._s(t.thongTinCongDan[a.value]["quanHuyen"]["tenMuc"])+" - "+t._s(t.thongTinCongDan[a.value]["tinhThanh"]["tenMuc"])+"\n                                ")]):n("span")]):"nguoiDaiDienHoTen"===a.value?n("span",[t._v(t._s(t.thongTinCongDan["nguoiDaiDien"]?t.thongTinCongDan["nguoiDaiDien"]["hoVaTen"]:""))]):"nguoiDaiDienMaSoCaNhan"===a.value?n("span",[t._v(t._s(t.thongTinCongDan["nguoiDaiDien"]?t.thongTinCongDan["nguoiDaiDien"]["maSoCaNhan"]:""))]):"sdt"===a.value?n("span",[t._v(t._s(t.thongTinCongDan["danhBaLienLac"]?t.thongTinCongDan["danhBaLienLac"]["soDienThoai"]:""))]):"email"===a.value?n("span",[t._v(t._s(t.thongTinCongDan["danhBaLienLac"]?t.thongTinCongDan["danhBaLienLac"]["thuDienTu"]:""))]):n("span",[t._v(t._s(t.thongTinCongDan[a.value]))])]):n("td",{staticClass:"py-2 px-2"},[n("v-btn",{attrs:{dark:"",text:"",color:"primary"}},[n("v-icon",{attrs:{dark:""}},[t._v("\n                                      mdi-plus\n                                  ")])],1)],1)])})),0)])])]),n("v-flex",{staticClass:"mt-0",attrs:{xs12:"",md4:""}},[n("v-card",{staticClass:"pt-4",staticStyle:{border:"1px solid rgb(222, 222, 222)","border-bottom-left-radius":"5px","border-bottom-right-radius":"5px","border-top":"none"},attrs:{flat:""}},[n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticClass:"mb-4",staticStyle:{width:"226px",height:"226px"},attrs:{src:"/o/hau-giang-theme/images/avt.png?t=98312312323"}}),n("h4",{staticClass:"title-page",staticStyle:{"font-size":"16px","font-weight":"bold",color:"#903938"}},[t._v(t._s(t.thongTinCongDan["tenGoi"]))]),n("v-layout",{staticClass:"mt-4",staticStyle:{width:"350px"},attrs:{wrap:""}},[n("v-flex",{attrs:{xs5:""}},[t._v("Mã tổ chức, doanh nghiệp:")]),n("v-flex",{staticClass:"mb-2",attrs:{xs7:""}},[n("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.thongTinCongDan["maSoDoanhNghiep"]))])]),n("v-flex",{staticClass:"pt-2",staticStyle:{"max-width":"100px"}},[t._v("Trạng thái: ")]),n("v-flex",[n("span",{staticClass:"font-weight-bold"},[t._v("\n                            "+t._s(t.thongTinCongDan&&t.thongTinCongDan["danhTinhDienTu"][0]&&t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["tenMuc"]?t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["tenMuc"]:"Chưa tạo tài khoản")+"\n                          ")]),n("v-tooltip",{attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 ml-2",attrs:{slot:"activator",color:"primary",flat:"",icon:""},on:{click:function(a){return t.viewLog()}},slot:"activator"},[n("v-icon",{attrs:{size:"22"}},[t._v("history")])],1),n("span",[t._v("Lịch sử thay đổi")])],1)],1)],1),t.thongTinCongDan?n("div",{staticClass:"d-flex justify-space-between w-full pb-2"},[t.thongTinCongDan["danhTinhDienTu"][0]&&2==t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["maMuc"]?n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:""},on:{click:function(a){return t.showChangePass()}}},[t._v("\n                          Đổi mật khẩu\n                        ")]):t._e(),t.thongTinCongDan["danhTinhDienTu"][0]?t._e():n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:"",loading:t.loadingSearchLgsp,disabled:t.loadingSearchLgsp},on:{click:function(a){return t.showCreateAcc()}}},[t._v("\n                            Tạo tài khoản\n                        ")]),t.thongTinCongDan["danhTinhDienTu"][0]&&1==t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["maMuc"]?n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:""},on:{click:function(a){return t.showChangeStatusAcc("active")}}},[t._v("\n                            Kích hoạt tài khoản\n                        ")]):t._e(),t.thongTinCongDan["danhTinhDienTu"][0]&&2==t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["maMuc"]?n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:""},on:{click:function(a){return t.showChangeStatusAcc("block")}}},[t._v("\n                            Khóa tài khoản\n                        ")]):t._e(),t.thongTinCongDan["danhTinhDienTu"][0]&&3==t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["maMuc"]?n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:""},on:{click:function(a){return t.showChangeStatusAcc("unlock")}}},[t._v("\n                            Mở khóa tài khoản\n                        ")]):t._e(),t.thongTinCongDan["danhTinhDienTu"][0]&&4==t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["maMuc"]?n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:""},on:{click:function(a){return t.showChangeStatusAcc("restore")}}},[t._v("\n                            Khôi phục tài khoản\n                        ")]):t._e(),t.thongTinCongDan["danhTinhDienTu"][0]&&3==t.thongTinCongDan["danhTinhDienTu"][0]["tinhTrangSuDungTaiKhoan"]["maMuc"]?n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:""},on:{click:function(a){return t.showChangeStatusAcc("delete")}}},[t._v("\n                          Xóa tài khoản\n                        ")]):t._e()],1):t._e(),t.thongTinCongDan&&t.thongTinCongDan["danhTinhDienTu"][0]?n("div",{staticClass:"d-flex justify-space-between w-full pb-4 "},[n("v-btn",{staticClass:"mt-3 mx-3 text-white",attrs:{color:"primary",small:""},on:{click:function(a){return t.printPhieu()}}},[t._v("\n                          In phiếu cấp tài khoản\n                      ")])],1):t._e()],1)])],1)],1),n("v-dialog",{attrs:{"max-width":"450",persistent:""},model:{value:t.dialogCreateAcc,callback:function(a){t.dialogCreateAcc=a},expression:"dialogCreateAcc"}},[n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Tạo tài khoản")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){t.dialogCreateAcc=!1}}},[n("v-icon",[t._v("clear")])],1)],1)],1),n("v-card-text",{staticClass:"mt-2"},[n("v-form",{ref:"formCreateAcc",attrs:{"lazy-validation":""},model:{value:t.validFormAdd,callback:function(a){t.validFormAdd=a},expression:"validFormAdd"}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[n("div",{staticClass:"text-label mb-2"},[n("span",[t._v("Mật khẩu tài khoản")]),n("span",{staticClass:"red--text"},[t._v(" (*)")])]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",rules:t.required,required:"","hide-details":"auto"},model:{value:t.passwordCreate,callback:function(a){t.passwordCreate=a},expression:"passwordCreate"}})],1)],1)],1)],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{staticClass:"white--text mr-2",attrs:{color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(a){t.dialogCreateAcc=!1}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              clear\n            ")]),t._v("\n            Thoát\n          ")],1),n("v-btn",{staticClass:"mr-2",attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(a){return t.createAccount(a)}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              save\n            ")]),n("span",[t._v("Tạo tài khoản")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"450",persistent:""},model:{value:t.dialogChangePass,callback:function(a){t.dialogChangePass=a},expression:"dialogChangePass"}},[n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Đổi mật khẩu")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){t.dialogChangePass=!1}}},[n("v-icon",[t._v("clear")])],1)],1)],1),n("v-card-text",{staticClass:"mt-2"},[n("v-form",{ref:"formChangePass",attrs:{"lazy-validation":""},model:{value:t.validFormChangePass,callback:function(a){t.validFormChangePass=a},expression:"validFormChangePass"}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[n("div",{staticClass:"text-label mb-2"},[n("span",[t._v("Mật khẩu mới")]),n("span",{staticClass:"red--text"},[t._v(" (*)")])]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",rules:t.required,required:"","hide-details":"auto"},model:{value:t.passwordChange,callback:function(a){t.passwordChange=a},expression:"passwordChange"}})],1)],1)],1)],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{staticClass:"white--text mr-2",attrs:{color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(a){t.dialogChangePass=!1}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              clear\n            ")]),t._v("\n            Thoát\n          ")],1),n("v-btn",{staticClass:"mr-2",attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(a){return t.submitChangePass(a)}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              save\n            ")]),n("span",[t._v("Xác nhận")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"650",persistent:""},model:{value:t.dialogNoteAction,callback:function(a){t.dialogNoteAction=a},expression:"dialogNoteAction"}},[n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v(t._s(t.titleAction))]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){t.dialogNoteAction=!1}}},[n("v-icon",[t._v("clear")])],1)],1)],1),n("v-card-text",{staticClass:"mt-2"},[n("v-form",{ref:"formActionAccount",attrs:{"lazy-validation":""},model:{value:t.validFormActionAccount,callback:function(a){t.validFormActionAccount=a},expression:"validFormActionAccount"}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[n("div",{staticClass:"text-label mb-2"},[n("span",[t._v("Nhập nội dung")])]),n("v-textarea",{staticClass:"input-form",attrs:{solo:"",dense:"","hide-details":"auto"},model:{value:t.noteAction,callback:function(a){t.noteAction=a},expression:"noteAction"}})],1)],1)],1)],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{staticClass:"white--text mr-2",attrs:{color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(a){t.dialogNoteAction=!1}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              clear\n            ")]),t._v("\n            Thoát\n          ")],1),n("v-btn",{staticClass:"mr-2",attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(a){return t.submitChangeStatusAcc(a)}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              save\n            ")]),n("span",[t._v("Xác nhận")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"900",persistent:""},model:{value:t.dialogStatusAccLog,callback:function(a){t.dialogStatusAccLog=a},expression:"dialogStatusAccLog"}},[n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Lịch sử thay đổi trạng thái tài khoản")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){t.dialogStatusAccLog=!1}}},[n("v-icon",[t._v("clear")])],1)],1)],1),n("v-card-text",{staticClass:"mt-2"},[n("v-data-table",{staticClass:"table-landing table-bordered mt-2",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.headersLog,items:t.logItems,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(a){return[n("tr",{class:{active:a.index%2==1},staticStyle:{cursor:"pointer"}},[n("td",{staticClass:"text-xs-center",staticStyle:{width:"50px",height:"36px"}},[n("div",[n("span",[t._v(t._s(a.index+1))])])]),n("td",{staticClass:"text-xs-left"},[n("div",{style:t.getLogActionName(a.item.activityCode)["color"]},[t._v("\n                      "+t._s(t.getLogActionName(a.item.activityCode)["name"])+"\n                  ")])]),n("td",{staticClass:"text-xs-left"},[n("div",[n("span",[t._v(t._s(a.item.activityNote))])])]),n("td",{staticClass:"text-xs-left"},[n("div",{staticClass:"font-weight-bold"},[t._v("\n                    "+t._s(a.item.createdBy.fullName)+"\n                  ")]),a.item.createdBy.email?n("div",[t._v("\n                    "+t._s(a.item.createdBy.email)+"\n                  ")]):t._e()]),n("td",{staticClass:"text-xs-left"},[n("div",[n("span",[t._v(t._s(t.dateLocaleTime(a.item.createdDate)))])])]),n("td",{staticClass:"text-xs-center",staticStyle:{height:"36px",width:"90px"}},[n("v-tooltip",{attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 mr-3 my-0",attrs:{slot:"activator",color:"green",flat:"",icon:""},on:{click:function(n){return t.editLog(a.item)}},slot:"activator"},[n("v-icon",{attrs:{size:"22"}},[t._v("edit")])],1),n("span",[t._v("Sửa nội dung")])],1)],1)])]}}])},[n("template",{slot:"no-data"},[n("div",{staticClass:"text-xs-center mt-2"},[t._v("\n                Không có lịch sử\n              ")])])],2)],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{staticClass:"white--text mr-2",attrs:{color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(a){t.dialogStatusAccLog=!1}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              clear\n            ")]),t._v("\n            Thoát\n          ")],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"650",persistent:""},model:{value:t.dialogChangeLog,callback:function(a){t.dialogChangeLog=a},expression:"dialogChangeLog"}},[n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Cập nhật nội dung")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){t.dialogChangeLog=!1}}},[n("v-icon",[t._v("clear")])],1)],1)],1),n("v-card-text",{staticClass:"mt-2"},[n("v-form",{ref:"formChangeLog",attrs:{"lazy-validation":""},model:{value:t.validFormChangeLog,callback:function(a){t.validFormChangeLog=a},expression:"validFormChangeLog"}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[n("v-textarea",{staticClass:"input-form",attrs:{solo:"",dense:"","hide-details":"auto"},model:{value:t.logChange,callback:function(a){t.logChange=a},expression:"logChange"}})],1)],1)],1)],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{staticClass:"mr-2",attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(a){return t.submitChangeLog(a)}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              save\n            ")]),n("span",[t._v("Xác nhận")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"900",persistent:""},model:{value:t.dialogPrint,callback:function(a){t.dialogPrint=a},expression:"dialogPrint"}},[n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Phiếu cấp tài khoản")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){t.dialogPrint=!1}}},[n("v-icon",[t._v("clear")])],1)],1)],1),n("v-card-text",{staticClass:"mt-2"},[n("div",{attrs:{id:"printPhieu_1"},domProps:{innerHTML:t._s(t.contentPrint)}})]),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{staticClass:"white--text mr-2",attrs:{color:"red"},on:{click:function(a){t.dialogPrint=!1}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              clear\n            ")]),t._v("\n            Thoát\n          ")],1),n("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},nativeOn:{click:function(a){return t.submitPrint(a)}}},[n("v-icon",{attrs:{left:""}},[t._v("\n              mdi-printer\n            ")]),n("span",[t._v("In phiếu")])],1)],1)],1)],1),n("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:t.dialog_searchLgsp,callback:function(a){t.dialog_searchLgsp=a},expression:"dialog_searchLgsp"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Thông tin trên CSDL quốc gia về doanh nghiệp")]),n("v-spacer"),n("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(a){t.dialog_searchLgsp=!1}}},[n("v-icon",[t._v("close")])],1)],1),n("v-card-text",{staticClass:"py-1"},[n("div",[t.applicantLgspInfomation?n("table",{staticClass:"datatable table my-3",staticStyle:{"border-top":"1px solid #dedede"}},[n("tbody",[n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Tên doanh nghiệp")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.NAME))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Mã số thuế")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.ENTERPRISE_GDT_CODE))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Người đại diện")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.FULL_NAME))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Địa chỉ")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.AddressFullText))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Ngày thành lập")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.dateLocale(t.applicantLgspInfomation.FOUNDING_DATE)))])])]),n("tr",[n("td",{staticClass:"pt-2"},[n("span",{staticClass:"text-bold"},[t._v("Loại hình doanh nghiệp")])]),n("td",{staticClass:"pt-2"},[n("span",{domProps:{innerHTML:t._s(t.applicantLgspInfomation.ENTERPRISE_TYPE_NAME)}})])]),n("tr",[n("td",{staticClass:"pt-2"},[n("span",{staticClass:"text-bold"},[t._v("Tình trạng hoạt động")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.ENTERPRISE_STATUS_NAME))])])])])]):n("div",{staticClass:"mx-1 flex my-4"},[n("v-alert",{attrs:{outline:"",color:"red",icon:"warning",value:!0}},[t._v("\n                Không có thông tin trên CSDL quốc gia về doanh nghiệp\n              ")])],1),n("v-flex",{staticClass:"text-right my-2",attrs:{xs12:""}},[n("v-btn",{staticClass:"mx-0 my-0 white--text",attrs:{color:"primary"},on:{click:function(a){t.dialog_searchLgsp=!1}}},[n("v-icon",{staticClass:"white--text",attrs:{size:"20"}},[t._v("clear")]),t._v("\n                 \n                Đóng\n              ")],1)],1)],1)])],1)],1)],1)},qt=[];I.a.options={closeButton:!0,timeOut:"5000",positionClass:"toast-top-center"},e["default"].use(bt.a),e["default"].component("vue-confirm-dialog",bt.a.default);var Xt={props:["id"],components:{},data:function(){return{selected:[],loadingData:!1,loadingAction:!1,headers:[{sortable:!1,text:"STT",align:"center",value:"index"},{sortable:!1,text:"Loại giấy tờ",align:"left",value:"cmnd"},{sortable:!1,text:"Số giấy tờ",align:"left",value:"fullname"},{sortable:!1,text:"Ngày cấp",align:"left",value:"contact"},{sortable:!1,text:"Nơi cấp",align:"left",value:"status"},{sortable:!1,text:"Thao tác",align:"center",value:"action"}],items:[{cmnd:"CMND",fullname:"029922398",contact:"11/12/2020",status:"Hà Nội"},{cmnd:"CMND",fullname:"029922398",contact:"11/12/2020",status:"Hà Nội"}],page:0,itemsPerPage:10,total:2,chuaCapTaiKhoan:!1,daCapTaiKhoan:!1,pageCount:10,thongTin:[{lable:"Tên tổ chức, doanh nghiệp",value:"tenGoi"},{lable:"Mã số tổ chức, doanh nghiệp",value:"maSoDoanhNghiep"},{lable:"Tên tiếng anh",value:"tenTiengAnh"},{lable:"Tên viết tắt",value:"tenVietTat"},{lable:"Họ tên người đại diện",value:"nguoiDaiDienHoTen"},{lable:"Số CMND/ CCCD người đại diện",value:"nguoiDaiDienMaSoCaNhan"},{lable:"Số điện thoại",value:"sdt"},{lable:"Email",value:"email"},{lable:"Địa chỉ hoạt động",value:"diaChiHoatDong",type:"address"}],thongTinCongDan:"",validFormAdd:!0,dialogCreateAcc:!1,passwordCreate:"",dialogChangePass:!1,validFormChangePass:!0,passwordChange:"",required:[function(t){return""!==t&&null!==t&&void 0!==t||"Thông tin bắt buộc"}],validFormActionAccount:!0,dialogNoteAction:!1,titleAction:"",noteAction:"",actionStatusAcc:"",dialogStatusAccLog:!1,headersLog:[{sortable:!1,text:"STT",align:"center",value:"index"},{sortable:!1,text:"Thao tác",align:"left",value:"activityCode"},{sortable:!1,text:"Nội dung",align:"left",value:"activityNote"},{sortable:!1,text:"Người thao tác",align:"left",value:"createdBy"},{sortable:!1,text:"Thời gian thao tác",align:"left",value:"createdDate"},{sortable:!1,text:"Thao tác",align:"center",value:"action"}],logItems:[],logUpdate:"",dialogChangeLog:!1,logChange:"",validFormChangeLog:!0,dialogPrint:!1,contentPrint:"",loadingSearchLgsp:!1,dialog_searchLgsp:!1,applicantLgspInfomation:""}},watch:{dialogNoteAction:function(t){this.noteAction=""}},created:function(){var t=this;t.$store.commit("SET_INDEXTAB",2),t.getThongTinCongDan()},methods:{getStatus:function(t){switch(t){case 1:return"Hoạt động";case 0:return"Đã khóa";default:return""}},editCongDan:function(t){this.$router.push({path:"/doanh-nghiep/"+t})},getThongTinCongDan:function(){var t=this,a={collectionName:"donvikinhdoanh",id:t.id};t.$store.dispatch("collectionDetail",a).then((function(a){t.thongTinCongDan=a.resp})).catch((function(){t.loadingData=!1}))},checkCsdlDoanhNghiep:function(){var t=this,a={applicantIdNo:String(t.thongTinCongDan.maSoDoanhNghiep).trim()};t.loadingSearchLgsp=!0,t.$store.dispatch("searchLgspDoanhNghiep",a).then((function(a){t.dialog_searchLgsp=!0,t.loadingSearchLgsp=!1,t.applicantLgspInfomation=a})).catch((function(a){t.dialog_searchLgsp=!0,t.applicantLgspInfomation="",t.loadingSearchLgsp=!1}))},showCreateAcc:function(){var t=this,a=function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="abcdefghijklmnopqrstuvwxyz",e="0123456789",i="@$!%*#?&",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s="";s+=a.charAt(Math.floor(Math.random()*a.length)),s+=n.charAt(Math.floor(Math.random()*n.length)),s+=e.charAt(Math.floor(Math.random()*e.length)),s+=i.charAt(Math.floor(Math.random()*i.length));for(var c=0;c<4;c++)s+=o.charAt(Math.floor(Math.random()*o.length));s=s.split("").sort((function(){return.5-Math.random()})).join(""),t.passwordCreate=t.thongTinCongDan["danhBaLienLac"]["soDienThoai"]?String(t.thongTinCongDan["danhBaLienLac"]["soDienThoai"]).trim():s,t.dialogCreateAcc=!0};t.loadingSearchLgsp=!0;var n={applicantIdNo:String(t.thongTinCongDan.maSoDoanhNghiep).trim()};t.$store.dispatch("searchLgspDoanhNghiep",n).then((function(n){t.loadingSearchLgsp=!1,""==n?t.$confirm({title:"Thông tin doanh nghiệp không có trên CSDL Quốc gia về doanh nghiệp",message:"Bạn có tiếp tục tạo tài khoản?",button:{yes:"Có",no:"Không"},callback:function(t){1==t&&a()}}):a()})).catch((function(){t.loadingSearchLgsp=!1,t.$confirm({title:"Thông tin doanh nghiệp không có trên CSDL Quốc gia về doanh nghiệp",message:"Bạn có tiếp tục tạo tài khoản?",button:{yes:"Có",no:"Không"},callback:function(t){1==t&&a()}})}))},createAccount:function(){var t=this;if(t.$refs.formCreateAcc.validate()){var a={data:{maDinhDanh:t.thongTinCongDan.maDinhDanh,password:t.passwordCreate,provider:"keycloak",type:"donvikinhdoanh"}};t.loadingAction=!0,t.$store.dispatch("createAccountCaNhan",a).then((function(a){t.loadingAction=!1,t.dialogCreateAcc=!1,I.a.remove(),I.a.success("Tạo tài khoản thành công"),t.getThongTinCongDan()})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Tạo tài khoản không thành công")}))}},activeAccount:function(){var t=this,a={data:{tenDinhDanh:t.thongTinCongDan["danhTinhDienTu"][0]["tenDinhDanh"],type:"donvikinhdoanh",activityNote:t.noteAction}};t.loadingAction=!0,t.$store.dispatch("activeCaNhan",a).then((function(a){t.loadingAction=!1,t.dialogCreateAcc=!1,I.a.remove(),I.a.success("Kích hoạt tài khoản thành công"),t.getThongTinCongDan(),t.dialogNoteAction=!1})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Kích hoạt tài khoản không thành công")}))},blockAccount:function(){var t=this,a={data:{tenDinhDanh:t.thongTinCongDan["danhTinhDienTu"][0]["tenDinhDanh"],provider:"keycloak",type:"donvikinhdoanh",activityNote:t.noteAction}};t.loadingAction=!0,t.$store.dispatch("blockCaNhan",a).then((function(a){t.loadingAction=!1,t.dialogCreateAcc=!1,I.a.remove(),I.a.success("Khóa tài khoản thành công"),t.getThongTinCongDan(),t.dialogNoteAction=!1})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Khóa tài khoản không thành công")}))},unBlockAccount:function(){var t=this,a={data:{tenDinhDanh:t.thongTinCongDan["danhTinhDienTu"][0]["tenDinhDanh"],provider:"keycloak",type:"donvikinhdoanh",activityNote:t.noteAction}};t.loadingAction=!0,t.$store.dispatch("unBlockCaNhan",a).then((function(a){t.loadingAction=!1,I.a.remove(),I.a.success("Mở khóa tài khoản thành công"),t.getThongTinCongDan(),t.dialogNoteAction=!1})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Mở khóa tài khoản không thành công")}))},restoreAccount:function(){var t=this,a={data:{tenDinhDanh:t.thongTinCongDan["danhTinhDienTu"][0]["tenDinhDanh"],type:"donvikinhdoanh",activityNote:t.noteAction}};t.loadingAction=!0,t.$store.dispatch("restoreCaNhan",a).then((function(a){t.loadingAction=!1,I.a.remove(),I.a.success("Mở khóa tài khoản thành công"),t.getThongTinCongDan(),t.dialogNoteAction=!1})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Mở khóa tài khoản không thành công")}))},deleteAccount:function(){var t=this;t.$confirm({title:"Xác nhận xóa dữ liệu",message:"Bạn có chắc chắn xóa tài khoản này?",button:{yes:"Có",no:"Không"},callback:function(a){if(1==a){var n={data:{tenDinhDanh:t.thongTinCongDan["danhTinhDienTu"][0]["tenDinhDanh"],provider:"keycloak",type:"donvikinhdoanh",activityNote:t.noteAction}};t.loadingAction=!0,t.$store.dispatch("deleteCaNhan",n).then((function(a){t.loadingAction=!1,t.dialogCreateAcc=!1,I.a.remove(),I.a.success("Xóa tài khoản thành công"),t.getThongTinCongDan(),t.dialogNoteAction=!1})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Xóa tài khoản không thành công")}))}}})},showChangePass:function(){var t=this;t.passwordChange="",t.dialogChangePass=!0},submitChangePass:function(){var t=this;if(t.$refs.formChangePass.validate()){var a={data:{tenDinhDanh:t.thongTinCongDan["danhTinhDienTu"][0]["tenDinhDanh"],matKhauMoi:t.passwordChange,type:"canhan"}};t.loadingAction=!0,t.$store.dispatch("changePass",a).then((function(a){t.loadingAction=!1,t.dialogChangePass=!1,I.a.remove(),I.a.success("Đổi mật khẩu thành công")})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Đổi mật khẩu thất bại")}))}},showChangeStatusAcc:function(t){var a=this;a.actionStatusAcc=t,"block"===t?a.titleAction="LÝ DO KHÓA TÀI KHOẢN":"active"===t?a.titleAction="NỘI DUNG KÍCH HOẠT TÀI KHOẢN":"unlock"===t?a.titleAction="NỘI DUNG MỞ KHÓA TÀI KHOẢN":"delete"===t?a.titleAction="LÝ DO XÓA TÀI KHOẢN":"restore"===t&&(a.titleAction="NỘI DUNG KHÔI PHỤC TÀI KHOẢN"),a.noteAction="",a.dialogNoteAction=!0,a.$refs.validFormActionAccount.resetValidation()},submitChangeStatusAcc:function(){var t=this;t.$refs.formActionAccount.validate()&&("block"===t.actionStatusAcc?t.blockAccount():"delete"===t.actionStatusAcc?t.deleteAccount():"active"===t.actionStatusAcc?t.activeAccount():"unlock"===t.actionStatusAcc?t.unLockAccount():"restore"===t.actionStatusAcc&&t.restoreAccount())},dateLocale:function(t){var a=new Date(t);return"".concat(a.getDate().toString().padStart(2,"0"),"/").concat((a.getMonth()+1).toString().padStart(2,"0"),"/").concat(a.getFullYear())},dateLocaleTime:function(t){var a=new Date(t);return"".concat(a.getDate().toString().padStart(2,"0"),"/").concat((a.getMonth()+1).toString().padStart(2,"0"),"/").concat(a.getFullYear()," ").concat(a.getHours().toString().padStart(2,"0"),":").concat(a.getMinutes().toString().padStart(2,"0")," ")},goBack:function(){window.history.back()},viewLog:function(){var t=this;if(!t.loadingData){t.loadingData=!0;var a={data:{className:"com.fds.flex.core.data.entity.T_Model.DanhTinhDienTu",classPK:t.thongTinCongDan["danhTinhDienTu"][0]["maDinhDanh"],page:0,size:100}};t.$store.dispatch("getLogChangeStatusAcc",a).then((function(a){t.loadingData=!1,t.logItems=a.content.reverse(),t.dialogStatusAccLog=!0})).catch((function(){t.loadingData=!1}))}},editLog:function(t){var a=this;a.logUpdate=t,a.logChange=t.activityNote,a.dialogChangeLog=!0},getLogActionName:function(t){switch(t){case"LOCK_ACCOUNT":return{name:"Khóa tài khoản",color:"color: orange"};case"DELETE_ACCOUNT":return{name:"Xóa tài khoản",color:"color: red"};case"UNLOCK_ACCOUNT":return{name:"Mở khóa tài khoản",color:"color: blue"};case"ACTIVE_ACCOUNT":return{name:"Kích hoạt tài khoản",color:"color: green"};case"RESTORE_ACCOUNT":return{name:"Khôi phục tài khoản",color:"color: green"};default:return{name:t,color:"color: black"}}},submitChangeLog:function(){var t=this,a={uuid:t.logUpdate["uuid"],data:{activityNote:t.logChange}};t.loadingAction=!0,t.$store.dispatch("updateLog",a).then((function(a){t.loadingAction=!1,I.a.remove(),I.a.success("Cập nhật thành công"),t.viewLog(),t.dialogChangeLog=!1})).catch((function(){t.loadingAction=!1,I.a.remove(),I.a.error("Cập nhật không thành công")}))},printPhieu:function(){var t=this,a={madinhdanh:t.thongTinCongDan["danhTinhDienTu"][0]["maDinhDanh"]};t.loadingAction=!0,t.$store.dispatch("printPhieu",a).then((function(a){t.contentPrint=a.content,t.loadingAction=!1,t.contentPrint?t.dialogPrint=!0:(I.a.remove(),I.a.error("Không có phiếu in"))})).catch((function(){t.loadingAction=!1}))},submitPrint:function(){var t=document.getElementById("printPhieu_1").innerHTML,a=window.open();a.document.write(t),a.document.close(),a.print()}}},Qt=Xt,Gt=(n("7991"),Object(u["a"])(Qt,jt,qt,!1,null,"666e8629",null)),Ut=Gt.exports;p()(Gt,{VAlert:kt["a"],VBtn:Q["a"],VCard:G["a"],VCardActions:U["a"],VCardText:U["b"],VDataTable:R["a"],VDialog:ut["a"],VFlex:S["a"],VForm:dt["a"],VIcon:J["a"],VLayout:k["a"],VSpacer:pt["a"],VTextField:W["a"],VTextarea:Nt["a"],VToolbar:gt["a"],VToolbarItems:mt["a"],VToolbarTitle:mt["b"],VTooltip:tt["a"]});var Rt=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("div",{staticClass:"row-header no__hidden_class"},[n("div",{staticClass:"background-triangle-big"},["update"==t.typeAction?n("span",[t._v("CẬP NHẬT THÔNG TIN TỔ CHỨC, DOANH NGHIỆP")]):t._e(),"add"==t.typeAction?n("span",[t._v("THÊM MỚI TỔ CHỨC, DOANH NGHIỆP")]):t._e()]),t._m(0)]),n("v-form",{ref:"formAddCaNhan",staticClass:"px-2",attrs:{"lazy-validation":""},model:{value:t.validFormAdd,callback:function(a){t.validFormAdd=a},expression:"validFormAdd"}},[n("v-layout",{staticClass:"py-2",attrs:{wrap:""}},[n("v-flex",{staticClass:"py-0 mb-2 pr-3",attrs:{xs12:""}},[n("label",[t._v("\n            Trạng thái thông tin "),n("span",{staticClass:"red--text"},[t._v("(*)")])]),n("v-switch",{staticClass:"mt-0 ml-3 d-inline-block",attrs:{color:"primary"},model:{value:t.trangThaiDuLieu,callback:function(a){t.trangThaiDuLieu=a},expression:"trangThaiDuLieu"}},[n("template",{slot:"label"},[n("span",{staticClass:"ml-2",staticStyle:{color:"black"}},[t._v(t._s(t.trangThaiDuLieu?"ĐANG SỬ DỤNG":"ĐÁNH DẤU XÓA"))])])],2)],1),n("v-flex",{staticClass:"py-0 mb-2 pr-3",attrs:{xs12:""}},[n("v-btn",{staticClass:"mx-0 mr-2",attrs:{small:"",color:"primary",loading:t.loadingSearchLgsp,disabled:t.loadingSearchLgsp},on:{click:function(a){return t.checkCsdlDoanhNghiep()}}},[n("v-icon",{attrs:{size:"18"}},[t._v("check")]),t._v(" \n            "),n("span",[t._v("Kiểm tra thông tin CSDL doanh nghiệp")])],1)],1),n("v-flex",{staticClass:"py-0 mb-2 pr-3",attrs:{xs12:"",md6:""}},[n("label",[t._v("Tên tổ chức, doanh nghiệp "),n("span",{staticClass:"red--text"},[t._v("(*)")])]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto",rules:t.required,required:""},model:{value:t.thongTinDoanhNghiep.tenGoi,callback:function(a){t.$set(t.thongTinDoanhNghiep,"tenGoi",a)},expression:"thongTinDoanhNghiep.tenGoi"}})],1),n("v-flex",{staticClass:"py-0",attrs:{xs12:"",md6:""}},[n("label",[t._v("Mã số tổ chức, doanh nghiệp "),n("span",{staticClass:"red--text"},[t._v("(*)")])]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto",rules:t.required,required:""},model:{value:t.thongTinDoanhNghiep.maSoDoanhNghiep,callback:function(a){t.$set(t.thongTinDoanhNghiep,"maSoDoanhNghiep",a)},expression:"thongTinDoanhNghiep.maSoDoanhNghiep"}})],1),n("v-flex",{staticClass:"py-0 mb-2 pr-3",attrs:{xs12:"",md6:""}},[n("label",[t._v("Tên viết tắt")]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto"},model:{value:t.thongTinDoanhNghiep.tenVietTat,callback:function(a){t.$set(t.thongTinDoanhNghiep,"tenVietTat",a)},expression:"thongTinDoanhNghiep.tenVietTat"}})],1),n("v-flex",{staticClass:"py-0 mb-2",attrs:{xs12:"",md6:""}},[n("label",[t._v("Tên tiếng anh")]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto"},model:{value:t.thongTinDoanhNghiep.tenTiengAnh,callback:function(a){t.$set(t.thongTinDoanhNghiep,"tenTiengAnh",a)},expression:"thongTinDoanhNghiep.tenTiengAnh"}})],1),n("v-flex",{staticClass:"py-0 mb-2 pr-3",attrs:{xs12:"",md6:""}},[n("label",[t._v("Email")]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto"},model:{value:t.thongTinDoanhNghiep.danhBaLienLac["thuDienTu"],callback:function(a){t.$set(t.thongTinDoanhNghiep.danhBaLienLac,"thuDienTu",a)},expression:"thongTinDoanhNghiep.danhBaLienLac['thuDienTu']"}})],1),n("v-flex",{staticClass:"py-0",attrs:{xs12:"",md6:""}},[n("label",[t._v("Điện thoại "),n("span",{staticClass:"red--text"},[t._v("(*)")])]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto",rules:t.required,required:""},model:{value:t.thongTinDoanhNghiep.danhBaLienLac["soDienThoai"],callback:function(a){t.$set(t.thongTinDoanhNghiep.danhBaLienLac,"soDienThoai",a)},expression:"thongTinDoanhNghiep.danhBaLienLac['soDienThoai']"}})],1),n("v-flex",{staticClass:"py-0 mb-2 pr-3",attrs:{xs12:"",md6:""}},[n("label",[t._v("Họ tên người đại diện")]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto"},model:{value:t.thongTinDoanhNghiep.nguoiDaiDien["hoVaTen"],callback:function(a){t.$set(t.thongTinDoanhNghiep.nguoiDaiDien,"hoVaTen",a)},expression:"thongTinDoanhNghiep.nguoiDaiDien['hoVaTen']"}})],1),n("v-flex",{staticClass:"py-0 mb-2",attrs:{xs12:"",md6:""}},[n("label",[t._v("Số CMND/ CCCD người đại diện")]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto"},model:{value:t.thongTinDoanhNghiep.nguoiDaiDien["maSoCaNhan"],callback:function(a){t.$set(t.thongTinDoanhNghiep.nguoiDaiDien,"maSoCaNhan",a)},expression:"thongTinDoanhNghiep.nguoiDaiDien['maSoCaNhan']"}})],1),n("v-flex",{staticClass:"py-0 mb-2",attrs:{xs12:""}},[n("label",[t._v("Địa chỉ hoạt động")]),n("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"",max:"","hide-details":"auto",placeholder:"Số nhà, đường, phố ..."},model:{value:t.diaChiHoatDongCuThe,callback:function(a){t.diaChiHoatDongCuThe=a},expression:"diaChiHoatDongCuThe"}})],1),n("v-flex",{staticClass:"py-0 mb-2 pr-3",attrs:{xs12:"",md4:""}},[n("label",[t._v("Tỉnh/ thành")]),n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsTinhThanh,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto","return-object":""},model:{value:t.thuongTruTinhThanh,callback:function(a){t.thuongTruTinhThanh=a},expression:"thuongTruTinhThanh"}})],1),n("v-flex",{staticClass:"py-0 pr-3",attrs:{xs12:"",md4:""}},[n("label",[t._v("Quận / Huyện")]),n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsThuongTruQuanHuyen,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto","return-object":""},model:{value:t.thuongTruQuanHuyen,callback:function(a){t.thuongTruQuanHuyen=a},expression:"thuongTruQuanHuyen"}})],1),n("v-flex",{staticClass:"py-0",attrs:{xs12:"",md4:""}},[n("label",[t._v("Phường / Xã")]),n("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.itemsThuongTruPhuongXa,"item-text":"tenMuc","item-value":"maMuc",dense:"",solo:"","hide-details":"auto","return-object":""},model:{value:t.thuongTruPhuongXa,callback:function(a){t.thuongTruPhuongXa=a},expression:"thuongTruPhuongXa"}})],1),n("v-flex",{staticClass:"text-center",attrs:{xs12:""}},[n("v-btn",{staticClass:"mt-3 mx-2  text-white",attrs:{color:"primary",outlined:"",loading:t.loading,disabled:t.loading},on:{click:function(a){return t.goBack()}}},[n("v-icon",{attrs:{left:"",dark:"",size:"20"}},[t._v("\n                    reply\n                ")]),t._v("\n                Quay lại\n            ")],1),"add"===t.typeAction?n("v-btn",{staticClass:"mt-3 mx-2  text-white",attrs:{color:"primary",loading:t.loading,disabled:t.loading},nativeOn:{click:function(a){return t.submitAddCongDan()}}},[n("v-icon",{attrs:{left:"",dark:"",size:"20"}},[t._v("\n                    save\n                ")]),t._v("\n                Thêm mới\n            ")],1):n("v-btn",{staticClass:"mt-3 mx-2  text-white",attrs:{color:"primary",loading:t.loading,disabled:t.loading},nativeOn:{click:function(a){return t.submitUpdateCongDan()}}},[n("v-icon",{attrs:{left:"",dark:"",size:"20"}},[t._v("\n                    save\n                ")]),t._v("\n                Cập nhật\n            ")],1)],1)],1)],1),n("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:t.dialog_searchLgsp,callback:function(a){t.dialog_searchLgsp=a},expression:"dialog_searchLgsp"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Thông tin trên CSDL quốc gia về doanh nghiệp")]),n("v-spacer"),n("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(a){t.dialog_searchLgsp=!1}}},[n("v-icon",[t._v("close")])],1)],1),n("v-card-text",{staticClass:"py-1"},[n("div",[t.applicantLgspInfomation?n("table",{staticClass:"datatable table my-3",staticStyle:{"border-top":"1px solid #dedede"}},[n("tbody",[n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Tên doanh nghiệp")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.NAME))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Mã số thuế")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.ENTERPRISE_GDT_CODE))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Người đại diện")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.FULL_NAME))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Địa chỉ")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.AddressFullText))])])]),n("tr",[n("td",{staticClass:"pt-2",attrs:{width:"200"}},[n("span",{staticClass:"text-bold"},[t._v("Ngày thành lập")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.dateLocale(t.applicantLgspInfomation.FOUNDING_DATE)))])])]),n("tr",[n("td",{staticClass:"pt-2"},[n("span",{staticClass:"text-bold"},[t._v("Loại hình doanh nghiệp")])]),n("td",{staticClass:"pt-2"},[n("span",{domProps:{innerHTML:t._s(t.applicantLgspInfomation.ENTERPRISE_TYPE_NAME)}})])]),n("tr",[n("td",{staticClass:"pt-2"},[n("span",{staticClass:"text-bold"},[t._v("Tình trạng hoạt động")])]),n("td",{staticClass:"pt-2"},[n("span",[t._v(t._s(t.applicantLgspInfomation.ENTERPRISE_STATUS_NAME))])])])])]):n("div",{staticClass:"mx-1 flex my-4"},[n("v-alert",{attrs:{outline:"",color:"red",icon:"warning",value:!0}},[t._v("\n              Không có thông tin trên CSDL quốc gia về doanh nghiệp\n            ")])],1),n("v-flex",{staticClass:"text-right my-2",attrs:{xs12:""}},[n("v-btn",{staticClass:"mx-0 my-0 white--text",attrs:{color:"primary"},on:{click:function(a){t.dialog_searchLgsp=!1}}},[n("v-icon",{staticClass:"white--text",attrs:{size:"20"}},[t._v("clear")]),t._v("\n               \n              Đóng\n            ")],1)],1)],1)])],1)],1)],1)},Jt=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"layout row wrap header_tools row-blue mx-1"},[n("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}})])}];function Yt(t,a){return na(t)||aa(t,a)||Wt(t,a)||Zt()}function Zt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wt(t,a){if(t){if("string"===typeof t)return ta(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ta(t,a):void 0}}function ta(t,a){(null==a||a>t.length)&&(a=t.length);for(var n=0,e=new Array(a);n<a;n++)e[n]=t[n];return e}function aa(t,a){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],e=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(e=(s=c.next()).done);e=!0)if(n.push(s.value),a&&n.length===a)break}catch(r){i=!0,o=r}finally{try{e||null==c["return"]||c["return"]()}finally{if(i)throw o}}return n}}function na(t){if(Array.isArray(t))return t}e["default"].use(bt.a),e["default"].component("vue-confirm-dialog",bt.a.default),I.a.options={closeButton:!0,timeOut:"5000",positionClass:"toast-top-center"};var ea={props:["id"],data:function(){return{loadingSearchLgsp:!1,dialog_searchLgsp:!1,applicantLgspInfomation:"",loading:!1,validFormAdd:!1,typeAction:"add",itemsTinhThanh:[],diaChiHoatDongCuThe:"",thuongTruTinhThanh:"",itemsThuongTruQuanHuyen:[],thuongTruQuanHuyen:"",itemsThuongTruPhuongXa:[],thuongTruPhuongXa:"",thongTinDoanhNghiep:{danhBaLienLac:{soDienThoai:"",soFax:"",thuDienTu:""},diaChiHoatDong:{phuongXa:{maMuc:"",tenMuc:""},quanHuyen:{maMuc:"",tenMuc:""},soNhaChiTiet:"",tinhThanh:{maMuc:"",tenMuc:""}},maDinhDanh:"",giayCapPhepKinhDoanh:[],giayDangKyKinhDoanh:[],maSoDoanhNghiep:"",nguoiDaiDien:{hoVaTen:"",maDinhDanh:"",maSoCaNhan:""},tenGoi:"",tenTiengAnh:"",tenVietTat:"",tinhTrangToChuc:{maMuc:"",tenMuc:""},trangThaiDuLieu:{maMuc:"",tenMuc:""},vaiTroSuDung:[]},required:[function(t){return""!==t&&null!==t&&void 0!==t||"Thông tin bắt buộc"}],trangThaiDuLieu:!0}},created:function(){var t=this;t.$store.commit("SET_INDEXTAB",2),t.getDanhMucTinhThanh(),0!=t.id?(t.typeAction="update",t.getThongTinCongDan()):t.typeAction="add"},watch:{$route:function(t,a){var n=this;n.$store.commit("SET_INDEXTAB",2),n.getDanhMucTinhThanh(),0!=n.id?(n.typeAction="update",n.getThongTinCongDan()):n.typeAction="add"},thuongTruTinhThanh:function(){var t=this;t.changeTinhThanh()},thuongTruQuanHuyen:function(){var t=this;t.changeQuanHuyen()}},methods:{checkCsdlDoanhNghiep:function(){var t=this;if(t.thongTinDoanhNghiep.maSoDoanhNghiep){var a={applicantIdNo:String(t.thongTinDoanhNghiep.maSoDoanhNghiep).trim()};t.loadingSearchLgsp=!0,t.$store.dispatch("searchLgspDoanhNghiep",a).then((function(a){t.dialog_searchLgsp=!0,t.loadingSearchLgsp=!1,t.applicantLgspInfomation=a})).catch((function(a){t.dialog_searchLgsp=!0,t.applicantLgspInfomation="",t.loadingSearchLgsp=!1}))}else I.a.remove(),I.a.error("Vui lòng nhập Mã số thuế tổ chức, doanh nghiệp để tra cứu")},getThongTinCongDan:function(){var t=this,a={collectionName:"donvikinhdoanh",id:t.id};t.$store.dispatch("collectionDetail",a).then((function(a){var n=a.resp;if(n)for(var e in t.thongTinDoanhNghiep)n.hasOwnProperty(e)&&(t.thongTinDoanhNghiep[e]=n[e]);t.formatInputData(),console.log("dataCongDan",t.thongTinDoanhNghiep)})).catch((function(){t.loadingData=!1}))},submitAddCongDan:function(){var t=this;if(t.formatOutputData(),!t.loading)if(t.loading=!0,t.$refs.formAddCaNhan.validate()){var a={collectionName:"donvikinhdoanh",data:t.thongTinDoanhNghiep};t.$store.dispatch("collectionCreate",a).then((function(a){t.loading=!1,I.a.remove(),I.a.success("Thêm mới thành công"),window.history.back()})).catch((function(a){t.loading=!1,I.a.remove(),I.a.error("Thêm mới thất bại")}))}else t.loading=!1},submitUpdateCongDan:function(){var t=this;if(t.formatOutputData(),!t.loading)if(t.loading=!0,t.$refs.formAddCaNhan.validate()){var a={collectionName:"donvikinhdoanh",id:t.id,data:t.thongTinDoanhNghiep};t.$store.dispatch("collectionUpdate",a).then((function(a){t.loading=!1,I.a.remove(),I.a.success("Cập nhật thông tin thành công"),window.history.back()})).catch((function(a){t.loading=!1,I.a.remove(),I.a.error("Cập nhật thông tin thất bại")}))}else t.loading=!1},getDanhMucTinhThanh:function(){var t=this,a={collectionName:"tinhthanh",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",a).then((function(a){t.itemsTinhThanh=a.content})).catch((function(){}))},getDanhMuc:function(){var t=this,a={collectionName:"tongiao",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",a).then((function(a){t.itemsTonGiao=a.content})).catch((function(){}));var n={collectionName:"dantoc",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",n).then((function(a){t.itemsDanToc=a.content})).catch((function(){}));var e={collectionName:"quocgia",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",e).then((function(a){t.itemsQuocTich=a.content})).catch((function(){}));var i={collectionName:"gioitinh",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:""}};t.$store.dispatch("collectionFilter",i).then((function(a){t.itemsGioiTinh=a.content})).catch((function(){}))},changeTinhThanh:function(t){var a=this,n=a.thuongTruTinhThanh["maMuc"],e={collectionName:"quanhuyen",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:n}};a.$store.dispatch("collectionFilter",e).then((function(t){a.itemsThuongTruQuanHuyen=t.content})).catch((function(){}))},changeQuanHuyen:function(t){var a=this,n=a.thuongTruQuanHuyen["maMuc"],e={collectionName:"phuongxa",data:{keyword:"",page:0,size:100,orderFields:"maMuc",orderTypes:"asc",tinhTrang:"1",thamChieu_maMuc:n}};a.$store.dispatch("collectionFilter",e).then((function(t){a.itemsThuongTruPhuongXa=t.content})).catch((function(){}))},formatOutputData:function(){var t=this;t.thongTinDoanhNghiep.diaChiHoatDong={phuongXa:{maMuc:t.thuongTruPhuongXa.maMuc,tenMuc:t.thuongTruPhuongXa.tenMuc},quanHuyen:{maMuc:t.thuongTruQuanHuyen.maMuc,tenMuc:t.thuongTruQuanHuyen.tenMuc},tinhThanh:{maMuc:t.thuongTruTinhThanh.maMuc,tenMuc:t.thuongTruTinhThanh.tenMuc},soNhaChiTiet:t.diaChiHoatDongCuThe},t.thongTinDoanhNghiep.trangThaiDuLieu={maMuc:t.trangThaiDuLieu?"2":"1",tenMuc:t.trangThaiDuLieu?"Đang sử dụng":"Đánh dấu xóa"},console.log("thongTinCongDanOutput",t.thongTinDoanhNghiep)},formatInputData:function(){var t=this;t.diaChiHoatDongCuThe=t.thongTinDoanhNghiep.diaChiHoatDong.soNhaChiTiet,t.thuongTruTinhThanh=t.thongTinDoanhNghiep.diaChiHoatDong.tinhThanh,t.thuongTruQuanHuyen=t.thongTinDoanhNghiep.diaChiHoatDong.quanHuyen,t.thuongTruPhuongXa=t.thongTinDoanhNghiep.diaChiHoatDong.phuongXa,t.trangThaiDuLieu="2"==t.thongTinDoanhNghiep.trangThaiDuLieu.maMuc},formatBirthDate:function(){var t=this,a=String(t.ngaySinhCreate).trim().length,n=String(t.ngaySinhCreate).split("/");if(a&&a>4&&3===n.length&&n[2])t.ngaySinhCreate=t.translateDate(t.ngaySinhCreate);else if(a&&8===a){var e=String(t.ngaySinhCreate);t.ngaySinhCreate=e.slice(0,2)+"/"+e.slice(2,4)+"/"+e.slice(4,8)}else t.ngaySinhCreate=""},translateDate:function(t){if(!t)return null;var a=t.split("/"),n=Yt(a,3),e=n[0],i=n[1],o=n[2];return"".concat(e.padStart(2,"0"),"/").concat(i.padStart(2,"0"),"/").concat(o)},dateLocale:function(t){var a=new Date(t);return"".concat(a.getDate().toString().padStart(2,"0"),"/").concat((a.getMonth()+1).toString().padStart(2,"0"),"/").concat(a.getFullYear())},convertDate:function(t){if(!t)return"";var a=t.split("/"),n=Yt(a,3),e=n[0],i=n[1],o=n[2],s="".concat(o,"-").concat(i.padStart(2,"0"),"-").concat(e.padStart(2,"0"));return new Date(s).toISOString()},goBack:function(){window.history.back()}}},ia=ea,oa=Object(u["a"])(ia,Rt,Jt,!1,null,null,null),sa=oa.exports;p()(oa,{VAlert:kt["a"],VAutocomplete:X["a"],VBtn:Q["a"],VCard:G["a"],VCardText:U["b"],VDialog:ut["a"],VFlex:S["a"],VForm:dt["a"],VIcon:J["a"],VLayout:k["a"],VSpacer:pt["a"],VSwitch:zt["a"],VTextField:W["a"],VToolbar:gt["a"],VToolbarTitle:mt["b"]});var ca=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[t._v("\n  13123\n")])},ra=[],la=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"form-chitiet"},[n("div",[n("v-tabs",{attrs:{"icons-and-text":""},model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[n("v-tabs-slider",{attrs:{color:"primary"}}),n("v-tab",{key:1,attrs:{href:"#tabs-1"},on:{click:function(a){return t.getNextActions()}}},[n("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[3===t.originality?n("span",[t._v("XỬ LÝ HỒ SƠ")]):n("span",[t._v("CHUẨN BỊ HỒ SƠ")])])],1),n("v-tabs-items",{staticStyle:{overflow:"visible!important"},attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"},model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[n("v-tab-item",{key:1,attrs:{value:"tabs-1","reverse-transition":"fade-transition",transition:"fade-transition"}},[0!==t.checkInput&&t.filterNextActionEnable(t.btnDossierDynamics)?n("div",{staticStyle:{position:"relative"}},[n("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0]}},[n("v-expansion-panel-content",{key:1,attrs:{"hide-actions":""}},[t._v("\n                123\n              ")])],1)],1):t._e(),t.btnStateVisible?n("div",{staticClass:"px-4 py-3",staticStyle:{"border-bottom":"1px solid #dddddd"}},[t._l(t.btnPlugins,(function(a,e){return n("v-btn",{key:e,staticClass:"ml-0 mr-2",attrs:{color:"primary",loading:t.loadingPlugin,disabled:t.loadingPlugin},nativeOn:{click:function(n){return t.processPullBtnplugin(a,e)}}},[t._v("\n              "+t._s(a.pluginName)+"\n              "),n("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])})),t.btnStepsDynamics.length>0&&t.thongTinChiTietHoSo["permission"].indexOf("write")>=0?n("v-menu",{staticStyle:{display:"inline-block",position:"relative !important"},attrs:{bottom:"","offset-y":""}},[n("v-btn",{staticClass:"deactive__btn",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Khác   "),n("v-icon",{attrs:{size:"18"}},[t._v("arrow_drop_down")])],1),n("v-list",t._l(t.btnStepsDynamics,(function(a,e){return n("v-list-tile",{key:e,on:{click:function(n){return t.btnActionEvent(a,e)}}},[n("v-list-tile-title",[t._v(t._s(a.title))])],1)})),1)],1):t._e()],2):t._e()])],1)],1)],1)])},ha=[],ua=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("v-card",[t._l(t.dossierTemplateItems,(function(a,e){return t.partTypes.includes(a.partType)&&t.checkVisibleTemp(a,e)?n("div",{key:a.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative"}},[n("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{expand:"",value:[t.currentFormView==="formAlpaca"+a.partNo+t.id]}},[n("v-expansion-panel-content",{attrs:{"hide-actions":""}},[n("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(a){t.stateView=!1}},slot:"header"},[n("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:t.checkStyle(a)}},[n("div",{staticClass:"mr-2",staticStyle:{"min-width":"18px",display:"flex"},on:{click:function(n){t.onlyView&&a.hasForm?t.viewFile2(a):t.loadAlpcaForm(a)}}},[n("div",{staticClass:"header__tphs"},[n("span",{staticClass:"text-bold"},[t._v(t._s(e+1)+".")]),t._v("  ")]),n("div",{staticClass:"header__tphs"},[n("v-tooltip",{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[n("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                      "+t._s(a.partName)+"  \n                      "),a.required?n("span",{staticStyle:{color:"red"}},[t._v(" (*) ")]):t._e(),t._v("\n                        \n                    ")]),a.partTip["tip"]?n("span",[t._v(t._s(a.partTip["tip"]))]):t._e()]),a.hasForm&&a.daKhai&&(1===t.originality&&2!==a.partType||1!==t.originality)?n("v-tooltip",{attrs:{top:""}},[n("i",{staticClass:"fa fa-file-text-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator","aria-hidden":"true"},slot:"activator"}),n("span",[t._v("Biểu mẫu trực tuyến (Đã khai)")])]):t._e(),a.hasForm&&!a.daKhai&&(1===t.originality&&2!==a.partType||1!==t.originality)?n("v-tooltip",{attrs:{top:""}},[n("i",{staticClass:"fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator"},slot:"activator"}),n("span",[t._v("Biểu mẫu trực tuyến (Chưa khai)")])]):t._e(),t._v("\n                    \n                  "),!a.hasForm&&a.hasFileTemp?n("v-tooltip",{attrs:{top:""}},[n("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(n){return n.stopPropagation(),t.downloadFileTemplate(a,e)}},slot:"activator"},[t._v("save_alt")]),n("span",[t._v("Biểu mẫu điền thủ công")])],1):t._e()],1)]),n("div",{staticStyle:{display:"flex"}},[1===t.checkInput&&2===a.fileCheck&&a.stateEditFileCheck?n("v-text-field",{attrs:{placeholder:"Nhập lý do",rules:[function(t){return!!t||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.changeFileComment(a,e)}},model:{value:a.fileComment,callback:function(n){t.$set(a,"fileComment",n)},expression:"item.fileComment"}}):t._e(),1===t.checkInput&&2===a.fileCheck&&a.stateEditFileCheck?n("v-tooltip",{attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(n){return n.stopPropagation(),t.changeFileComment(a,e)}},slot:"activator"},[n("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("send")])],1),n("span",[t._v("Gửi")])],1):t._e()],1),a.fileComment&&!a.stateEditFileCheck?n("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[t._v(t._s(a.fileComment))]):t._e(),a.fileComment&&!a.stateEditFileCheck&&1===t.checkInput?n("v-tooltip",{attrs:{top:""}},[n("v-icon",{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),a.stateEditFileCheck=!a.stateEditFileCheck}},slot:"activator"},[t._v("edit")]),n("span",[t._v("Chỉnh sửa ý kiến")])],1):t._e(),t._l(t.dossierFilesItems,(function(e,i){return a.partNo!==e.dossierPartNo||e.eForm?t._e():n("div",{key:i},[n("div",{style:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[n("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(a){return a.stopPropagation(),t.viewFile2(e)}}},[0!==e.fileSize?n("v-icon",[t._v("attach_file")]):t._e(),t._v("\n                    "+t._s(e.displayName)+" - \n                    "),n("i",[t._v(t._s(e.modifiedDate))])],1),t.onlyView||1===t.checkInput?t._e():n("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(a){return a.stopPropagation(),t.deleteSingleFile(e,i)}}},[n("v-icon",{staticStyle:{color:"red"}},[t._v("delete_outline")])],1)],1)])})),n("div",{staticClass:"mr-3 my-1 py-2",staticStyle:{display:"none",border:"1px solid #f3ae75"},attrs:{id:"fileApplicant-"+a.partNo}},t._l(t.dossierFilesApplicant,(function(e,i){return e.dossierTemplateNo===t.thongTinHoSo["dossierTemplateNo"]&&a.partNo===e.dossierPartNo?n("div",{key:i},[e.eForm?n("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[n("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[n("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(a){return a.stopPropagation(),t.viewGiayToDaNop(e)}},slot:"activator"},[n("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),t._v("  \n                        "+t._s(e.referenceUid)+"."+t._s(e.fileType)+" - \n                        "),n("i",[t._v(t._s(e.modifiedDate))])]),n("span",[t._v("Bản khai trực tuyến")])])],1):n("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[n("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[n("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(a){return a.stopPropagation(),t.viewGiayToDaNop(e)}},slot:"activator"},[0!==e.fileSize?n("v-icon",{staticStyle:{color:"#0d71bb"}},[t._v("attach_file")]):t._e(),t._v("\n                        "+t._s(e.displayName)+" - \n                        "),n("i",[t._v(t._s(e.modifiedDate))])],1),n("span",[t._v("Đính kèm")])])],1)]):t._e()})),0)],2)]),a.hasForm&&!t.onlyView?n("v-card",[n("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[n("v-layout",{attrs:{wrap:""}},[t.stateView?t._e():n("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[n("div",{style:t.pstFixed>t.pstEl&&t.pstFixed<t.endEl+t.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+a.partNo+t.id}},[a.hasForm&&!t.onlyView&&1!==t.checkInput?n("v-btn",{attrs:{color:"primary"},on:{click:function(n){return t.saveAlpacaForm(a,e)}}},[t._v("Lưu lại")]):t._e(),a.daKhai&&a.hasForm&&!t.onlyView&&1!==t.checkInput?n("v-btn",{attrs:{color:"primary"},on:{click:function(n){return t.deleteSingleFileEform(a,e)}}},[t._v("Xóa")]):t._e(),a.daKhai&&a.hasForm?n("v-btn",{attrs:{color:"primary"},on:{click:function(n){return t.previewFileEfom(a,e)}}},[t._v("In")]):t._e()],1),!t.onlyView||a.daKhai?n("div",{class:{no_acction__event:t.onlyView},attrs:{id:"formAlpaca"+a.partNo+t.id}}):t._e()])],1)],1)],1):t._e()],1)],1),n("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[t.loading?n("content-placeholders",{staticClass:"mt-1"},[n("content-placeholders-text",{attrs:{lines:1}})],1):n("v-layout",{attrs:{row:"",wrap:""}},[1===t.originality||1!==a.partType||t.thongTinHoSo.online||1===t.checkInput?t._e():n("v-flex",{staticClass:"layout wrap",staticStyle:{width:"110px"}},[n("v-select",{attrs:{items:t.fileMarkItems,disabled:t.onlyView},on:{change:function(a){return t.changeFileMark(a,e)}},model:{value:t.dossierTemplateItems[e].fileMark,callback:function(a){t.$set(t.dossierTemplateItems[e],"fileMark",a)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===t.checkInput?n("v-flex",{staticClass:"layout wrap",staticStyle:{width:"120px"}},[n("v-select",{attrs:{items:t.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(a){return t.changeFileCheck(a,e)}},model:{value:t.dossierTemplateItems[e].fileCheck,callback:function(a){t.$set(t.dossierTemplateItems[e],"fileCheck",a)},expression:"dossierTemplateItems[index].fileCheck"}})],1):a.fileCheck>0?n("v-flex",{staticClass:"layout wrap",style:{width:"20px","align-items":"center","margin-left":"10px","margin-top":t.thongTinHoSo.online?"10px":"0px"}},[1===a.fileCheck?n("v-tooltip",{attrs:{top:""}},[n("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("done")]),n("span",[t._v("Đạt")])],1):2===a.fileCheck?n("v-tooltip",{attrs:{top:""}},[n("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("close")]),n("span",[t._v("Không đạt")])],1):t._e()],1):t._e(),1!==t.checkInput?n("v-flex",{class:{"text-xs-right":t.onlyView},style:{width:t.onlyView?"auto":"90px"}},[n("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+a.partNo},on:{change:function(n){return t.onUploadSingleFile(n,a,e)}}}),3!==a.partType||3!==t.originality||t.onlyView?t._e():n("v-tooltip",{attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(n){return t.addFileOther(a)}},slot:"activator"},[n("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("add")])],1),n("span",[t._v("Thêm giấy tờ khác")])],1),t.progressUploadPart===a.partNo?n("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t.progressUploadPart===a.partNo||t.onlyView?t._e():n("v-tooltip",{attrs:{left:""}},[n("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(n){return t.pickFile(a)}},slot:"activator"},[n("v-badge",[n("v-icon",{attrs:{size:"16",color:"primary"}},[t._v("cloud_upload")])],1)],1),a.partTip["extensions"]||a.partTip["maxSize"]?n("span",[t._v("Chấp nhận tải lên các định dạng: "+t._s(a.partTip["extensions"])+". Tối đa "+t._s(a.partTip["maxSize"])+" MB ")]):n("span",[t._v("Tải file lên")])],1),t.partNoApplicantHasFile(a.partNo)&&!t.onlyView?n("v-tooltip",{attrs:{top:""}},[n("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(n){return t.showFilesApplicant(a.partNo)}},slot:"activator"},[n("v-badge",[n("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[t._v("warning")])],1)],1),n("span",[t._v("Giấy tờ đã nộp")])],1):t._e()],1):t._e()],1)],1)],1):t._e()})),t.partTypes.includes(2)?t._e():n("div",[n("v-layout",{staticClass:"mx-4",attrs:{wrap:""}},[!t.onlyView||t.onlyView&&t.applicantNoteDossier?n("v-flex",{staticClass:"my-0 py-2 text-bold",staticStyle:{width:"60px"}},[t._v("Ghi chú:")]):t._e(),n("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[t.onlyView?t._e():n("div",{staticClass:"pl-2"},[n("v-text-field",{staticClass:"py-0",attrs:{"multi-line":"",rows:"3"},on:{input:t.changeApplicantNote},model:{value:t.applicantNoteDossier,callback:function(a){t.applicantNoteDossier=a},expression:"applicantNoteDossier"}})],1),t.onlyView&&t.applicantNoteDossier?n("p",{staticClass:"my-0 py-2"},[t._v("\n            "+t._s(t.applicantNoteDossier)+" \n          ")]):t._e()])],1)],1),n("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:t.dialogAddOtherTemp,callback:function(a){t.dialogAddOtherTemp=a},expression:"dialogAddOtherTemp"}},[n("v-card",[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(a){t.valid=a},expression:"valid"}},[n("v-card-title",{staticClass:"headline"},[t._v("Tên giấy tờ")]),n("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(a){return t.cancelDialog(a)}}},[n("v-icon",[t._v("clear")])],1),t.loadingAddOther?n("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):t._e(),n("v-card-text",{staticClass:"pb-0 pt-4"},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Tên giấy tờ:",rules:[function(t){return!!t||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:t.otherDossierTemplate,callback:function(a){t.otherDossierTemplate=a},expression:"otherDossierTemplate"}})],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-3",flat:"flat"},nativeOn:{click:function(a){return t.cancelDialog(a)}}},[t._v("\n              Quay lại\n            ")]),n("v-btn",{attrs:{color:"primary",flat:"flat",loading:t.loadingAddOther},nativeOn:{click:function(a){return t.addOtherTemplate(a)}}},[t._v("\n              Đồng ý\n              "),n("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])],1)],1)],1)],1)],2),n("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(a){t.dialogPDF=a},expression:"dialogPDF"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t.pdfEform?n("span",[t._v("Bản khai trực tuyến")]):n("span",[t._v("File đính kèm")])]),n("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(a){t.dialogPDF=!1}}},[n("v-icon",[t._v("clear")])],1),t.dialogPDFLoading?n("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[n("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),n("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},da=[],pa={data:function(){return{}}},ga=pa,ma=n("4ca6"),va=n("12b2"),fa=n("cd55"),Ta=n("49e2"),Ca=n("8e36"),ya=Object(u["a"])(ga,ua,da,!1,null,null,null),xa=ya.exports;p()(ya,{VBadge:ma["a"],VBtn:Q["a"],VCard:G["a"],VCardActions:U["a"],VCardText:U["b"],VCardTitle:va["a"],VDialog:ut["a"],VExpansionPanel:fa["a"],VExpansionPanelContent:Ta["a"],VFlex:S["a"],VForm:dt["a"],VIcon:J["a"],VLayout:k["a"],VProgressCircular:N["a"],VProgressLinear:Ca["a"],VSelect:z["a"],VSpacer:pt["a"],VTextField:W["a"],VTooltip:tt["a"]});var ba={props:["index","id"],components:{"thanh-phan-ho-so":xa},data:function(){return{}}},Da=ba,_a=n("8860"),Sa=n("ba95"),ka=n("5d23"),Na=n("e449"),wa=n("71a3"),Aa=n("c671"),La=n("fe57"),Ma=n("aac8"),Pa=n("9a96"),Ia=Object(u["a"])(Da,la,ha,!1,null,null,null),Ha=Ia.exports;p()(Ia,{VBtn:Q["a"],VExpansionPanel:fa["a"],VExpansionPanelContent:Ta["a"],VIcon:J["a"],VList:_a["a"],VListTile:Sa["a"],VListTileTitle:ka["b"],VMenu:Na["a"],VTab:wa["a"],VTabItem:Aa["a"],VTabs:La["a"],VTabsItems:Ma["a"],VTabsSlider:Pa["a"]});var Fa={props:["id","formCode"],components:{"xem-chi-tiet-ho-so-detail-can-bo":Ha},data:function(){return{initData:null,step:""}}},Oa=Fa,Va=Object(u["a"])(Oa,ca,ra,!1,null,null,null),Ea=(Va.exports,[{path:"/",name:"DanhSachNguoiDung",component:nt,props:!0},{path:"/:index/quan-ly-giay-to",name:"QuanLyGiayTo",component:ft,props:!0},{path:"/thong-tin-ca-nhan/:id",name:"ChiTietCongDan",component:At,props:!0},{path:"/thong-tin-doanh-nghiep/:id",name:"ChiTietDoanhNghiep",component:Ut,props:!0},{path:"/cong-dan/:id",name:"ChinhSuaCongDan",component:Bt,props:!0},{path:"/doanh-nghiep/:id",name:"ChinhSuaDoanhNghiep",component:sa,props:!0},{path:"*",name:"NotFound",component:A}]);e["default"].use(C["a"]);var $a=new C["a"]({routes:Ea}),za=$a,Ka=n("2f62");e["default"].use(I.a),e["default"].use(Ka["a"]);var Ba=new Ka["a"].Store({state:{initData:{},endPoint:"/o/rest/v2",loading:!1,isMobile:!1,userLogin:"",applicantInfos:"",apiSso:"https://apigateway.haugiang.gov.vn"},actions:{loadInitResource:function(t){t.commit;var a=t.state;return new Promise((function(t,n){null!==window.themeDisplay&&void 0!==window.themeDisplay?(a.initData["groupId"]=window.themeDisplay.getScopeGroupId(),a.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(a.initData["groupId"]=0,a.initData["user"]={userName:"",userEmail:"",userId:20103}),t(a.initData)}))},getTokenKeyCloak:function(t,a){t.commit,t.state;return new Promise((function(t,a){var n={url:"/o/rest/v2/userSSO/token",method:"POST",headers:{"Content-Type":"application/json",Token:void 0!==window.Liferay?window.Liferay.authToken:"",dataType:"text"},data:{}};$.ajax(n).done((function(a){var n=a.responseText;t(n)})).fail((function(a){var n=a.responseText;t(n)}))}))},collectionCreate:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i=JSON.stringify(a.data),o={method:"post",url:n.apiSso+"/v1/datasharing/"+a.collectionName,headers:{Accept:"application/json","Content-Type":"application/json"},data:i};r()(o).then((function(a){var n=a.data;t(n)})).catch((function(t){var a="";try{a=t.response["status"]}catch(n){}e(a)}))}))},collectionUpdate:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i=JSON.stringify(a.data),o={method:"post",url:n.apiSso+"/v1/datasharing/"+a.collectionName+"/"+a.id,headers:{Accept:"application/json","Content-Type":"application/json"},data:i};r()(o).then((function(a){var n=a.data;t(n)})).catch((function(t){var a="";try{a=t.response["status"]}catch(n){}e(a)}))}))},collectionDelete:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i={method:"delete",url:n.apiSso+"/v1/datasharing/"+a.collectionName+"/"+a.id,headers:{Accept:"application/json","Content-Type":"application/json"},data:{}};r()(i).then((function(a){var n=a.data;t(n)})).catch((function(t){e(t)}))}))},collectionFilter:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i={method:"get",url:n.apiSso+"/v1/datasharing/"+a.collectionName+"/filter",headers:{Accept:"application/json","Content-Type":"application/json"},data:{},params:a.data};r()(i).then((function(a){var n=a.data;t(n)})).catch((function(t){e(t)}))}))},collectionDetail:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i={method:"get",url:n.apiSso+"/v1/datasharing/"+a.collectionName+"/"+a.id,data:{},headers:{Accept:"application/json","Content-Type":"application/json"}};r()(i).then((function(a){var n=a.data;t(n)})).catch((function(t){e(t)}))}))},loginKeyCloak:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i={url:n.apiSso+"/flex/oauth2/authorization_endpoint?redirect_uri="+a.uri,method:"GET",headers:{Secret:"JHoZK5AA9WCK6R3Dclj80o2uIpWCspN3","Content-Type":"application/json"}};$.ajax(i).done((function(a){t(a)})).fail((function(t){e(t)}))}))},logoutKeyCloak:function(t,a){t.commit;var n=t.state;return new Promise((function(t,a){var e={url:n.apiSso+"/flex/oauth2/logout_endpoint",method:"GET",headers:{"Content-Type":"application/json"}};$.ajax(e).done((function(a){t(a)})).fail((function(t){a(t)}))}))},createAccountCaNhan:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i=JSON.stringify(a.data),o={method:"post",url:n.apiSso+"/v1/datasharing/idp/account/"+a.data.type,headers:{Accept:"application/json","Content-Type":"application/json"},data:i};r()(o).then((function(a){var n=a.data;t(n)})).catch((function(t){e(t.response)}))}))},activeCaNhan:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i=JSON.stringify(a.data),o={method:"post",url:n.apiSso+"/v1/datasharing/idp/account/"+a.data.type+"/active",headers:{Accept:"application/json","Content-Type":"application/json"},data:i};r()(o).then((function(a){var n=a.data;t(n)})).catch((function(t){e(t.response)}))}))},blockCaNhan:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i=JSON.stringify(a.data),o={method:"post",url:n.apiSso+"/v1/datasharing/idp/account/"+a.data.type+"/lock",headers:{Accept:"application/json","Content-Type":"application/json"},data:i};r()(o).then((function(a){var n=a.data;t(n)})).catch((function(t){e(t.response)}))}))},unBlockCaNhan:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i=JSON.stringify(a.data),o={method:"post",url:n.apiSso+"/v1/datasharing/idp/account/"+a.data.type+"/unlock",headers:{Accept:"application/json","Content-Type":"application/json"},data:i};r()(o).then((function(a){var n=a.data;t(n)})).catch((function(t){e(t.response)}))}))},restoreCaNhan:function(t,a){t.commit,t.state;return new Promise((function(t,n){var e=JSON.stringify(a.data),i={method:"post",url:"/v1/datasharing/idp/account/"+a.data.type+"/restore",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};r()(i).then((function(a){var n=a.data;t(n)})).catch((function(t){n(t.response)}))}))},deleteCaNhan:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i=JSON.stringify(a.data),o={method:"delete",url:n.apiSso+"/v1/datasharing/idp/account/"+a.data.type+"/delete",headers:{Accept:"application/json","Content-Type":"application/json"},data:i};r()(o).then((function(a){var n=a.data;t(n)})).catch((function(t){e(t.response)}))}))},changePass:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i=JSON.stringify(a.data),o={method:"post",url:n.apiSso+"/v1/datasharing/idp/account/resetpwd",headers:{Accept:"application/json","Content-Type":"application/json"},data:i};r()(o).then((function(a){var n=a.data;t(n)})).catch((function(t){e(t.response)}))}))},getLogChangeStatusAcc:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i={method:"get",url:n.apiSso+"/v1/admin/activity/filter",headers:{Accept:"application/json","Content-Type":"application/json"},data:{},params:a.data};r()(i).then((function(a){var n=a.data;t(n)})).catch((function(t){e(t)}))}))},updateLog:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i=JSON.stringify(a.data),o={method:"post",url:n.apiSso+"/v1/admin/activity/"+a.uuid,headers:{Accept:"application/json","Content-Type":"application/json"},data:i};r()(o).then((function(a){var n=a.data;t(n)})).catch((function(t){e(t.response)}))}))},printPhieu:function(t,a){t.commit;var n=t.state;return new Promise((function(t,e){var i=JSON.stringify({}),o={method:"post",url:n.apiSso+"/v1/datasharing/idp/account/"+a.madinhdanh+"/printcontent",headers:{"Content-Type":"application/json"},data:i};r()(o).then((function(a){var n=a.data;t(n)})).catch((function(t){e(t.response)}))}))},searchLgspCongDan:function(t,a){t.commit,t.state;return new Promise((function(t,n){var e={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():""},params:{}},i="",o="/o/rest/v2/qldc/dvcqg";i={MaYeuCau:(new Date).getTime(),MaTichHop:"037",StaffEmail:a.StaffEmail,GovAgencyCode:"SLDTBXH",MaDVC:"",HoVaTen:a.applicantName,type:"TraCuuThongTinCongDan",NgayThangNamSinh:a.birthDate},9===String(a.applicantIdNo).length?i["SoCMND"]=a.applicantIdNo:i["SoDinhDanh"]=a.applicantIdNo,r()({method:"POST",url:o,headers:e.headers,params:e.params,data:i}).then((function(a){var n=a.data;if(n&&n.hasOwnProperty("Body")&&n["Body"].hasOwnProperty("CongdanCollection")&&n["Body"]["CongdanCollection"]){var e=n["Body"]["CongdanCollection"]["CongDan"];t(e)}else t("")})).catch((function(){n("")}))}))},searchLgspDoanhNghiep:function(t,a){t.commit,t.state;return new Promise((function(t,n){var e={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():""},params:{}},i={type:"ChiTietDoanhNghiep",msdn:a.applicantIdNo};r()({method:"POST",url:"/o/rest/v2/qldc/doanhnghiep",headers:e.headers,params:e.params,data:i}).then((function(a){var n=a.data;console.log("serializableDn",n);var e="";if(n&&n.hasOwnProperty("Data")&&n["Data"]&&n["Data"]["MainInformation"]){var i=Object.assign(n["Data"]["HOAdress"],n["Data"]["MainInformation"]);e=Object.assign(i,n["Data"]["Representatives"][0]),t(e)}else t("")})).catch((function(){n("")}))}))},searchApplicantCongDvc:function(t,a){t.commit,t.state;return new Promise((function(t,n){var e={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():""},params:{}},i=new URLSearchParams;i.append("method","GET"),i.append("url","/applicants/applicantIdNo/"+a.applicantIdNo),i.append("data",JSON.stringify({})),i.append("serverCode","SERVER_DVC"),r.a.post("/o/rest/v2/proxy",i,e).then((function(a){a.data?t(a.data):t("")})).catch((function(t){n("")}))}))},updateApplicantCongDvc:function(t,a){t.commit,t.state;return new Promise((function(t,n){var e={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():""},params:{}},i=new URLSearchParams;i.append("method","PUT"),i.append("url","/applicants/"+a.applicantId),i.append("data",JSON.stringify(a.data)),i.append("serverCode","SERVER_DVC"),r.a.post("/o/rest/v2/proxy",i,e).then((function(a){a.data?t(a.data):t("")})).catch((function(t){n("")}))}))}},mutations:{setLoading:function(t,a){t.loading=a},setApplicantInfos:function(t,a){t.applicantInfos=a}},getters:{loading:function(t){return t.loading},getApplicantInfos:function(t){return t.applicantInfos}}}),ja=n("967d"),qa=n("2b27"),Xa=n.n(qa);e["default"].use(Xa.a),e["default"].use(ja["default"]),e["default"].$cookies.get("TokenKeyCloak")?r.a.defaults.headers["Authorization"]="Bearer "+e["default"].$cookies.get("TokenKeyCloak"):Ba.dispatch("getTokenKeyCloak",{}).then((function(t){e["default"].$cookies.set("TokenKeyCloak",t),r.a.defaults.headers["Authorization"]="Bearer "+t})).catch((function(t){e["default"].$cookies.set("TokenKeyCloak",t),r.a.defaults.headers["Authorization"]="Bearer "+t})),r.a.interceptors.response.use((function(t){return t}),(function(t){return 401==t.response.status&&Ba.dispatch("getTokenKeyCloak",{}).then((function(t){e["default"].$cookies.set("TokenKeyCloak",t),r.a.defaults.headers["Authorization"]="Bearer "+t})).catch((function(t){e["default"].$cookies.set("TokenKeyCloak",t),r.a.defaults.headers["Authorization"]="Bearer "+t})),t.response,Promise.reject(t)})),e["default"].config.productionTip=!0,e["default"].mixin({data:function(){return{}},methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new e["default"]({router:za,store:Ba,beforeCreate:function(){},created:function(){var t=this;t.$nextTick((function(){}))},render:function(t){return t(T)}}).$mount("#app_sso_manager_applicant")},"74ef":function(t,a,n){},7991:function(t,a,n){"use strict";n("cf33")},b615:function(t,a,n){},bdc4:function(t,a,n){"use strict";n("b615")},cf33:function(t,a,n){}});