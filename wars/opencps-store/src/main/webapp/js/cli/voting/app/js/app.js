(function(t){function e(e){for(var i,s,r=e[0],l=e[1],c=e[2],p=0,u=[];p<r.length;p++)s=r[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&u.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(u.length)u.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},o=[];function s(t){return r.p+"../../wars/opencps-store/src/main/webapp/js/cli/voting/app/js/"+({HoanThienBoSungHoSoDetail:"HoanThienBoSungHoSoDetail",Landing:"Landing",TiepNhanHoSoDetail:"TiepNhanHoSoDetail"}[t]||t)+".js"}function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,i){a=n[t]=[e,i]}));e.push(a[2]=i);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=s(t);var c=new Error;o=function(e){l.onerror=l.onload=null,clearTimeout(p);var a=n[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",c.name="ChunkLoadError",c.type=i,c.request=o,a[1](c)}n[t]=void 0}};var p=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(e)},r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var p=0;p<l.length;p++)e(l[p]);var d=c;o.push(["f995","chunk-vendors"]),a()})({"025c":function(t,e,a){"use strict";a("a160")},"74ef":function(t,e,a){},a160:function(t,e,a){},f995:function(t,e,a){"use strict";a.r(e);a("0f18");var i=a("a026"),n=a("bb71");a("74ef");i["a"].use(n["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var o=a("7496"),s=a("549c"),r=function(){var t=this,e=t._self._c;return e(o["a"],{attrs:{id:"app_voting"}},[t._e(),e(s["a"],[e("router-view")],1)],1)},l=[],c={data:function(){return{}}},p=c,d=a("2877"),u=Object(d["a"])(p,r,l,!1,null,null,null),m=u.exports,h=a("8c4f"),g=function(){var t=this,e=t._self._c;return e("div",[t._v("\n  13123\n")])},f=[],v=a("8336"),y=a("cd55"),b=a("49e2"),x=a("132d"),_=a("8860"),w=a("ba95"),C=a("5d23"),S=a("e449"),k=a("71a3"),P=a("c671"),I=a("fe57"),N=a("aac8"),D=a("9a96"),V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-chitiet"},[e("div",[e(I["a"],{attrs:{"icons-and-text":""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e(D["a"],{attrs:{color:"primary"}}),e(k["a"],{key:1,attrs:{href:"#tabs-1"},on:{click:function(e){return t.getNextActions()}}},[e(v["a"],{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[3===t.originality?e("span",[t._v("XỬ LÝ HỒ SƠ")]):e("span",[t._v("CHUẨN BỊ HỒ SƠ")])])],1),e(N["a"],{staticStyle:{overflow:"visible!important"},attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e(P["a"],{key:1,attrs:{value:"tabs-1","reverse-transition":"fade-transition",transition:"fade-transition"}},[0!==t.checkInput&&t.filterNextActionEnable(t.btnDossierDynamics)?e("div",{staticStyle:{position:"relative"}},[e(y["a"],{staticClass:"expansion-pl",attrs:{value:[!0]}},[e(b["a"],{key:1,attrs:{"hide-actions":""}},[t._v("\n                123\n              ")])],1)],1):t._e(),t.btnStateVisible?e("div",{staticClass:"px-4 py-3",staticStyle:{"border-bottom":"1px solid #dddddd"}},[t._l(t.btnPlugins,(function(a,i){return e(v["a"],{key:i,staticClass:"ml-0 mr-2",attrs:{color:"primary",loading:t.loadingPlugin,disabled:t.loadingPlugin},nativeOn:{click:function(e){return t.processPullBtnplugin(a,i)}}},[t._v("\n              "+t._s(a.pluginName)+"\n              "),e("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])})),t.btnStepsDynamics.length>0&&t.thongTinChiTietHoSo["permission"].indexOf("write")>=0?e(S["a"],{staticStyle:{display:"inline-block",position:"relative !important"},attrs:{bottom:"","offset-y":""}},[e(v["a"],{staticClass:"deactive__btn",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Khác   "),e(x["a"],{attrs:{size:"18"}},[t._v("arrow_drop_down")])],1),e(_["a"],t._l(t.btnStepsDynamics,(function(a,i){return e(w["a"],{key:i,on:{click:function(e){return t.btnActionEvent(a,i)}}},[e(C["b"],[t._v(t._s(a.title))])],1)})),1)],1):t._e()],2):t._e()])],1)],1)],1)])},T=[],E=a("4ca6"),F=a("b0af"),A=a("99d9"),L=a("12b2"),O=a("169a"),$=a("0e8f"),M=a("4bd4"),R=a("a722"),z=a("490a"),j=a("8e36"),H=a("b56d"),G=a("9910"),B=a("2677"),q=a("3a2f"),U=function(){var t=this,e=t._self._c;return e("div",[e(F["a"],[t._l(t.dossierTemplateItems,(function(a,i){return t.partTypes.includes(a.partType)&&t.checkVisibleTemp(a,i)?e("div",{key:a.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative"}},[e(y["a"],{staticClass:"expaned__list__data",attrs:{expand:"",value:[t.currentFormView==="formAlpaca"+a.partNo+t.id]}},[e(b["a"],{attrs:{"hide-actions":""}},[e("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(e){t.stateView=!1}},slot:"header"},[e("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:t.checkStyle(a)}},[e("div",{staticClass:"mr-2",staticStyle:{"min-width":"18px",display:"flex"},on:{click:function(e){t.onlyView&&a.hasForm?t.viewFile2(a):t.loadAlpcaForm(a)}}},[e("div",{staticClass:"header__tphs"},[e("span",{staticClass:"text-bold"},[t._v(t._s(i+1)+".")]),t._v("  ")]),e("div",{staticClass:"header__tphs"},[e(q["a"],{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[e("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                      "+t._s(a.partName)+"  \n                      "),a.required?e("span",{staticStyle:{color:"red"}},[t._v(" (*) ")]):t._e(),t._v("\n                        \n                    ")]),a.partTip["tip"]?e("span",[t._v(t._s(a.partTip["tip"]))]):t._e()]),a.hasForm&&a.daKhai&&(1===t.originality&&2!==a.partType||1!==t.originality)?e(q["a"],{attrs:{top:""}},[e("i",{staticClass:"fa fa-file-text-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator","aria-hidden":"true"},slot:"activator"}),e("span",[t._v("Biểu mẫu trực tuyến (Đã khai)")])]):t._e(),a.hasForm&&!a.daKhai&&(1===t.originality&&2!==a.partType||1!==t.originality)?e(q["a"],{attrs:{top:""}},[e("i",{staticClass:"fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator"},slot:"activator"}),e("span",[t._v("Biểu mẫu trực tuyến (Chưa khai)")])]):t._e(),t._v("\n                    \n                  "),!a.hasForm&&a.hasFileTemp?e(q["a"],{attrs:{top:""}},[e(x["a"],{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.downloadFileTemplate(a,i)}},slot:"activator"},[t._v("save_alt")]),e("span",[t._v("Biểu mẫu điền thủ công")])],1):t._e()],1)]),e("div",{staticStyle:{display:"flex"}},[1===t.checkInput&&2===a.fileCheck&&a.stateEditFileCheck?e(B["a"],{attrs:{placeholder:"Nhập lý do",rules:[function(t){return!!t||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeFileComment(a,i)}},model:{value:a.fileComment,callback:function(e){t.$set(a,"fileComment",e)},expression:"item.fileComment"}}):t._e(),1===t.checkInput&&2===a.fileCheck&&a.stateEditFileCheck?e(q["a"],{attrs:{top:""}},[e(v["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return e.stopPropagation(),t.changeFileComment(a,i)}},slot:"activator"},[e(x["a"],{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("send")])],1),e("span",[t._v("Gửi")])],1):t._e()],1),a.fileComment&&!a.stateEditFileCheck?e("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[t._v(t._s(a.fileComment))]):t._e(),a.fileComment&&!a.stateEditFileCheck&&1===t.checkInput?e(q["a"],{attrs:{top:""}},[e(x["a"],{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),a.stateEditFileCheck=!a.stateEditFileCheck}},slot:"activator"},[t._v("edit")]),e("span",[t._v("Chỉnh sửa ý kiến")])],1):t._e(),t._l(t.dossierFilesItems,(function(i,n){return a.partNo!==i.dossierPartNo||i.eForm?t._e():e("div",{key:n},[e("div",{style:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[e("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(e){return e.stopPropagation(),t.viewFile2(i)}}},[0!==i.fileSize?e(x["a"],[t._v("attach_file")]):t._e(),t._v("\n                    "+t._s(i.displayName)+" - \n                    "),e("i",[t._v(t._s(i.modifiedDate))])],1),t.onlyView||1===t.checkInput?t._e():e(v["a"],{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(e){return e.stopPropagation(),t.deleteSingleFile(i,n)}}},[e(x["a"],{staticStyle:{color:"red"}},[t._v("delete_outline")])],1)],1)])})),e("div",{staticClass:"mr-3 my-1 py-2",staticStyle:{display:"none",border:"1px solid #f3ae75"},attrs:{id:"fileApplicant-"+a.partNo}},t._l(t.dossierFilesApplicant,(function(i,n){return i.dossierTemplateNo===t.thongTinHoSo["dossierTemplateNo"]&&a.partNo===i.dossierPartNo?e("div",{key:n},[i.eForm?e("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[e(q["a"],{staticStyle:{"max-width":"100%"},attrs:{top:""}},[e("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){return e.stopPropagation(),t.viewGiayToDaNop(i)}},slot:"activator"},[e("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),t._v("  \n                        "+t._s(i.referenceUid)+"."+t._s(i.fileType)+" - \n                        "),e("i",[t._v(t._s(i.modifiedDate))])]),e("span",[t._v("Bản khai trực tuyến")])])],1):e("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[e(q["a"],{staticStyle:{"max-width":"100%"},attrs:{top:""}},[e("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){return e.stopPropagation(),t.viewGiayToDaNop(i)}},slot:"activator"},[0!==i.fileSize?e(x["a"],{staticStyle:{color:"#0d71bb"}},[t._v("attach_file")]):t._e(),t._v("\n                        "+t._s(i.displayName)+" - \n                        "),e("i",[t._v(t._s(i.modifiedDate))])],1),e("span",[t._v("Đính kèm")])])],1)]):t._e()})),0)],2)]),a.hasForm&&!t.onlyView?e(F["a"],[e(A["b"],{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[e(R["a"],{attrs:{wrap:""}},[t.stateView?t._e():e($["a"],{staticClass:"text-xs-right",attrs:{xs12:""}},[e("div",{style:t.pstFixed>t.pstEl&&t.pstFixed<t.endEl+t.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+a.partNo+t.id}},[a.hasForm&&!t.onlyView&&1!==t.checkInput?e(v["a"],{attrs:{color:"primary"},on:{click:function(e){return t.saveAlpacaForm(a,i)}}},[t._v("Lưu lại")]):t._e(),a.daKhai&&a.hasForm&&!t.onlyView&&1!==t.checkInput?e(v["a"],{attrs:{color:"primary"},on:{click:function(e){return t.deleteSingleFileEform(a,i)}}},[t._v("Xóa")]):t._e(),a.daKhai&&a.hasForm?e(v["a"],{attrs:{color:"primary"},on:{click:function(e){return t.previewFileEfom(a,i)}}},[t._v("In")]):t._e()],1),!t.onlyView||a.daKhai?e("div",{class:{no_acction__event:t.onlyView},attrs:{id:"formAlpaca"+a.partNo+t.id}}):t._e()])],1)],1)],1):t._e()],1)],1),e("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[t.loading?e("content-placeholders",{staticClass:"mt-1"},[e("content-placeholders-text",{attrs:{lines:1}})],1):e(R["a"],{attrs:{row:"",wrap:""}},[1===t.originality||1!==a.partType||t.thongTinHoSo.online||1===t.checkInput?t._e():e($["a"],{staticClass:"layout wrap",staticStyle:{width:"110px"}},[e(H["a"],{attrs:{items:t.fileMarkItems,disabled:t.onlyView},on:{change:function(e){return t.changeFileMark(e,i)}},model:{value:t.dossierTemplateItems[i].fileMark,callback:function(e){t.$set(t.dossierTemplateItems[i],"fileMark",e)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===t.checkInput?e($["a"],{staticClass:"layout wrap",staticStyle:{width:"120px"}},[e(H["a"],{attrs:{items:t.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(e){return t.changeFileCheck(e,i)}},model:{value:t.dossierTemplateItems[i].fileCheck,callback:function(e){t.$set(t.dossierTemplateItems[i],"fileCheck",e)},expression:"dossierTemplateItems[index].fileCheck"}})],1):a.fileCheck>0?e($["a"],{staticClass:"layout wrap",style:{width:"20px","align-items":"center","margin-left":"10px","margin-top":t.thongTinHoSo.online?"10px":"0px"}},[1===a.fileCheck?e(q["a"],{attrs:{top:""}},[e(x["a"],{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("done")]),e("span",[t._v("Đạt")])],1):2===a.fileCheck?e(q["a"],{attrs:{top:""}},[e(x["a"],{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("close")]),e("span",[t._v("Không đạt")])],1):t._e()],1):t._e(),1!==t.checkInput?e($["a"],{class:{"text-xs-right":t.onlyView},style:{width:t.onlyView?"auto":"90px"}},[e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+a.partNo},on:{change:function(e){return t.onUploadSingleFile(e,a,i)}}}),3!==a.partType||3!==t.originality||t.onlyView?t._e():e(q["a"],{attrs:{top:""}},[e(v["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.addFileOther(a)}},slot:"activator"},[e(x["a"],{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("add")])],1),e("span",[t._v("Thêm giấy tờ khác")])],1),t.progressUploadPart===a.partNo?e(z["a"],{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t.progressUploadPart===a.partNo||t.onlyView?t._e():e(q["a"],{attrs:{left:""}},[e(v["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.pickFile(a)}},slot:"activator"},[e(E["a"],[e(x["a"],{attrs:{size:"16",color:"primary"}},[t._v("cloud_upload")])],1)],1),a.partTip["extensions"]||a.partTip["maxSize"]?e("span",[t._v("Chấp nhận tải lên các định dạng: "+t._s(a.partTip["extensions"])+". Tối đa "+t._s(a.partTip["maxSize"])+" MB ")]):e("span",[t._v("Tải file lên")])],1),t.partNoApplicantHasFile(a.partNo)&&!t.onlyView?e(q["a"],{attrs:{top:""}},[e(v["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.showFilesApplicant(a.partNo)}},slot:"activator"},[e(E["a"],[e(x["a"],{attrs:{size:"16",color:"orange darken-3"}},[t._v("warning")])],1)],1),e("span",[t._v("Giấy tờ đã nộp")])],1):t._e()],1):t._e()],1)],1)],1):t._e()})),t.partTypes.includes(2)?t._e():e("div",[e(R["a"],{staticClass:"mx-4",attrs:{wrap:""}},[!t.onlyView||t.onlyView&&t.applicantNoteDossier?e($["a"],{staticClass:"my-0 py-2 text-bold",staticStyle:{width:"60px"}},[t._v("Ghi chú:")]):t._e(),e($["a"],{staticStyle:{width:"calc(100% - 80px)"}},[t.onlyView?t._e():e("div",{staticClass:"pl-2"},[e(B["a"],{staticClass:"py-0",attrs:{"multi-line":"",rows:"3"},on:{input:t.changeApplicantNote},model:{value:t.applicantNoteDossier,callback:function(e){t.applicantNoteDossier=e},expression:"applicantNoteDossier"}})],1),t.onlyView&&t.applicantNoteDossier?e("p",{staticClass:"my-0 py-2"},[t._v("\n            "+t._s(t.applicantNoteDossier)+" \n          ")]):t._e()])],1)],1),e(O["a"],{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:t.dialogAddOtherTemp,callback:function(e){t.dialogAddOtherTemp=e},expression:"dialogAddOtherTemp"}},[e(F["a"],[e(M["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(L["a"],{staticClass:"headline"},[t._v("Tên giấy tờ")]),e(v["a"],{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.cancelDialog.apply(null,arguments)}}},[e(x["a"],[t._v("clear")])],1),t.loadingAddOther?e(j["a"],{staticClass:"my-0",attrs:{indeterminate:!0}}):t._e(),e(A["b"],{staticClass:"pb-0 pt-4"},[e(R["a"],{attrs:{wrap:""}},[e($["a"],{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[e(B["a"],{attrs:{label:"Tên giấy tờ:",rules:[function(t){return!!t||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:t.otherDossierTemplate,callback:function(e){t.otherDossierTemplate=e},expression:"otherDossierTemplate"}})],1)],1)],1),e(A["a"],[e(G["a"]),e(v["a"],{attrs:{color:"red darken-3",flat:"flat"},nativeOn:{click:function(e){return t.cancelDialog.apply(null,arguments)}}},[t._v("\n              Quay lại\n            ")]),e(v["a"],{attrs:{color:"primary",flat:"flat",loading:t.loadingAddOther},nativeOn:{click:function(e){return t.addOtherTemplate.apply(null,arguments)}}},[t._v("\n              Đồng ý\n              "),e("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])],1)],1)],1)],1)],2),e(O["a"],{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[e(F["a"],[e(L["a"],{staticClass:"headline"},[t.pdfEform?e("span",[t._v("Bản khai trực tuyến")]):e("span",[t._v("File đính kèm")])]),e(v["a"],{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[e(x["a"],[t._v("clear")])],1),t.dialogPDFLoading?e("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[e(z["a"],{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),e("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},K=[],Q={data:function(){return{}}},J=Q,X=Object(d["a"])(J,U,K,!1,null,null,null),Y=X.exports,W={props:["index","id"],components:{"thanh-phan-ho-so":Y},data:function(){return{}}},Z=W,tt=Object(d["a"])(Z,V,T,!1,null,null,null),et=tt.exports,at={props:["id","formCode"],components:{"xem-chi-tiet-ho-so-detail-can-bo":et},data:function(){return{initData:null,step:""}}},it=at,nt=Object(d["a"])(it,g,f,!1,null,null,null),ot=nt.exports,st=a("a523"),rt=function(){var t=this,e=t._self._c;return e(st["a"],{attrs:{fluid:""}},[e(R["a"],{attrs:{row:"",wrap:""}},[e($["a"],{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[e(z["a"],{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1)],1)},lt=[],ct={},pt=ct,dt=Object(d["a"])(pt,rt,lt,!1,null,null,null),ut=dt.exports,mt=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%","background-color":"#ffff","padding-top":"20px"}},[e(R["a"],{attrs:{row:"",wrap:""}},[e($["a"],{staticClass:"text-xs-center",staticStyle:{"margin-bottom":"20px"},attrs:{xs12:"",sm12:""}},[e("h3",{staticClass:"text-center",staticStyle:{color:"#065694"}},[t._v("CHỌN CƠ QUAN ĐỂ ĐÁNH GIÁ CÁN BỘ")])]),e($["a"],{attrs:{xs12:"",sm2:""}}),e($["a"],{attrs:{xs12:"",sm8:""}},[e(R["a"],{attrs:{row:"",wrap:""}},t._l(t.govAgencys,(function(a,i){return e($["a"],{key:i+"gov",staticStyle:{"padding-left":"5px","padding-right":"5px"},attrs:{xs12:"",sm4:""}},[e(v["a"],{staticClass:"btn-select",staticStyle:{width:"100%",height:"auto","min-height":"38px","background-color":"#b3d4fc5c!important"},attrs:{outline:"",flat:"",color:"primary"},on:{click:function(e){return t.viewListEmployee(a)}}},[e("span",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.itemName))])])],1)})),1)],1),e($["a"],{attrs:{xs12:"",sm2:""}})],1)],1)},ht=[],gt=a("bc3a"),ft=a.n(gt),vt={props:["index"],components:{},data:function(){return{govAgencys:[],btnLoading:!1,donViDanhGia:"",isDVC:!1}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){var t=this;try{donViDanhGiaConfig&&(t.donViDanhGia=donViDanhGiaConfig.split(","))}catch(e){}try{isDVC&&(t.isDVC=isDVC)}catch(e){}t.$nextTick((function(){var e=function(e){t.$router.push({path:"/danh-gia-can-bo/"+e.itemCode,query:{itemName:e.itemName}})};t.isDVC?t.$router.push({path:"/danh-gia-can-bo/dvc",query:{}}):t.$store.dispatch("loadGovAgencys",{}).then((function(a){var i=a,n=i.length;if(t.donViDanhGia){t.govAgencys=[];for(var o=function(e){var a=t.donViDanhGia.filter((function(t){return t==i[e]["itemCode"]}));a&&a.length>0&&t.govAgencys.push(i[e])},s=0;s<n;s++)o(s)}else n>1?function(){for(var a=0,o=function(o){var s={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():""},params:{start:0,end:1,jobposCode:"DANHGIA_"+i[o].itemCode}};ft.a.get("/o/rest/v2/employees/publish/"+i[o].itemCode,s).then((function(s){a+=1,s.data.data&&t.govAgencys.push(i[o]),a===n&&1===t.govAgencys.length&&e(t.govAgencys[0])})).catch((function(i){a+=1,a===n&&1===t.govAgencys.length&&e(t.govAgencys[0])}))},s=0;s<n;s++)o(s)}():1===n&&(t.govAgencys=i,e(t.govAgencys[0]))})).catch((function(t){}))}))},watch:{},methods:{viewListEmployee:function(t){this.$router.push({path:"/danh-gia-can-bo/"+t.itemCode,query:{itemName:t.itemName}})}},filters:{}},yt=vt,bt=Object(d["a"])(yt,mt,ht,!1,null,null,null),xt=bt.exports,_t=a("0798"),wt=a("ce7e"),Ct=a("891e"),St=function(){var t=this,e=t._self._c;return e("div",[e(R["a"],{attrs:{"justify-center":""}},[e($["a"],{attrs:{xs12:""}},[e(F["a"],{staticClass:"px-2",attrs:{flat:""}},[e("h3",{staticClass:"text-xs-center py-2",staticStyle:{color:"#065694"}},[t._v("ĐÁNH GIÁ CÁN BỘ")]),e(st["a"],{attrs:{fluid:"","grid-list-md":""}},[e(R["a"],{attrs:{row:"",wrap:""}},t._l(t.employeeItems,(function(a){return e($["a"],{key:a.employeeId,staticClass:"px-2 py-2",attrs:{xs12:"",sm6:"",md4:"",lg3:""}},[e(F["a"],{staticStyle:{"box-shadow":"none"},attrs:{flat:"",hover:"",color:"#1a571b21"},on:{click:function(e){return t.viewDetailEmployee(a)}}},[e(A["b"],{staticClass:"py-2 px-1",staticStyle:{overflow:"hidden"}},[e(R["a"],{attrs:{wrap:""}},[e($["a"],{staticStyle:{"text-align":"center!important"},attrs:{xs4:""}},[a["imgSrc"]?e("div",{staticClass:"mt-1",staticStyle:{"max-width":"100px",height:"150px",margin:"0 auto","background-position":"center","background-size":"cover"},style:"background-image: url("+a["imgSrc"]+");"}):e("img",{staticStyle:{"max-width":"100px",height:"150px","object-fit":"contain",background:"#ddd",opacity:"0.6"},attrs:{src:"/o/opencps-store/js/cli/voting/app/img/contacts-icon.png"}})]),e($["a"],{staticClass:"px-2",staticStyle:{"word-wrap":"break-word"},attrs:{xs8:""}},[e("div",{staticClass:"primary--text"},[t._v(t._s(a.jobPosTitle))]),e("div",{staticClass:"text-bold primary--text mb-2"},[t._v(t._s(a.fullName))]),e("div",[t._v(t._s(a.workingUnitName))]),e("div",[t._v("Email: "+t._s(a.email))])])],1)],1),e(wt["a"],{staticClass:"my-0",attrs:{light:""}}),e("div",{staticClass:"py-2"},[e(R["a"],{staticClass:"px-3",attrs:{wrap:""}},[e($["a"],{staticStyle:{"max-width":"100px"}},[e("span",{staticClass:"text-bold"},[t._v("Kết quả:")])]),e($["a"],[e("span",{staticClass:"text-bold primary--text"},[t._v(t._s(a["totalVoting"]?a["totalVoting"]:0)+" lượt đánh giá")])])],1)],1)],1)],1)})),1)],1),t.totalEmployee>t.numberPerPage?e("div",{staticClass:"text-xs-center pt-2 pb-3",staticStyle:{width:"100%","max-width":"350px",margin:"0 auto"}},[e(Ct["a"],{attrs:{length:t.lengthPage,circle:""},on:{input:t.changePage},model:{value:t.employeePage,callback:function(e){t.employeePage=e},expression:"employeePage"}})],1):t._e(),t.totalEmployee?t._e():e("div",[e(_t["a"],{staticClass:"mt-4 mx-3",attrs:{value:!0,outline:"",color:"blue",icon:"priority_high"}},[t._v("\n            Không có danh sách cán bộ\n          ")])],1),e($["a"],{staticClass:"text-xs-right mb-3",attrs:{xs12:"",sm12:""}},[e(v["a"],{attrs:{color:"primary"},on:{click:t.goBack}},[e(x["a"],{attrs:{size:"16"}},[t._v("reply")]),t._v(" \n            Quay lại \n          ")],1)],1)],1)],1)],1)],1)},kt=[],Pt=a("854a"),It=a.n(Pt),Nt=a("cc20"),Dt=function(){var t=this,e=t._self._c;return e("div",[e("span",[t._v("Kéo thả các ô vuông để cho đúng thứ tự")]),e("br"),e($["a"],{staticClass:"text-xs-center",attrs:{xs12:"",sm12:""}},[e(Nt["a"],{staticStyle:{"background-color":"#81D4FA"},attrs:{label:"","text-color":"white"}},[t._v("\n      "+t._s(t.captcha)+"\n    ")])],1),e("div",{directives:[{name:"drag-and-drop",rawName:"v-drag-and-drop:options",value:t.options,expression:"options",arg:"options"}],staticClass:"drag-wrapper text-xs-center mt-3"},[e("ul",{attrs:{id:"captcha"}},t._l(t.arrCaptcha,(function(a,i){return e("li",{key:i,staticClass:"item-captcha",staticStyle:{padding:"10px 15px","background-color":"#81D4FA","margin-right":"2px",color:"#fff","font-weight":"bold"}},[t._v(t._s(a))])})),0)])],1)},Vt=[],Tt=a("1157"),Et=a.n(Tt),Ft={props:["index"],components:{},data:function(){return{options:{},arrCaptcha:[],captcha:"",currentlyDragging:null,loggedEvent:"",images:[{name:"Image 1",src:"http://placehold.it/100/000000/ffffff"},{name:"Image 2",src:"http://placehold.it/100/C93742/ffffff"},{name:"Image 3",src:"http://placehold.it/100/6894D1/ffffff"}]}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){var t=this;t.makeRandomString(),t.shuffleArrCaptcha(t.arrCaptcha)},watch:{},methods:{makeRandomString:function(){for(var t=this,e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<4;i++)e+=a.charAt(Math.floor(Math.random()*a.length));e&&(t.arrCaptcha=t.shuffleArrCaptcha(e.split(""))),t.captcha=e},shuffleArrCaptcha:function(t){var e=t.length,a=null,i=0;while(e>0)i=Math.floor(Math.random()*e),e--,a=t[e],t[e]=t[i],t[i]=a;return t},checkValidCaptcha:function(){for(var t=this,e="",a=Et()("#captcha").children(),i=0;i<a.length;i++)e+=a[i].innerHTML;return t.captcha===e}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear())}return""}}},At=Ft,Lt=(a("025c"),Object(d["a"])(At,Dt,Vt,!1,null,null,null)),Ot=Lt.exports,$t=a("5b3d"),Mt=a.n($t),Rt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticStyle:{"text-align":"left",position:"absolute","line-height":"46px"}},[t._v("Tổng số "),e("span",{staticClass:"text-bold primary--text"},[t._v(t._s(t.total))]),t._v(" thủ tục. ")]),t.total>0?e("div",{staticClass:"vue-tiny-pagination pagination layout"},[e("div",{staticClass:"pr-3 xs4 flex"},[e(H["a"],{attrs:{items:t.totalPagesData,"item-text":"text","item-value":"value",autocomplete:""},on:{input:t.goToPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),e("ul",{staticClass:"tiny-pagination",class:t.customClass},[e("li",{staticClass:"page-item",class:t.classFirstPage},[e("button",{staticClass:"pagination__navigation",class:t.classFirstPage,on:{click:function(e){return e.preventDefault(),t.lastPageLast.apply(null,arguments)}}},[e("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("first_page")])])]),e("li",{staticClass:"page-item",class:t.classFirstPage},[e("button",{staticClass:"pagination__navigation",class:t.classFirstPage,staticStyle:{"border-left":"0"},on:{click:function(e){return e.preventDefault(),t.lastPage.apply(null,arguments)}}},[e("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("chevron_left")])])]),e("li",{staticClass:"page-item",staticStyle:{"margin-right":"0"}},[e("button",{staticClass:"pagination__navigation pagination__navigation--disabled text-bold primary--text",staticStyle:{"border-right":"0","border-left":"0"}},[t._v("\n          "+t._s(t.titlePage)+"\n        ")])]),e("li",{staticClass:"page-item",class:t.classLastPage,staticStyle:{"margin-right":"0"}},[e("button",{staticClass:"pagination__navigation",class:t.classLastPage,staticStyle:{"border-left":"0"},on:{click:function(e){return e.preventDefault(),t.nextPage.apply(null,arguments)}}},[e("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("chevron_right")])])]),e("li",{staticClass:"page-item",class:t.classLastPage},[e("button",{staticClass:"pagination__navigation",class:t.classLastPage,on:{click:function(e){return e.preventDefault(),t.nextPageLast.apply(null,arguments)}}},[e("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("last_page")])])])])]):t._e()])},zt=[],jt="TinyPagination",Ht={name:jt,props:{total:{type:Number,required:!0},page:{type:Number,default:1},lang:{type:String,default:"en"},customClass:{type:String},limits:{type:Array,default:function(){return[10,15,20,50,100]}},showLimit:{type:Boolean,default:!0}},data:function(){return{version:"0.2.1",currentPage:1,currentLimit:6,translations:{en:{prev:"Previous",title:"Page",next:"Next"}},availableLanguages:["en"]}},created:function(){this.currentPage=this.page},watch:{page:function(t){this.currentPage=parseInt(t)}},computed:{translation:function(){return this.availableLanguages.includes(this.lang)?this.translations[this.lang]:this.translations["en"]},totalPages:function(){return Math.ceil(this.total/this.currentLimit)},totalPagesData:function(){for(var t=[],e={},a=1;a<=this.totalPages;++a)e={value:a,text:"Trang "+a},t.push(e);return t},titlePage:function(){return"".concat(this.currentPage)},classFirstPage:function(){return{"c-not-allowed pagination__navigation--disabled":1===this.currentPage}},classLastPage:function(){return{"c-not-allowed pagination__navigation--disabled":this.currentPage===this.totalPages}}},methods:{nextPage:function(){this.currentPage!==this.totalPages&&(this.currentPage+=1,this.$emit("tiny:change-page",{page:this.currentPage}))},lastPage:function(){this.currentPage>1&&(this.currentPage-=1,this.$emit("tiny:change-page",{page:this.currentPage}))},nextPageLast:function(){this.currentPage=this.totalPages,this.$emit("tiny:change-page",{page:this.totalPages})},lastPageLast:function(){this.currentPage=1,this.$emit("tiny:change-page",{page:1})},goToPage:function(){this.$emit("tiny:change-page",{page:this.currentPage})},onLimitChange:function(){this.currentPage=1}}},Gt=Ht,Bt=Object(d["a"])(Gt,Rt,zt,!1,null,null,null),qt=Bt.exports;i["a"].use(It.a),It.a.options={closeButton:!0,timeOut:"5000"};var Ut={props:["itemCode"],components:{StarRating:Mt.a,captcha:Ot,"tiny-pagination":qt},data:function(){return{govAgencyName:{},itemName:"",employeeItems:[],btnLoading:!1,dialog_voting:!1,dialog_voting_result:!1,dialogShowApplicantIdNo:!1,applicantIdNo:"",dossierNo:"",employeeSelected:"",votingItems:[],lengthPage:0,totalEmployee:0,employeePage:1,numberPerPage:12,isDVC:!1,currentSite:!1}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){var t=this;try{isDVC&&(t.isDVC=isDVC)}catch(a){}try{t.currentSite=currentSite}catch(a){}var e=t.$router.history.current.query;t.employeePage=e.hasOwnProperty("page")?Number(e.page):1,t.getEmployee()},watch:{$route:function(t,e){var a=this;a.getEmployee()}},methods:{getEmployee:function(){var t=this,e=function(t){function e(t,e){return t.employeeNo<e.employeeNo?-1:t.employeeNo>e.employeeNo?1:0}return t.sort(e)},a={start:t.employeePage*t.numberPerPage-t.numberPerPage,end:t.employeePage*t.numberPerPage,itemCode:t.itemCode};t.isDVC?t.$store.dispatch("loadEmployeesMotcua",a).then((function(a){if(t.totalEmployee=a[0],t.employeeItems=e(a[1]),t.lengthPage=Math.ceil(a[0]/t.numberPerPage),t.employeeItems&&t.employeeItems.length>0)for(var i in t.employeeItems)t.getAvatar(t.employeeItems[i],i),t.getVotingEmployee(t.employeeItems[i],i)})).catch((function(e){t.totalThuTuc=0,t.thutucPage=1})):t.currentSite?t.$store.dispatch("loadEmployees",a).then((function(i){if(t.totalEmployee=i[0],t.employeeItems=e(i[1]),t.lengthPage=Math.ceil(i[0]/t.numberPerPage),t.employeeItems=t.employeeItems.slice(a.start,a.end),t.employeeItems&&t.employeeItems.length>0)for(var n in t.employeeItems)t.getVotingEmployee(t.employeeItems[n],n)})).catch((function(e){t.totalThuTuc=0,t.thutucPage=1})):t.$store.dispatch("loadEmployeesProxy",a).then((function(i){if(t.totalEmployee=i[0],t.employeeItems=e(i[1]),t.lengthPage=Math.ceil(i[0]/t.numberPerPage),t.employeeItems=t.employeeItems.slice(a.start,a.end),t.employeeItems&&t.employeeItems.length>0)for(var n in t.employeeItems)t.getVotingEmployee(t.employeeItems[n],n)})).catch((function(e){t.totalThuTuc=0,t.thutucPage=1}))},getAvatar:function(t,e){var a=this,i={employeeId:t.employeeId,itemCode:a.itemCode};a.isDVC?a.$store.dispatch("loadImageEmployee",i).then((function(t){if(""!==t&&null!==t){var i="";null!==window.themeDisplay&&void 0!==window.themeDisplay&&(i=window.themeDisplay.getPortalURL()),a.employeeItems[e]["imgSrc"]=i+t}})).catch((function(t){a.employeeItems[e]["imgSrc"]=""})):a.$store.dispatch("loadImageEmployeeProxy",i).then((function(t){if(""!==t&&null!==t){var i="";null!==window.themeDisplay&&void 0!==window.themeDisplay&&(i=window.themeDisplay.getPortalURL()),a.employeeItems[e]["imgSrc"]=i+t}})).catch((function(t){a.employeeItems[e]["imgSrc"]=""}))},viewDetailEmployee:function(t){var e=this;e.$store.commit("setEmployeeSelected",t),e.$router.push({path:"/danh-sach-can-bo/"+t.employeeId,query:{renew:Math.floor(100*Math.random())+1,itemCode:e.itemCode}})},getVotingEmployee:function(t,e){var a=this;a.isDVC?a.$store.dispatch("loadVoting",{className:"employee",classPk:t.employeeId}).then((function(t){var i=t.data,n=t.hasOwnProperty("votingCount")?t.votingCount:0;a.getScoreVoting(i,e,n)})).catch((function(t){})):a.currentSite?a.$store.dispatch("loadVoting",{className:"employee",classPk:t.employeeId,itemCode:a.itemCode}).then((function(t){var i=t.data,n=t.hasOwnProperty("votingCount")?t.votingCount:0;a.getScoreVoting(i,e,n)})).catch((function(t){})):a.$store.dispatch("loadVotingMotcua",{className:"employee",classPk:t.employeeId,itemCode:a.itemCode}).then((function(t){var i=t.data,n=t.hasOwnProperty("votingCount")?t.votingCount:0;a.getScoreVoting(i,e,n)})).catch((function(t){}))},getScoreVoting:function(t,e,a){var i=this;if(t&&t.length>0){for(var n=0,o=0,s=t.length,r=t[0]["answers"].length,l=0;l<s;l++){n+=t[l]["answersCount"];for(var c=0;c<r;c++)o+=t[l]["answers"][c]*(r-c)}n>0&&(i.employeeItems[e]["score"]=Number((5*o/(n*r)).toFixed(1))),i.employeeItems[e]["totalVoting"]=a}},changePage:function(){var t=this,e=t.$router.history.current,a=e.query,i="?";for(var n in a["page"]="",a)""!==a[n]&&"undefined"!==a[n]&&void 0!==a[n]&&null!==a[n]&&"null"!==a[n]&&(i+=n+"="+a[n]+"&");i+="page="+t.employeePage,t.$router.push({path:e.path+i})},goBack:function(){window.history.back()}}},Kt=Ut,Qt=Object(d["a"])(Kt,St,kt,!1,null,null,null),Jt=Qt.exports,Xt=a("67b6"),Yt=a("43a6"),Wt=function(){var t=this,e=t._self._c;return t.loading?e("div",{staticClass:"text-xs-center pt-4"},[e(z["a"],{attrs:{size:"100",width:"5",color:"purple",indeterminate:""}})],1):e("div",{staticClass:"px-2 pt-2",staticStyle:{height:"100%","background-color":"#ffff"}},[e(M["a"],{ref:"formVoting",attrs:{"lazy-validation":""},model:{value:t.validFormVoting,callback:function(e){t.validFormVoting=e},expression:"validFormVoting"}},[e(R["a"],{attrs:{row:"",wrap:""}},[e(st["a"],{staticClass:"px-5",staticStyle:{"font-size":"1.25em"},attrs:{"align-center":"",row:"",wrap:""}},[e($["a"],{staticStyle:{border:"1px solid #0072bc","border-top-left-radius":"7px","border-top-right-radius":"7px"},attrs:{xs12:""}},[e(R["a"],{attrs:{row:"",wrap:""}},[e($["a"],{staticClass:"py-3",attrs:{xs12:"",sm12:""}},[e(R["a"],{staticClass:"px-2",attrs:{wrap:""}},[e($["a"],{staticClass:"mt-1",staticStyle:{"text-align":"center!important","max-height":"200px"},attrs:{xs4:"",sm3:""}},[t.employeeSelected["imgSrc"]?e("div",{staticClass:"mt-1",staticStyle:{width:"100%","max-width":"150px",height:"200px",margin:"0 auto","background-position":"center","background-size":"cover"},style:"background-image: url("+t.employeeSelected["imgSrc"]+");"}):e("img",{staticStyle:{width:"100%","max-width":"150px",height:"200px","object-fit":"contain",opacity:"0.6",background:"#ddd"},attrs:{src:"/o/opencps-store/js/cli/voting/app/img/contacts-icon.png"}})]),e($["a"],{staticClass:"pl-2",staticStyle:{"word-wrap":"break-word",position:"relative"},attrs:{xs8:"",sm9:""}},[e("div",{staticClass:"primary--text"},[t._v("\n                    "+t._s(t.employeeSelected.titleJobpos?t.employeeSelected.titleJobpos:"Cán bộ tiếp nhận")+"\n                  ")]),e("div",{staticClass:"text-bold primary--text text-bold"},[t._v(t._s(t.employeeSelected.fullName))]),t.employeeSelected.agencyName?e("div",{staticClass:"mb-2"},[t._v(t._s(t.employeeSelected.agencyName))]):t._e(),e("div",{staticClass:"mb-2"},[t._v("Email: "+t._s(t.employeeSelected.email))]),e("div",{style:t.isMobile?"":"position:absolute;top:0;right:0"},[e("div",{staticClass:"text-bold primary--text pl-2"},[t._v(t._s(t.employeeSelected["totalVoting"])+" lượt đánh giá")])])])],1),t.isMobile?e("div",t._l(t.votingItems,(function(a,i){return e("div",{key:i,staticClass:"px-2 mt-3"},[e("div",{staticClass:"text-bold primary--text"},[t._v(t._s(i+1)+". "+t._s(a.subject))]),e("div",{staticClass:"ml-3"},[e(Yt["a"],{attrs:{height:"10",row:""},model:{value:a.selected,callback:function(e){t.$set(a,"selected",e)},expression:"item.selected"}},t._l(a["choices"],(function(t,a){return e(Xt["a"],{key:"rd"+a,attrs:{label:t,height:"10",value:a+1}})})),1)],1)])})),0):t._e()],1)],1)],1),t.isMobile?t._e():e($["a"],{staticClass:"py-3 px-2 pl-5",staticStyle:{border:"1px solid #0072bc","border-top":"0","border-bottom-left-radius":"7px","border-bottom-right-radius":"7px"},attrs:{xs12:""}},t._l(t.votingItems,(function(a,i){return e("div",{key:i,staticClass:"mb-2"},[e("div",{staticClass:"text-bold primary--text"},[t._v("* "+t._s(a.subject))]),e("div",{staticClass:"ml-3"},[e(Yt["a"],{staticClass:"py-0",attrs:{height:"10",row:""},model:{value:a.selected,callback:function(e){t.$set(a,"selected",e)},expression:"item.selected"}},t._l(a["choices"],(function(i,n){return e(Xt["a"],{key:"rd"+n,staticClass:"mr-4",attrs:{height:"10",value:n+1}},[e("div",{class:a.selected===n+1?"primary--text":"black--text",staticStyle:{"font-size":"16px","font-weight":"bold"},attrs:{slot:"label"},slot:"label"},[t._v(t._s(i))])])})),1)],1)])})),0)],1),e($["a"],{staticClass:"text-xs-center mb-3",attrs:{xs12:"",sm12:""}},[Array.isArray(t.votingItems)&&t.votingItems.length>0?e(v["a"],{attrs:{color:"primary",loading:t.votingDialog_hidden_loading,disabled:t.votingDialog_hidden_loading},on:{click:t.showFormVerify}},[t._v("\n          Gửi đánh giá\n        ")]):t._e(),e(v["a"],{attrs:{color:"primary"},on:{click:t.goBack}},[e(x["a"],{attrs:{size:"16"}},[t._v("reply")]),t._v(" \n          Quay lại \n        ")],1)],1)],1)],1),e(O["a"],{attrs:{persistent:"","max-width":"500"},model:{value:t.dialogVerify,callback:function(e){t.dialogVerify=e},expression:"dialogVerify"}},[e(F["a"],[e(L["a"],{staticClass:"headline"},[e("div",{staticStyle:{"text-align":"center",width:"100%"}},[t._v("Quý khách vui lòng nhập thông tin để gửi đánh giá")])]),e(A["b"],{staticClass:"py-2 px-2"},[e(M["a"],{ref:"formVerify",staticClass:"px-2 pt-2",attrs:{"lazy-validation":""},model:{value:t.validVerify,callback:function(e){t.validVerify=e},expression:"validVerify"}},[e($["a"],{attrs:{xs12:""}},[e("p",[t._v("Mã hồ sơ "),e("span",{staticStyle:{color:"red"}},[t._v("(*)")])]),e(B["a"],{attrs:{box:"",placeholder:"Nhập mã hồ sơ",rules:[function(t){return!!t||"Mã hồ sơ là bắt buộc"}],required:""},model:{value:t.dossierNo,callback:function(e){t.dossierNo=e},expression:"dossierNo"}})],1),e($["a"],{attrs:{xs12:""}},[e("p",[t._v("Số CMND/ mã số thuế "),e("span",{staticStyle:{color:"red"}},[t._v("(*)")])]),e(B["a"],{attrs:{box:"",placeholder:"Nhập số CMND/ mã số thuế",rules:[function(t){return!!t||"Số CMND/ mã số thuế là bắt buộc"}],required:""},model:{value:t.applicantIdNo,callback:function(e){t.applicantIdNo=e},expression:"applicantIdNo"}})],1),e($["a"],{attrs:{xs12:"",sm12:""}},[e("p",[t._v("Mã bảo mật "),e("span",{staticStyle:{color:"red"}},[t._v("(*)")])]),e(R["a"],{attrs:{wrap:""}},[e($["a"],{staticStyle:{width:"calc(100% - 200px)"}},[e(B["a"],{staticClass:"mr-2",attrs:{box:"",clearable:"",placeholder:"Nhập mã bảo mật",rules:[function(t){return!!t||"Mã bảo mật là bắt buộc"}],required:""},model:{value:t.captchaValue,callback:function(e){t.captchaValue=e},expression:"captchaValue"}})],1),e($["a"],{staticStyle:{width:"200px"}},[e("div",{staticClass:"d-inline-block text-xs-center",staticStyle:{background:"#d4d4d4","border-radius":"5px"},attrs:{id:"captcha"}}),e(v["a"],{staticClass:"right mx-0 my-0 mt-2",attrs:{outline:"",flat:""},nativeOn:{click:function(e){return t.createCaptcha.apply(null,arguments)}}},[e(x["a"],{attrs:{color:"primary",size:"32"}},[t._v("refresh")])],1)],1)],1)],1)],1)],1),e(A["a"],{staticClass:"mx-2"},[e(G["a"]),e(v["a"],{attrs:{color:"primary",disabled:t.btnLoading},on:{click:t.submitForm}},[e(x["a"],[t._v("how_to_reg")]),t._v(" \n            Xác nhận\n        ")],1),e(v["a"],{attrs:{color:"primary",disabled:t.btnLoading},on:{click:function(e){t.dialogVerify=!1}}},[e(x["a"],[t._v("clear")]),t._v(" \n            Hủy\n        ")],1)],1)],1)],1)],1)},Zt=[];function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e,a){return e=ae(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function ae(t){var e=ie(t,"string");return"symbol"===te(e)?e:String(e)}function ie(t,e){if("object"!==te(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,e||"default");if("object"!==te(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ne={props:["itemCode","id"],components:{captcha:Ot,StarRating:Mt.a},data:function(){var t;return t={applicantIdNo:"",workingUnit:{},employee:{},votingItems:[],itemName:"",btnLoading:!1,votingDialog_hidden_loading:!1,validFormVoting:!1,showCaptcha:!1,dialogShowApplicantIdNo:!1,isMobile:!1,dialogVerify:!1,validVerify:!1},ee(t,"applicantIdNo",""),ee(t,"dossierNo",""),ee(t,"captchaValue",""),ee(t,"captchaCode",""),ee(t,"arrAction",[]),ee(t,"isDVC",!1),ee(t,"currentSite",!1),t},computed:{loading:function(){return this.$store.getters.loading},employeeSelected:function(){return this.$store.getters.employeeSelected}},beforeDestroy:function(){"undefined"!==typeof window&&window.removeEventListener("resize",this.onResize,{passive:!0})},mounted:function(){this.onResize(),window.addEventListener("resize",this.onResize,{passive:!0})},created:function(){var t=this;try{isDVC&&(t.isDVC=isDVC)}catch(e){}try{t.currentSite=currentSite}catch(e){}t.$router.history.current.query;t.$nextTick((function(){t.getVotingEmployee()}))},watch:{},methods:{showFormVerify:function(){var t=this,e=!1;for(var a in t.votingItems)"0"!==String(t.votingItems[a]["selected"])&&(e=!0);e?(t.dialogVerify=!0,t.$refs.formVerify.resetValidation(),t.createCaptcha()):It.a.error("Bạn chưa chọn đánh giá nào")},submitForm:function(){var t=this;if(t.$refs.formVerify.validate()){var e=t.validateCaptcha();e&&t.checkDossierInfo()}else setTimeout((function(){t.createCaptcha()}),100)},checkDossierInfo:function(){var t=this,e={dossierNo:t.dossierNo};t.$store.dispatch("loadingDataHoSo",e).then((function(e){String(e.dossierNo)===String(t.dossierNo)?String(e.applicantIdNo)===String(t.applicantIdNo)?t.doVottingResultSubmit():It.a.error("Hồ sơ "+t.dossierNo+" không phải hồ sơ quý khách đã đăng ký. Quý khách vui lòng kiểm tra lại."):It.a.error("Hồ sơ "+t.dossierNo+" không tồn tại. Quý khách vui lòng kiểm tra lại.")})).catch((function(){It.a.error("Hồ sơ "+t.dossierNo+" không tồn tại. Quý khách vui lòng kiểm tra lại.")}))},getVotingEmployee:function(){var t=this,e=t.$router.history.current.query,a=e.hasOwnProperty("itemCode")?e.itemCode:"";t.isDVC?t.$store.dispatch("loadVoting",{className:"employee",classPk:t.id}).then((function(e){t.votingItems=e.data,t.getScoreVoting(t.votingItems),t.employeeSelected["totalVoting"]=e.hasOwnProperty("votingCount")?Number(e.votingCount):0})).catch((function(t){})):t.currentSite?t.$store.dispatch("loadVoting",{className:"employee",classPk:t.id,itemCode:a}).then((function(e){t.votingItems=e.data,t.getScoreVoting(t.votingItems),t.employeeSelected["totalVoting"]=e.hasOwnProperty("votingCount")?Number(e.votingCount):0})).catch((function(t){})):t.$store.dispatch("loadVotingMotcua",{className:"employee",classPk:t.id,itemCode:a}).then((function(e){t.votingItems=e.data,t.getScoreVoting(t.votingItems),t.employeeSelected["totalVoting"]=e.hasOwnProperty("votingCount")?Number(e.votingCount):0})).catch((function(t){}))},getScoreVoting:function(t){var e=this;if(t&&t.length>0){for(var a=0,i=0,n=t.length,o=t[0]["answers"].length,s=0;s<n;s++){a+=t[s]["answersCount"];for(var r=0;r<o;r++)i+=t[s]["answers"][r]*(o-r)}a>0&&(e.employeeSelected["score"]=Number((5*i/(a*o)).toFixed(1)))}},submitResultVoting:function(){var t=this,e=!1;for(var a in t.votingItems)"0"!==String(t.votingItems[a]["selected"])&&(e=!0);if(e){var i=window.themeDisplay?window.themeDisplay.isSignedIn():"";i?t.doVottingResultSubmit():t.dialogShowApplicantIdNo=!0}else It.a.error("Bạn chưa chọn đánh giá nào")},doVottingSubmit:function(){var t=this;if(t.$refs.formVoting.validate()){var e={applicantIdNo:t.applicantIdNo,dossierNo:t.dossierNo};t.$store.dispatch("checkPermisionVoting",e).then((function(e){!0===e.hasPermission||"true"===e.hasPermission?t.doVottingResultSubmit():It.a.error("Số CMTND hoặc Mã hồ sơ không chính xác")})).catch((function(t){It.a.error("Lỗi hệ thống")}))}},doVottingResultSubmit:function(){var t=this,e=t.$router.history.current.query,a=e.hasOwnProperty("itemCode")?e.itemCode:"";for(var i in t.arrAction=[],t.votingItems)t.votingItems[i]["className"]="employee",t.votingItems[i]["classPk"]=t.employeeSelected["employeeId"],"0"!==String(t.votingItems[i]["selected"])&&(t.isDVC||t.currentSite?t.arrAction.push(t.$store.dispatch("submitVoting",t.votingItems[i])):(t.votingItems[i]=Object.assign(t.votingItems[i],{itemCode:a}),t.arrAction.push(t.$store.dispatch("submitVotingProxy",t.votingItems[i]))));t.btnLoading=!0,Promise.all(t.arrAction).then((function(e){t.btnLoading=!1,It.a.success("Gửi đánh giá thành công"),t.goBack()})).catch((function(e){t.btnLoading=!1,It.a.error("Gửi đánh giá thất bại")}))},createCaptcha:function(){var t=this;document.getElementById("captcha").innerHTML="";for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ@!#&*",a=6,i=[],n=0;n<a;n++){var o=Math.floor(Math.random()*e.length+1);-1==i.indexOf(e[o])?i.push(e[o]):n--}var s=document.createElement("canvas");s.id="captcha",s.width=140,s.height=42;var r=s.getContext("2d");r.font="32px Georgia",r.strokeText(i.join(""),0,30),t.captchaCode=i.join(""),document.getElementById("captcha").appendChild(s)},validateCaptcha:function(){var t=this;return t.captchaValue==t.captchaCode||(It.a.error("Mã captcha không đúng. Vui lòng thử lại."),t.createCaptcha(),!1)},onResize:function(){var t=this;t.isMobile=window.innerWidth<600},goBack:function(){window.history.back()}},filters:{}},oe=ne,se=Object(d["a"])(oe,Wt,Zt,!1,null,null,null),re=se.exports,le=[{path:"/",component:xt,props:!1},{path:"/danh-gia-can-bo/:itemCode",component:Jt,props:!0},{path:"/danh-sach-can-bo/:id",component:re,props:!0},{path:"/danh-sach-ho-so/:index",name:"Landing",component:function(){return a.e("Landing").then(a.bind(null,"306c"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/tiep-nhan-ho-so/:id/:formCode",name:"TiepNhanHoSoDetail",component:function(){return a.e("TiepNhanHoSoDetail").then(a.bind(null,"d129"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/bo-sung-ho-so/:id",name:"HoanThienBoSungHoSoDetail",component:function(){return a.e("HoanThienBoSungHoSoDetail").then(a.bind(null,"a35c"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/ho-so/:id/:formCode",name:"DetailForward",component:ot,props:!0},{path:"*",name:"NotFound",component:ut}];i["a"].use(h["a"]);var ce=new h["a"]({routes:le}),pe=ce,de=a("2f62");i["a"].use(It.a),i["a"].use(de["a"]);var ue=new de["a"].Store({state:{initData:{},loading:!1,index:0,endPointApi:"/o/rest/v2",employeeSelected:""},actions:{loadInitResource:function(t){t.commit;var e=t.state;return new Promise((function(t,a){null!==window.themeDisplay&&void 0!==window.themeDisplay?(e.initData["groupId"]=window.themeDisplay.getScopeGroupId(),e.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(e.initData["groupId"]=0,e.initData["user"]={userName:"",userEmail:"",userId:20103}),t(e.initData)}))},loadVoting:function(t,e){t.commit;var a=t.state;return new Promise((function(t,i){ue.dispatch("loadInitResource").then((function(n){var o={headers:{groupId:a.initData.groupId}};ft.a.get(a.endPointApi+"/postal/votings/"+e.className+"/"+e.classPk,o).then((function(e){e.data?t(e.data):t([])})).catch((function(t){i(t)}))}))}))},loadVotingMotcua:function(t,e){t.commit;var a=t.state;return new Promise((function(t,i){ue.dispatch("loadInitResource").then((function(n){var o={headers:{groupId:a.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""}},s=new URLSearchParams;s.append("method","GET"),s.append("url","/postal/votings/"+e.className+"/"+e.classPk),s.append("serverCode","SERVER_"+e.itemCode),ft.a.post("/o/rest/v2/proxy",s,o).then((function(e){e.data?t(e.data):t([])})).catch((function(t){i(t)}))}))}))},loadImageEmployeeProxy:function(t,e){t.commit;var a=t.state;return new Promise((function(t,i){ue.dispatch("loadInitResource").then((function(n){var o={headers:{groupId:a.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""}},s=new URLSearchParams;s.append("method","GET"),s.append("url","/o/v1/opencps/users/avatar/org.opencps.usermgt.model.Employee/"+e["employeeId"]),s.append("serverCode","SERVER_"+e.itemCode),ft.a.post("/o/rest/v2/proxy",s,o).then((function(e){var a=response.data;t(a)})).catch((function(t){i(t)}))}))}))},loadImageEmployee:function(t,e){t.commit;var a=t.state;return new Promise((function(t,i){ue.dispatch("loadInitResource").then((function(n){var o={headers:{groupId:a.initData.groupId}};ft.a.get("/o/v1/opencps/users/avatar/org.opencps.usermgt.model.Employee/"+e["employeeId"],o).then((function(e){var a=e.data;t(a)})).catch((function(t){i(t)}))}))}))},loadGovAgencys:function(t,e){t.commit;var a=t.state;return new Promise((function(t,e){ue.dispatch("loadInitResource").then((function(i){var n={headers:{groupId:a.initData.groupId}};ft.a.get(a.endPointApi+"/dictcollections/GOVERNMENT_AGENCY/dictitems?sort=siblingSearch",n).then((function(e){e.data?t(e.data.data):t([])})).catch((function(t){e(t)}))}))}))},loadEmployees:function(t,e){t.commit;var a=t.state;return new Promise((function(t,i){ue.dispatch("loadInitResource").then((function(n){var o={headers:{groupId:a.initData.groupId},params:{jobposCode:"DANHGIA_"+e.itemCode,start:e.start,end:e.end}};ft.a.get(a.endPointApi+"/employees/publish/"+e.itemCode,o).then((function(e){if(e.data){var a=e.data.data;if(a&&a.length>0)for(var i in a)a[i].imgSrc="",a[i].score=0,a[i].totalVoting=0;var n=[e.data.total,a];t(n)}else t([])})).catch((function(t){i(t)}))}))}))},loadEmployeesProxy:function(t,e){t.commit;var a=t.state;return new Promise((function(t,i){ue.dispatch("loadInitResource").then((function(n){var o={headers:{groupId:a.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""}},s={jobposCode:"DANHGIA_"+e.itemCode,start:e.start,end:e.end},r=new URLSearchParams;r.append("method","GET"),r.append("url","/employees/publish/"+e.itemCode),r.append("data",JSON.stringify(s)),r.append("serverCode","SERVER_"+e.itemCode),ft.a.post("/o/rest/v2/proxy",r,o).then((function(e){if(e.data){var a=e.data.data;if(a&&a.length>0)for(var i in a)a[i].imgSrc="",a[i].score=0,a[i].totalVoting=0;var n=[e.data.total,a];t(n)}else t([])})).catch((function(t){i(t)}))}))}))},loadEmployeesMotcua:function(t,e){t.commit;var a=t.state;return new Promise((function(t,i){ue.dispatch("loadInitResource").then((function(){var n={headers:{groupId:a.initData.groupId},params:{start:e.start,end:e.end,status:1}};ft.a.get(a.endPointApi+"/employees",n).then((function(e){if(e.data){var a=e.data.data;if(a&&a.length>0)for(var i in a)a[i].imgSrc="",a[i].score=0,a[i].totalVoting=0;var n=[e.data.total,a];t(n)}else t([])})).catch((function(t){i(t)}))}))}))},getEmployee:function(t,e){t.commit;var a=t.state;return new Promise((function(t,i){ue.dispatch("loadInitResource").then((function(n){var o={headers:{groupId:a.initData.groupId}};ft.a.get(a.initData+"/employees/"+e.employeeId,o).then((function(e){t(e.data)})).catch((function(t){i(t)}))}))}))},checkPermisionVoting:function(t,e){t.commit;var a=t.state;return new Promise((function(t,i){ue.dispatch("loadInitResource").then((function(){var n={headers:{groupId:a.initData.groupId},params:{applicantIdNo:e.applicantIdNo,dossierNo:e.dossierNo}};ft.a.get(a.endPointApi+"/votings/checkpermission",n).then((function(e){var a=e.data;t(a)})).catch((function(t){i(t)}))}))}))},submitVoting:function(t,e){t.commit;var a=t.state;return new Promise((function(t,i){ue.dispatch("loadInitResource").then((function(n){var o=new URLSearchParams,s={headers:{groupId:a.initData.groupId}};e.comment&&o.append("comment",e.comment),o.append("selected",e.selected),o.append("className",e.className),o.append("classPk",e.classPk),ft.a.post(a.endPointApi+"/postal/votings/"+e.votingId+"/results",o,s).then((function(e){t(e.data)})).catch((function(t){i(t)}))}))}))},submitVotingProxy:function(t,e){t.commit;var a=t.state;return new Promise((function(t,i){ue.dispatch("loadInitResource").then((function(n){var o={headers:{groupId:a.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""}},s={selected:e.selected,className:e.className,classPk:e.classPk},r=new URLSearchParams;r.append("method","POST"),r.append("url","/postal/votings/"+e.votingId+"/results"),r.append("data",JSON.stringify(s)),r.append("serverCode","SERVER_"+e.itemCode),ft.a.post("/o/rest/v2/proxy",r,o).then((function(e){t(e.data)})).catch((function(t){i(t)}))}))}))},loadingDataHoSo:function(t,e){t.commit;var a=t.state;return new Promise((function(t,i){ue.dispatch("loadInitResource").then((function(n){var o={headers:{groupId:a.initData.groupId},params:{start:0,end:1,dossierNo:e.dossierNo?e.dossierNo:""}};ft.a.get(a.endPointApi+"/dossiers",o).then((function(e){var a=e.data;a.hasOwnProperty("data")?t(a.data[0]):i(e)})).catch((function(t){i(t)}))}))}))}},mutations:{setIndex:function(t,e){t.index=e},setInitData:function(t,e){t.initData=e},setEmployeeSelected:function(t,e){t.employeeSelected=e}},getters:{loading:function(t){return t.loading},index:function(t){return t.index},employeeSelected:function(t){return t.employeeSelected}}}),me=a("967d"),he=a("d8c5"),ge=a.n(he);a("bf40");i["a"].use(me["default"]),i["a"].use(ge.a);var fe=void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0;ft.a.defaults.withCredentials=!0,ft.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",ft.a.defaults.headers.common["groupId"]=fe,i["a"].config.productionTip=!0,i["a"].mixin({methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new i["a"]({router:pe,store:ue,render:function(t){return t(m)}}).$mount("#app_voting")}});